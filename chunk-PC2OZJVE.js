import{a as U,b as Re,e as C}from"./chunk-5FZOKLP6.js";function H(t){return typeof t=="function"}function gi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ja=gi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function br(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ce=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(H(r))try{r()}catch(s){e=s instanceof Ja?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{m_(s)}catch(o){e=e??[],o instanceof Ja?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ja(e)}}add(e){var n;if(e&&e!==this)if(this.closed)m_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&br(n,e)}remove(e){let{_finalizers:n}=this;n&&br(n,e),e instanceof t&&e._removeParent(this)}};Ce.EMPTY=(()=>{let t=new Ce;return t.closed=!0,t})();var Hd=Ce.EMPTY;function Za(t){return t instanceof Ce||t&&"closed"in t&&H(t.remove)&&H(t.add)&&H(t.unsubscribe)}function m_(t){H(t)?t():t.unsubscribe()}var kt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var mi={setTimeout(t,e,...n){let{delegate:r}=mi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=mi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Xa(t){mi.setTimeout(()=>{let{onUnhandledError:e}=kt;if(e)e(t);else throw t})}function Ys(){}var y_=zd("C",void 0,void 0);function v_(t){return zd("E",void 0,t)}function __(t){return zd("N",t,void 0)}function zd(t,e,n){return{kind:t,value:e,error:n}}var Cr=null;function yi(t){if(kt.useDeprecatedSynchronousErrorHandling){let e=!Cr;if(e&&(Cr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Cr;if(Cr=null,n)throw r}}else t()}function I_(t){kt.useDeprecatedSynchronousErrorHandling&&Cr&&(Cr.errorThrown=!0,Cr.error=t)}var Sr=class extends Ce{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Za(e)&&e.add(this)):this.destination=W0}static create(e,n,r){return new vi(e,n,r)}next(e){this.isStopped?Wd(__(e),this):this._next(e)}error(e){this.isStopped?Wd(v_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Wd(y_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},z0=Function.prototype.bind;function Gd(t,e){return z0.call(t,e)}var Kd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ec(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ec(r)}else ec(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ec(n)}}},vi=class extends Sr{constructor(e,n,r){super();let i;if(H(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&kt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Gd(e.next,s),error:e.error&&Gd(e.error,s),complete:e.complete&&Gd(e.complete,s)}):i=e}this.destination=new Kd(i)}};function ec(t){kt.useDeprecatedSynchronousErrorHandling?I_(t):Xa(t)}function G0(t){throw t}function Wd(t,e){let{onStoppedNotification:n}=kt;n&&mi.setTimeout(()=>n(t,e))}var W0={closed:!0,next:Ys,error:G0,complete:Ys};var _i=typeof Symbol=="function"&&Symbol.observable||"@@observable";function mt(t){return t}function tc(...t){return Qd(t)}function Qd(t){return t.length===0?mt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Z=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=Q0(n)?n:new vi(n,r,i);return yi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=w_(r),new r((i,s)=>{let o=new vi({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[_i](){return this}pipe(...n){return Qd(n)(this)}toPromise(n){return n=w_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function w_(t){var e;return(e=t??kt.Promise)!==null&&e!==void 0?e:Promise}function K0(t){return t&&H(t.next)&&H(t.error)&&H(t.complete)}function Q0(t){return t&&t instanceof Sr||K0(t)&&Za(t)}var{isArray:Y0}=Array,{getPrototypeOf:J0,prototype:Z0,keys:X0}=Object;function nc(t){if(t.length===1){let e=t[0];if(Y0(e))return{args:e,keys:null};if(eS(e)){let n=X0(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function eS(t){return t&&typeof t=="object"&&J0(t)===Z0}function Yd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function T_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{l(r.next(f))}catch(p){o(p)}}function u(f){try{l(r.throw(f))}catch(p){o(p)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function E_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ar(t){return this instanceof Ar?(this.v=t,this):new Ar(t)}function D_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(I){return function(S){return Promise.resolve(S).then(I,p)}}function a(I,S){r[I]&&(i[I]=function(R){return new Promise(function(N,k){s.push([I,R,N,k])>1||u(I,R)})},S&&(i[I]=S(i[I])))}function u(I,S){try{l(r[I](S))}catch(R){m(s[0][3],R)}}function l(I){I.value instanceof Ar?Promise.resolve(I.value.v).then(f,p):m(s[0][2],I)}function f(I){u("next",I)}function p(I){u("throw",I)}function m(I,S){I(S),s.shift(),s.length&&u(s[0][0],s[0][1])}}function b_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof E_=="function"?E_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var Ii=t=>t&&typeof t.length=="number"&&typeof t!="function";function rc(t){return H(t?.then)}function ic(t){return H(t[_i])}function sc(t){return Symbol.asyncIterator&&H(t?.[Symbol.asyncIterator])}function oc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function tS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ac=tS();function cc(t){return H(t?.[ac])}function uc(t){return D_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ar(n.read());if(i)return yield Ar(void 0);yield yield Ar(r)}}finally{n.releaseLock()}})}function lc(t){return H(t?.getReader)}function we(t){if(t instanceof Z)return t;if(t!=null){if(ic(t))return nS(t);if(Ii(t))return rS(t);if(rc(t))return iS(t);if(sc(t))return C_(t);if(cc(t))return sS(t);if(lc(t))return oS(t)}throw oc(t)}function nS(t){return new Z(e=>{let n=t[_i]();if(H(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function rS(t){return new Z(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function iS(t){return new Z(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Xa)})}function sS(t){return new Z(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function C_(t){return new Z(e=>{aS(t,e).catch(n=>e.error(n))})}function oS(t){return C_(uc(t))}function aS(t,e){var n,r,i,s;return T_(this,void 0,void 0,function*(){try{for(n=b_(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function lt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Jd(t){return H(t?.lift)}function oe(t){return e=>{if(Jd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ie(t,e,n,r,i){return new Zd(t,e,n,r,i)}var Zd=class extends Sr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Bn(t,e=0){return oe((n,r)=>{n.subscribe(ie(r,i=>lt(r,t,()=>r.next(i),e),()=>lt(r,t,()=>r.complete(),e),i=>lt(r,t,()=>r.error(i),e)))})}function $n(t,e=0){return oe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function S_(t,e){return we(t).pipe($n(e),Bn(e))}function A_(t,e){return we(t).pipe($n(e),Bn(e))}function R_(t,e){return new Z(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function N_(t,e){return new Z(n=>{let r;return lt(n,e,()=>{r=t[ac](),lt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>H(r?.return)&&r.return()})}function dc(t,e){if(!t)throw new Error("Iterable cannot be null");return new Z(n=>{lt(n,e,()=>{let r=t[Symbol.asyncIterator]();lt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function M_(t,e){return dc(uc(t),e)}function x_(t,e){if(t!=null){if(ic(t))return S_(t,e);if(Ii(t))return R_(t,e);if(rc(t))return A_(t,e);if(sc(t))return dc(t,e);if(cc(t))return N_(t,e);if(lc(t))return M_(t,e)}throw oc(t)}function Ee(t,e){return e?x_(t,e):we(t)}function X(t,e){return oe((n,r)=>{let i=0;n.subscribe(ie(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:cS}=Array;function uS(t,e){return cS(e)?t(...e):t(e)}function wi(t){return X(e=>uS(t,e))}function hc(t){return t&&H(t.schedule)}function Xd(t){return t[t.length-1]}function fc(t){return H(Xd(t))?t.pop():void 0}function Wt(t){return hc(Xd(t))?t.pop():void 0}function P_(t,e){return typeof Xd(t)=="number"?t.pop():e}function pc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Js(...t){let e=Wt(t),n=fc(t),{args:r,keys:i}=nc(t);if(r.length===0)return Ee([],e);let s=new Z(lS(r,e,i?o=>pc(i,o):mt));return n?s.pipe(wi(n)):s}function lS(t,e,n=mt){return r=>{O_(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)O_(e,()=>{let l=Ee(t[u],e),f=!1;l.subscribe(ie(r,p=>{s[u]=p,f||(f=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function O_(t,e,n){t?lt(n,t,e):e()}function Ei(){return oe((t,e)=>{let n=null;t._refCount++;let r=ie(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ti=class extends Z{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Jd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ce;let n=this.getSubject();e.add(this.source.subscribe(ie(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ce.EMPTY)}return e}refCount(){return Ei()(this)}};var Di={schedule(t){let e=requestAnimationFrame,n=cancelAnimationFrame,{delegate:r}=Di;r&&(e=r.requestAnimationFrame,n=r.cancelAnimationFrame);let i=e(s=>{n=void 0,t(s)});return new Ce(()=>n?.(i))},requestAnimationFrame(...t){let{delegate:e}=Di;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:e}=Di;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var k_=gi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Qe=(()=>{class t extends Z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new gc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new k_}next(n){yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Hd:(this.currentObservers=null,s.push(n),new Ce(()=>{this.currentObservers=null,br(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new Z;return n.source=this,n}}return t.create=(e,n)=>new gc(e,n),t})(),gc=class extends Qe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Hd}};var Be=class extends Qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var eh={now(){return(eh.delegate||Date).now()},delegate:void 0};var mc=class extends Ce{constructor(e,n){super()}schedule(e,n=0){return this}};var Zs={setInterval(t,e,...n){let{delegate:r}=Zs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Zs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var qn=class extends mc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Zs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Zs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,br(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var bi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};bi.now=eh.now;var Hn=class extends bi{constructor(e,n=bi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var zn=new Hn(qn),th=zn;var yc=class extends qn{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var vc=class extends Hn{};var nh=new vc(yc);var _c=class extends qn{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return r!==null&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=Di.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);let{actions:s}=e;n!=null&&n===e._scheduled&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==n&&(Di.cancelAnimationFrame(n),e._scheduled=void 0)}};var Ic=class extends Hn{flush(e){this._active=!0;let n;e?n=e.id:(n=this._scheduled,this._scheduled=void 0);let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw i}}};var dS=new Ic(_c);var st=new Z(t=>t.complete());function G(...t){let e=Wt(t);return Ee(t,e)}function Ci(t,e){let n=H(t)?t:()=>t,r=i=>i.error(n());return new Z(e?i=>e.schedule(r,0,i):r)}function rh(t){return!!t&&(t instanceof Z||H(t.lift)&&H(t.subscribe))}var _n=gi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function F_(t){return t instanceof Date&&!isNaN(t)}function L_(t,e,n,r,i,s,o,a){let u=[],l=0,f=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},I=R=>l<r?S(R):u.push(R),S=R=>{s&&e.next(R),l++;let N=!1;we(n(R,f++)).subscribe(ie(e,k=>{i?.(k),s?I(k):e.next(k)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let k=u.shift();o?lt(e,o,()=>S(k)):S(k)}m()}catch(k){e.error(k)}}))};return t.subscribe(ie(e,I,()=>{p=!0,m()})),()=>{a?.()}}function Ne(t,e,n=1/0){return H(e)?Ne((r,i)=>X((s,o)=>e(r,s,i,o))(we(t(r,i))),n):(typeof e=="number"&&(n=e),oe((r,i)=>L_(r,i,t,n)))}function Gn(t=1/0){return Ne(mt,t)}function V_(){return Gn(1)}function Si(...t){return V_()(Ee(t,Wt(t)))}function wc(t){return new Z(e=>{we(t()).subscribe(e)})}function hS(...t){let e=fc(t),{args:n,keys:r}=nc(t),i=new Z(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let f=0;f<o;f++){let p=!1;we(n[f]).subscribe(ie(s,m=>{p||(p=!0,l--),a[f]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?pc(r,a):a),s.complete())}))}});return e?i.pipe(wi(e)):i}var fS=["addListener","removeListener"],pS=["addEventListener","removeEventListener"],gS=["on","off"];function ih(t,e,n,r){if(H(n)&&(r=n,n=void 0),r)return ih(t,e,n).pipe(wi(r));let[i,s]=vS(t)?pS.map(o=>a=>t[o](e,a,n)):mS(t)?fS.map(U_(t,e)):yS(t)?gS.map(U_(t,e)):[];if(!i&&Ii(t))return Ne(o=>ih(o,e,n))(we(t));if(!i)throw new TypeError("Invalid event target");return new Z(o=>{let a=(...u)=>o.next(1<u.length?u:u[0]);return i(a),()=>s(a)})}function U_(t,e){return n=>r=>t[n](e,r)}function mS(t){return H(t.addListener)&&H(t.removeListener)}function yS(t){return H(t.on)&&H(t.off)}function vS(t){return H(t.addEventListener)&&H(t.removeEventListener)}function Ec(t=0,e,n=th){let r=-1;return e!=null&&(hc(e)?n=e:r=e),new Z(i=>{let s=F_(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function _S(t=0,e=zn){return t<0&&(t=0),Ec(t,t,e)}function IS(...t){let e=Wt(t),n=P_(t,1/0),r=t;return r.length?r.length===1?we(r[0]):Gn(n)(Ee(r,e)):st}function ot(t,e){return oe((n,r)=>{let i=0;n.subscribe(ie(r,s=>t.call(e,s,i++)&&r.next(s)))})}function j_(t){return oe((e,n)=>{let r=!1,i=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;let l=i;i=null,n.next(l)}o&&n.complete()},u=()=>{s=null,o&&n.complete()};e.subscribe(ie(n,l=>{r=!0,i=l,s||we(t(l)).subscribe(s=ie(n,a,u))},()=>{o=!0,(!r||!s||s.closed)&&n.complete()}))})}function wS(t,e=zn){return j_(()=>Ec(t,e))}function Wn(t){return oe((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ie(n,void 0,void 0,o=>{s=we(t(o,Wn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function B_(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(ie(o,f=>{let p=l++;u=a?t(u,f,p):(a=!0,f),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function In(t,e){return H(e)?Ne(t,e,1):Ne(t,1)}function Kn(t){return oe((e,n)=>{let r=!1;e.subscribe(ie(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function wn(t){return t<=0?()=>st:oe((e,n)=>{let r=0;e.subscribe(ie(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function sh(t){return X(()=>t)}function Tc(t=ES){return oe((e,n)=>{let r=!1;e.subscribe(ie(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function ES(){return new _n}function Qn(t){return oe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Kt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ot((i,s)=>t(i,s,r)):mt,wn(1),n?Kn(e):Tc(()=>new _n))}function Ai(t){return t<=0?()=>st:oe((e,n)=>{let r=[];e.subscribe(ie(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function oh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ot((i,s)=>t(i,s,r)):mt,Ai(1),n?Kn(e):Tc(()=>new _n))}function Dc(t,e){return oe(B_(t,e,arguments.length>=2,!0))}function bc(...t){let e=Wt(t);return oe((n,r)=>{(e?Si(t,n,e):Si(t,n)).subscribe(r)})}function dt(t,e){return oe((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ie(r,u=>{i?.unsubscribe();let l=0,f=s++;we(t(u,f)).subscribe(i=ie(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ah(t){return oe((e,n)=>{we(t).subscribe(ie(n,()=>n.complete(),Ys)),!n.closed&&e.subscribe(n)})}function xe(t,e,n){let r=H(t)||e||n?{next:t,error:e,complete:n}:t;return r?oe((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ie(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):mt}var $_=null;var ch=1,uh=Symbol("SIGNAL");function fe(t){let e=$_;return $_=t,e}var q_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function TS(t){if(!(hh(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ch)){if(!t.producerMustRecompute(t)&&!lh(t)){t.dirty=!1,t.lastCleanEpoch=ch;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ch}}function H_(t){return t&&(t.nextProducerIndex=0),fe(t)}function z_(t,e){if(fe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(hh(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)dh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function lh(t){Cc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(TS(n),r!==n.version))return!0}return!1}function G_(t){if(Cc(t),hh(t))for(let e=0;e<t.producerNode.length;e++)dh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function dh(t,e){if(DS(t),Cc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)dh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Cc(i),i.producerIndexOfThis[r]=e}}function hh(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Cc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function DS(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function bS(){throw new Error}var CS=bS;function W_(t){CS=t}var xI="https://g.co/ng/security#xss",B=class extends Error{constructor(e,n){super(iu(e,n)),this.code=e}};function iu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function lo(t){return{toString:t}.toString()}var Sc="__parameters__";function SS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function PI(t,e,n){return lo(()=>{let r=SS(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,f){let p=u.hasOwnProperty(Sc)?u[Sc]:Object.defineProperty(u,Sc,{value:[]})[Sc];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Rr=globalThis;function Ie(t){for(let e in t)if(t[e]===Ie)return e;throw Error("Could not find renamed property on target object.")}function AS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ct(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ct).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function K_(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var RS=Ie({__forward_ref__:Ie});function OI(t){return t.__forward_ref__=OI,t.toString=function(){return ct(this())},t}function at(t){return kI(t)?t():t}function kI(t){return typeof t=="function"&&t.hasOwnProperty(RS)&&t.__forward_ref__===OI}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Br(t){return{providers:t.providers||[],imports:t.imports||[]}}function su(t){return Q_(t,LI)||Q_(t,VI)}function FI(t){return su(t)!==null}function Q_(t,e){return t.hasOwnProperty(e)?t[e]:null}function NS(t){let e=t&&(t[LI]||t[VI]);return e||null}function Y_(t){return t&&(t.hasOwnProperty(J_)||t.hasOwnProperty(MS))?t[J_]:null}var LI=Ie({\u0275prov:Ie}),J_=Ie({\u0275inj:Ie}),VI=Ie({ngInjectableDef:Ie}),MS=Ie({ngInjectorDef:Ie}),z=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function UI(t){return t&&!!t.\u0275providers}var xS=Ie({\u0275cmp:Ie}),PS=Ie({\u0275dir:Ie}),OS=Ie({\u0275pipe:Ie}),kS=Ie({\u0275mod:Ie}),Fc=Ie({\u0275fac:Ie}),Xs=Ie({__NG_ELEMENT_ID__:Ie}),Z_=Ie({__NG_ENV_ID__:Ie});function En(t){return typeof t=="string"?t:t==null?"":String(t)}function FS(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():En(t)}function LS(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new B(-200,t)}function _f(t,e){throw new B(-201,!1)}var se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(se||{}),Ah;function jI(){return Ah}function ht(t){let e=Ah;return Ah=t,e}function BI(t,e,n){let r=su(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&se.Optional)return null;if(e!==void 0)return e;_f(t,"Injector")}var VS={},eo=VS,Rh="__NG_DI_FLAG__",Lc="ngTempTokenPath",US="ngTokenPath",jS=/\n/gm,BS="\u0275",X_="__source",Pi;function $S(){return Pi}function Yn(t){let e=Pi;return Pi=t,e}function qS(t,e=se.Default){if(Pi===void 0)throw new B(-203,!1);return Pi===null?BI(t,void 0,e):Pi.get(t,e&se.Optional?null:void 0,e)}function $(t,e=se.Default){return(jI()||qS)(at(t),e)}function P(t,e=se.Default){return $(t,ou(e))}function ou(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Nh(t){let e=[];for(let n=0;n<t.length;n++){let r=at(t[n]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,s=se.Default;for(let o=0;o<r.length;o++){let a=r[o],u=HS(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push($(i,s))}else e.push($(r))}return e}function $I(t,e){return t[Rh]=e,t.prototype[Rh]=e,t}function HS(t){return t[Rh]}function zS(t,e,n,r){let i=t[Lc];throw e[X_]&&i.unshift(e[X_]),t.message=GS(`
`+t.message,i,n,r),t[US]=i,t[Lc]=null,t}function GS(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==BS?t.slice(2):t;let i=ct(e);if(Array.isArray(e))i=e.map(ct).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ct(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(jS,`
  `)}`}var yt=$I(PI("Optional"),8);var au=$I(PI("SkipSelf"),4);function xr(t,e){let n=t.hasOwnProperty(Fc);return n?t[Fc]:null}function If(t,e){t.forEach(n=>Array.isArray(n)?If(n,e):e(n))}function qI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Vc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function WS(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function KS(t,e,n){let r=ho(t,e);return r>=0?t[r|1]=n:(r=~r,WS(t,r,e,n)),r}function fh(t,e){let n=ho(t,e);if(n>=0)return t[n|1]}function ho(t,e){return QS(t,e,1)}function QS(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ki={},Tt=[],Fi=new z(""),HI=new z("",-1),zI=new z(""),Uc=class{get(e,n=eo){if(n===eo){let r=new Error(`NullInjectorError: No provider for ${ct(e)}!`);throw r.name="NullInjectorError",r}return n}},GI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(GI||{}),Jt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Jt||{}),Ut=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ut||{});function YS(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Mh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];JS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function WI(t){return t===3||t===4||t===6}function JS(t){return t.charCodeAt(0)===64}function to(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?eI(t,n,i,null,e[++r]):eI(t,n,i,null,null))}}return t}function eI(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var KI="ng-template";function ZS(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&YS(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(wf(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function wf(t){return t.type===4&&t.value!==KI}function XS(t,e,n){let r=t.type===4&&!n?KI:t.value;return e===r}function eA(t,e,n){let r=4,i=t.attrs,s=i!==null?rA(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Ft(r)&&!Ft(u))return!1;if(o&&Ft(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!XS(t,u,n)||u===""&&e.length===1){if(Ft(r))return!1;o=!0}}else if(r&8){if(i===null||!ZS(t,i,u,n)){if(Ft(r))return!1;o=!0}}else{let l=e[++a],f=tA(u,i,wf(t),n);if(f===-1){if(Ft(r))return!1;o=!0;continue}if(l!==""){let p;if(f>s?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(Ft(r))return!1;o=!0}}}}return Ft(r)||o}function Ft(t){return(t&1)===0}function tA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return iA(e,t)}function nA(t,e,n=!1){for(let r=0;r<e.length;r++)if(eA(t,e[r],n))return!0;return!1}function rA(t){for(let e=0;e<t.length;e++){let n=t[e];if(WI(n))return e}return t.length}function iA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function tI(t,e){return t?":not("+e.trim()+")":e}function sA(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Ft(o)&&(e+=tI(s,i),i=""),r=o,s=s||!Ft(r);n++}return i!==""&&(e+=tI(s,i)),e}function oA(t){return t.map(sA).join(",")}function aA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Ft(i))break;i=s}r++}return{attrs:e,classes:n}}function QI(t){return lo(()=>{let e=ew(t),n=Re(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===GI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Jt.Emulated,styles:t.styles||Tt,_:null,schemas:t.schemas||null,tView:null,id:""});tw(n);let r=t.dependencies;return n.directiveDefs=rI(r,!1),n.pipeDefs=rI(r,!0),n.id=lA(n),n})}function cA(t){return Tn(t)||YI(t)}function uA(t){return t!==null}function $r(t){return lo(()=>({type:t.type,bootstrap:t.bootstrap||Tt,declarations:t.declarations||Tt,imports:t.imports||Tt,exports:t.exports||Tt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function nI(t,e){if(t==null)return ki;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Ut.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Ut.None?[r,a]:r,e[s]=o):n[s]=r}return n}function $i(t){return lo(()=>{let e=ew(t);return tw(e),e})}function Ef(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Tn(t){return t[xS]||null}function YI(t){return t[PS]||null}function JI(t){return t[OS]||null}function ZI(t){let e=Tn(t)||YI(t)||JI(t);return e!==null?e.standalone:!1}function XI(t,e){let n=t[kS]||null;if(!n&&e===!0)throw new Error(`Type ${ct(t)} does not have '\u0275mod' property.`);return n}function ew(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ki,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Tt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:nI(t.inputs,e),outputs:nI(t.outputs),debugInfo:null}}function tw(t){t.features?.forEach(e=>e(t))}function rI(t,e){if(!t)return null;let n=e?JI:cA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(uA)}function lA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function tn(t){return{\u0275providers:t}}function dA(...t){return{\u0275providers:nw(!0,t),\u0275fromNgModule:!0}}function nw(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return If(e,o=>{let a=o;xh(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&rw(i,s),n}function rw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Tf(i,s=>{e(s,r)})}}function xh(t,e,n,r){if(t=at(t),!t)return!1;let i=null,s=Y_(t),o=!s&&Tn(t);if(!s&&!o){let u=t.ngModule;if(s=Y_(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)xh(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{If(s.imports,f=>{xh(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&rw(l,e)}if(!a){let l=xr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Tt},i),e({provide:zI,useValue:i,multi:!0},i),e({provide:Fi,useValue:()=>$(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;Tf(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Tf(t,e){for(let n of t)UI(n)&&(n=n.\u0275providers),Array.isArray(n)?Tf(n,e):e(n)}var hA=Ie({provide:String,useValue:Ie});function iw(t){return t!==null&&typeof t=="object"&&hA in t}function fA(t){return!!(t&&t.useExisting)}function pA(t){return!!(t&&t.useFactory)}function Li(t){return typeof t=="function"}function gA(t){return!!t.useClass}var cu=new z(""),Mc={},mA={},ph;function uu(){return ph===void 0&&(ph=new Uc),ph}var Ye=class{},no=class extends Ye{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Oh(e,o=>this.processProvider(o)),this.records.set(HI,Ri(void 0,this)),i.has("environment")&&this.records.set(Ye,Ri(void 0,this));let s=this.records.get(cu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(zI,Tt,se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Yn(this),r=ht(void 0),i;try{return e()}finally{Yn(n),ht(r)}}get(e,n=eo,r=se.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Z_))return e[Z_](this);r=ou(r);let i,s=Yn(this),o=ht(void 0);try{if(!(r&se.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=wA(e)&&su(e);l&&this.injectableDefInScope(l)?u=Ri(Ph(e),Mc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&se.Self?uu():this.parent;return n=r&se.Optional&&n===eo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Lc]=a[Lc]||[]).unshift(ct(e)),s)throw a;return zS(a,e,"R3InjectorError",this.source)}else throw a}finally{ht(o),Yn(s)}}resolveInjectorInitializers(){let e=fe(null),n=Yn(this),r=ht(void 0),i;try{let s=this.get(Fi,Tt,se.Self);for(let o of s)o()}finally{Yn(n),ht(r),fe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ct(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(e){e=at(e);let n=Li(e)?e:at(e&&e.provide),r=vA(e);if(!Li(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ri(void 0,Mc,!0),i.factory=()=>Nh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=fe(null);try{return n.value===Mc&&(n.value=mA,n.value=n.factory()),typeof n.value=="object"&&n.value&&IA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{fe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=at(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ph(t){let e=su(t),n=e!==null?e.factory:xr(t);if(n!==null)return n;if(t instanceof z)throw new B(204,!1);if(t instanceof Function)return yA(t);throw new B(204,!1)}function yA(t){if(t.length>0)throw new B(204,!1);let n=NS(t);return n!==null?()=>n.factory(t):()=>new t}function vA(t){if(iw(t))return Ri(void 0,t.useValue);{let e=sw(t);return Ri(e,Mc)}}function sw(t,e,n){let r;if(Li(t)){let i=at(t);return xr(i)||Ph(i)}else if(iw(t))r=()=>at(t.useValue);else if(pA(t))r=()=>t.useFactory(...Nh(t.deps||[]));else if(fA(t))r=()=>$(at(t.useExisting));else{let i=at(t&&(t.useClass||t.provide));if(_A(t))r=()=>new i(...Nh(t.deps));else return xr(i)||Ph(i)}return r}function Ri(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function _A(t){return!!t.deps}function IA(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function wA(t){return typeof t=="function"||typeof t=="object"&&t instanceof z}function Oh(t,e){for(let n of t)Array.isArray(n)?Oh(n,e):n&&UI(n)?Oh(n.\u0275providers,e):e(n)}function qt(t,e){t instanceof no&&t.assertNotDestroyed();let n,r=Yn(t),i=ht(void 0);try{return e()}finally{Yn(r),ht(i)}}function ow(){return jI()!==void 0||$S()!=null}function EA(t){if(!ow())throw new B(-203,!1)}function TA(t){return typeof t=="function"}var Cn=0,ae=1,Q=2,Je=3,Vt=4,Ht=5,jc=6,ro=7,jt=8,Vi=9,Bt=10,Fe=11,io=12,iI=13,qi=14,Zt=15,lu=16,Ni=17,Ui=18,du=19,aw=20,Jn=21,gh=22,Pr=23,$t=25,cw=1;var Or=7,Bc=8,$c=9,Dt=10,Df=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Df||{});function Nr(t){return Array.isArray(t)&&typeof t[cw]=="object"}function Sn(t){return Array.isArray(t)&&t[cw]===!0}function uw(t){return(t.flags&4)!==0}function hu(t){return t.componentOffset>-1}function bf(t){return(t.flags&1)===1}function Zn(t){return!!t.template}function DA(t){return(t[Q]&512)!==0}var kh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function lw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function fo(){return dw}function dw(t){return t.type.prototype.ngOnChanges&&(t.setInput=CA),bA}fo.ngInherit=!0;function bA(){let t=fw(this),e=t?.current;if(e){let n=t.previous;if(n===ki)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function CA(t,e,n,r,i){let s=this.declaredInputs[r],o=fw(t)||SA(t,{previous:ki,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new kh(l&&l.currentValue,n,u===ki),lw(t,e,i,n)}var hw="__ngSimpleChanges__";function fw(t){return t[hw]||null}function SA(t,e){return t[hw]=e}var sI=null;var Qt=function(t,e,n){sI?.(t,e,n)},pw="svg",AA="math",RA=!1;function NA(){return RA}function Xt(t){for(;Array.isArray(t);)t=t[Cn];return t}function gw(t,e){return Xt(e[t])}function bt(t,e){return Xt(e[t.index])}function mw(t,e){return t.data[e]}function yw(t,e){return t[e]}function tr(t,e){let n=e[t];return Nr(n)?n:n[Cn]}function Cf(t){return(t[Q]&128)===128}function MA(t){return Sn(t[Je])}function qc(t,e){return e==null?null:t[e]}function vw(t){t[Ni]=0}function xA(t){t[Q]&1024||(t[Q]|=1024,Cf(t)&&so(t))}function PA(t,e){for(;t>0;)e=e[qi],t--;return e}function Sf(t){return!!(t[Q]&9216||t[Pr]?.dirty)}function Fh(t){t[Bt].changeDetectionScheduler?.notify(1),Sf(t)?so(t):t[Q]&64&&(NA()?(t[Q]|=1024,so(t)):t[Bt].changeDetectionScheduler?.notify())}function so(t){t[Bt].changeDetectionScheduler?.notify();let e=oo(t);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!Cf(e)));)e=oo(e)}function _w(t,e){if((t[Q]&256)===256)throw new B(911,!1);t[Jn]===null&&(t[Jn]=[]),t[Jn].push(e)}function OA(t,e){if(t[Jn]===null)return;let n=t[Jn].indexOf(e);n!==-1&&t[Jn].splice(n,1)}function oo(t){let e=t[Je];return Sn(e)?e[Je]:e}var te={lFrame:Sw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function kA(){return te.lFrame.elementDepthCount}function FA(){te.lFrame.elementDepthCount++}function LA(){te.lFrame.elementDepthCount--}function Iw(){return te.bindingsEnabled}function VA(){return te.skipHydrationRootTNode!==null}function UA(t){return te.skipHydrationRootTNode===t}function jA(){te.skipHydrationRootTNode=null}function pe(){return te.lFrame.lView}function ft(){return te.lFrame.tView}function Jz(t){return te.lFrame.contextLView=t,t[jt]}function Zz(t){return te.lFrame.contextLView=null,t}function pt(){let t=ww();for(;t!==null&&t.type===64;)t=t.parent;return t}function ww(){return te.lFrame.currentTNode}function BA(){let t=te.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function po(t,e){let n=te.lFrame;n.currentTNode=t,n.isParent=e}function Ew(){return te.lFrame.isParent}function $A(){te.lFrame.isParent=!1}function qA(){return te.lFrame.contextLView}function Af(){let t=te.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Tw(){return te.lFrame.bindingIndex}function HA(t){return te.lFrame.bindingIndex=t}function fu(){return te.lFrame.bindingIndex++}function Rf(t){let e=te.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function zA(){return te.lFrame.inI18n}function GA(t,e){let n=te.lFrame;n.bindingIndex=n.bindingRootIndex=t,Lh(e)}function WA(){return te.lFrame.currentDirectiveIndex}function Lh(t){te.lFrame.currentDirectiveIndex=t}function KA(t){let e=te.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Dw(t){te.lFrame.currentQueryIndex=t}function QA(t){let e=t[ae];return e.type===2?e.declTNode:e.type===1?t[Ht]:null}function bw(t,e,n){if(n&se.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&se.Host);)if(i=QA(s),i===null||(s=s[qi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=te.lFrame=Cw();return r.currentTNode=e,r.lView=t,!0}function Nf(t){let e=Cw(),n=t[ae];te.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Cw(){let t=te.lFrame,e=t===null?null:t.child;return e===null?Sw(t):e}function Sw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Aw(){let t=te.lFrame;return te.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Rw=Aw;function Mf(){let t=Aw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function YA(t){return(te.lFrame.contextLView=PA(t,te.lFrame.contextLView))[jt]}function nr(){return te.lFrame.selectedIndex}function kr(t){te.lFrame.selectedIndex=t}function xf(){let t=te.lFrame;return mw(t.tView,t.selectedIndex)}function Xz(){te.lFrame.currentNamespace=pw}function e4(){JA()}function JA(){te.lFrame.currentNamespace=null}function ZA(){return te.lFrame.currentNamespace}var Nw=!0;function Pf(){return Nw}function Of(t){Nw=t}function XA(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=dw(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function kf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function xc(t,e,n){Mw(t,e,3,n)}function Pc(t,e,n,r){(t[Q]&3)===n&&Mw(t,e,n,r)}function mh(t,e){let n=t[Q];(n&3)===e&&(n&=16383,n+=1,t[Q]=n)}function Mw(t,e,n,r){let i=r!==void 0?t[Ni]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Ni]+=65536),(a<s||s==-1)&&(eR(t,n,e,u),t[Ni]=(t[Ni]&4294901760)+u+2),u++}function oI(t,e){Qt(4,t,e);let n=fe(null);try{e.call(t)}finally{fe(n),Qt(5,t,e)}}function eR(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[Q]>>14<t[Ni]>>16&&(t[Q]&3)===e&&(t[Q]+=16384,oI(a,s)):oI(a,s)}var Oi=-1,Fr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function tR(t){return t instanceof Fr}function nR(t){return(t.flags&8)!==0}function rR(t){return(t.flags&16)!==0}function xw(t){return t!==Oi}function Hc(t){return t&32767}function iR(t){return t>>16}function zc(t,e){let n=iR(t),r=e;for(;n>0;)r=r[qi],n--;return r}var Vh=!0;function Gc(t){let e=Vh;return Vh=t,e}var sR=256,Pw=sR-1,Ow=5,oR=0,Yt={};function aR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Xs)&&(r=n[Xs]),r==null&&(r=n[Xs]=oR++);let i=r&Pw,s=1<<i;e.data[t+(i>>Ow)]|=s}function Wc(t,e){let n=kw(t,e);if(n!==-1)return n;let r=e[ae];r.firstCreatePass&&(t.injectorIndex=e.length,yh(r.data,t),yh(e,null),yh(r.blueprint,null));let i=Ff(t,e),s=t.injectorIndex;if(xw(i)){let o=Hc(i),a=zc(i,e),u=a[ae].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function yh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function kw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ff(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=jw(i),r===null)return Oi;if(n++,i=i[qi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Oi}function Uh(t,e,n){aR(t,e,n)}function cR(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(WI(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function Fw(t,e,n){if(n&se.Optional||t!==void 0)return t;_f(e,"NodeInjector")}function Lw(t,e,n,r){if(n&se.Optional&&r===void 0&&(r=null),!(n&(se.Self|se.Host))){let i=t[Vi],s=ht(void 0);try{return i?i.get(e,r,n&se.Optional):BI(e,r,n&se.Optional)}finally{ht(s)}}return Fw(r,e,n)}function Vw(t,e,n,r=se.Default,i){if(t!==null){if(e[Q]&2048&&!(r&se.Self)){let o=fR(t,e,n,r,Yt);if(o!==Yt)return o}let s=Uw(t,e,n,r,Yt);if(s!==Yt)return s}return Lw(e,n,r,i)}function Uw(t,e,n,r,i){let s=dR(n);if(typeof s=="function"){if(!bw(e,t,r))return r&se.Host?Fw(i,n,r):Lw(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&se.Optional))_f(n);else return o}finally{Rw()}}else if(typeof s=="number"){let o=null,a=kw(t,e),u=Oi,l=r&se.Host?e[Zt][Ht]:null;for((a===-1||r&se.SkipSelf)&&(u=a===-1?Ff(t,e):e[a+8],u===Oi||!cI(r,!1)?a=-1:(o=e[ae],a=Hc(u),e=zc(u,e)));a!==-1;){let f=e[ae];if(aI(s,a,f.data)){let p=uR(a,e,n,o,r,l);if(p!==Yt)return p}u=e[a+8],u!==Oi&&cI(r,e[ae].data[a+8]===l)&&aI(s,a,e)?(o=f,a=Hc(u),e=zc(u,e)):a=-1}}return i}function uR(t,e,n,r,i,s){let o=e[ae],a=o.data[t+8],u=r==null?hu(a)&&Vh:r!=o&&(a.type&3)!==0,l=i&se.Host&&s===a,f=lR(a,o,n,u,l);return f!==null?ji(e,o,f,a):Yt}function lR(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,f=s>>20,p=r?a:a+f,m=i?a+f:l;for(let I=p;I<m;I++){let S=o[I];if(I<u&&n===S||I>=u&&S.type===n)return I}if(i){let I=o[u];if(I&&Zn(I)&&I.type===n)return u}return null}function ji(t,e,n,r){let i=t[n],s=e.data;if(tR(i)){let o=i;o.resolving&&LS(FS(s[n]));let a=Gc(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?ht(o.injectImpl):null,f=bw(t,r,se.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&XA(n,s[n],e)}finally{l!==null&&ht(l),Gc(a),o.resolving=!1,Rw()}}return i}function dR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Xs)?t[Xs]:void 0;return typeof e=="number"?e>=0?e&Pw:hR:e}function aI(t,e,n){let r=1<<t;return!!(n[e+(t>>Ow)]&r)}function cI(t,e){return!(t&se.Self)&&!(t&se.Host&&e)}var Mr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Vw(this._tNode,this._lView,e,ou(r),n)}};function hR(){return new Mr(pt(),pe())}function Lf(t){return lo(()=>{let e=t.prototype.constructor,n=e[Fc]||jh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Fc]||jh(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function jh(t){return kI(t)?()=>{let e=jh(at(t));return e&&e()}:xr(t)}function fR(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[Q]&2048&&!(o[Q]&512);){let a=Uw(s,o,n,r|se.Self,Yt);if(a!==Yt)return a;let u=s.parent;if(!u){let l=o[aw];if(l){let f=l.get(n,Yt,r);if(f!==Yt)return f}u=jw(o),o=o[qi]}s=u}return i}function jw(t){let e=t[ae],n=e.type;return n===2?e.declTNode:n===1?t[Ht]:null}function Vf(t){return cR(pt(),t)}function uI(t,e=null,n=null,r){let i=Bw(t,e,n,r);return i.resolveInjectorInitializers(),i}function Bw(t,e=null,n=null,r,i=new Set){let s=[n||Tt,dA(t)];return r=r||(typeof t=="object"?void 0:ct(t)),new no(s,e||uu(),r||null,i)}var Ct=(()=>{class t{static{this.THROW_IF_NOT_FOUND=eo}static{this.NULL=new Uc}static create(n,r){if(Array.isArray(n))return uI({name:""},r,n,"");{let i=n.name??"";return uI({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=j({token:t,providedIn:"any",factory:()=>$(HI)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();var pR="ngOriginalError";function vh(t){return t[pR]}var en=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&vh(e);for(;n&&vh(n);)n=vh(n);return n||null}},$w=new z("",{providedIn:"root",factory:()=>P(en).handleError.bind(void 0)}),Uf=(()=>{class t{static{this.__NG_ELEMENT_ID__=gR}static{this.__NG_ENV_ID__=n=>n}}return t})(),Bh=class extends Uf{constructor(e){super(),this._lView=e}onDestroy(e){return _w(this._lView,e),()=>OA(this._lView,e)}};function gR(){return new Bh(pe())}function mR(){return pu(pt(),pe())}function pu(t,e){return new go(bt(t,e))}var go=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=mR}}return t})();var $h=class extends Qe{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,ow()&&(this.destroyRef=P(Uf,{optional:!0})??void 0)}emit(e){let n=fe(null);try{super.next(e)}finally{fe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=_h(s),i&&(i=_h(i)),o&&(o=_h(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ce&&e.add(a),a}};function _h(t){return e=>{setTimeout(t,void 0,e)}}var Lt=$h;function qw(t){return(t.flags&128)===128}var Hw=new Map,yR=0;function vR(){return yR++}function _R(t){Hw.set(t[du],t)}function IR(t){Hw.delete(t[du])}var lI="__ngContext__";function Lr(t,e){Nr(e)?(t[lI]=e[du],_R(e)):t[lI]=e}function zw(t){return Ww(t[io])}function Gw(t){return Ww(t[Vt])}function Ww(t){for(;t!==null&&!Sn(t);)t=t[Vt];return t}var qh;function Kw(t){qh=t}function wR(){if(qh!==void 0)return qh;if(typeof document<"u")return document;throw new B(210,!1)}var jf=new z("",{providedIn:"root",factory:()=>ER}),ER="ng",Bf=new z(""),St=new z("",{providedIn:"platform",factory:()=>"unknown"});var $f=new z("",{providedIn:"root",factory:()=>wR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var TR="h",DR="b";var bR=()=>null;function qf(t,e,n=!1){return bR(t,e,n)}var Qw=!1,CR=new z("",{providedIn:"root",factory:()=>Qw});var Ac;function SR(){if(Ac===void 0&&(Ac=null,Rr.trustedTypes))try{Ac=Rr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ac}function dI(t){return SR()?.createScriptURL(t)||t}var Kc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xI})`}};function mo(t){return t instanceof Kc?t.changingThisBreaksApplicationSecurity:t}function Hf(t,e){let n=AR(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${xI})`)}return n===e}function AR(t){return t instanceof Kc&&t.getTypeName()||null}var RR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Yw(t){return t=String(t),t.match(RR)?t:"unsafe:"+t}var gu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(gu||{});function NR(t){let e=Zw();return e?e.sanitize(gu.URL,t)||"":Hf(t,"URL")?mo(t):Yw(En(t))}function MR(t){let e=Zw();if(e)return dI(e.sanitize(gu.RESOURCE_URL,t)||"");if(Hf(t,"ResourceURL"))return dI(mo(t));throw new B(904,!1)}function xR(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?MR:NR}function Jw(t,e,n){return xR(e,n)(t)}function Zw(){let t=pe();return t&&t[Bt].sanitizer}function Xw(t){return t instanceof Function?t():t}function PR(t){return(t??P(Ct)).get(St)==="browser"}var Dn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Dn||{}),OR;function zf(t,e){return OR(t,e)}function Mi(t,e,n,r,i){if(r!=null){let s,o=!1;Sn(r)?s=r:Nr(r)&&(o=!0,r=r[Cn]);let a=Xt(r);t===0&&n!==null?i==null?iE(e,n,a):Qc(e,n,a,i||null,!0):t===1&&n!==null?Qc(e,n,a,i||null,!0):t===2?JR(e,a,o):t===3&&e.destroyNode(a),s!=null&&XR(e,t,s,n,i)}}function kR(t,e){return t.createText(e)}function FR(t,e,n){t.setValue(e,n)}function eE(t,e,n){return t.createElement(e,n)}function LR(t,e){tE(t,e),e[Cn]=null,e[Ht]=null}function VR(t,e,n,r,i,s){r[Cn]=i,r[Ht]=e,mu(t,r,n,1,i,s)}function tE(t,e){e[Bt].changeDetectionScheduler?.notify(1),mu(t,e,e[Fe],2,null,null)}function UR(t){let e=t[io];if(!e)return Ih(t[ae],t);for(;e;){let n=null;if(Nr(e))n=e[io];else{let r=e[Dt];r&&(n=r)}if(!n){for(;e&&!e[Vt]&&e!==t;)Nr(e)&&Ih(e[ae],e),e=e[Je];e===null&&(e=t),Nr(e)&&Ih(e[ae],e),n=e&&e[Vt]}e=n}}function jR(t,e,n,r){let i=Dt+r,s=n.length;r>0&&(n[i-1][Vt]=e),r<s-Dt?(e[Vt]=n[i],qI(n,Dt+r,e)):(n.push(e),e[Vt]=null),e[Je]=n;let o=e[lu];o!==null&&n!==o&&BR(o,e);let a=e[Ui];a!==null&&a.insertView(t),Fh(e),e[Q]|=128}function BR(t,e){let n=t[$c],i=e[Je][Je][Zt];e[Zt]!==i&&(t[Q]|=Df.HasTransplantedViews),n===null?t[$c]=[e]:n.push(e)}function nE(t,e){let n=t[$c],r=n.indexOf(e);n.splice(r,1)}function Hh(t,e){if(t.length<=Dt)return;let n=Dt+e,r=t[n];if(r){let i=r[lu];i!==null&&i!==t&&nE(i,r),e>0&&(t[n-1][Vt]=r[Vt]);let s=Vc(t,Dt+e);LR(r[ae],r);let o=s[Ui];o!==null&&o.detachView(s[ae]),r[Je]=null,r[Vt]=null,r[Q]&=-129}return r}function rE(t,e){if(!(e[Q]&256)){let n=e[Fe];n.destroyNode&&mu(t,e,n,3,null,null),UR(e)}}function Ih(t,e){if(e[Q]&256)return;let n=fe(null);try{e[Q]&=-129,e[Q]|=256,e[Pr]&&G_(e[Pr]),qR(t,e),$R(t,e),e[ae].type===1&&e[Fe].destroy();let r=e[lu];if(r!==null&&Sn(e[Je])){r!==e[Je]&&nE(r,e);let i=e[Ui];i!==null&&i.detachView(t)}IR(e)}finally{fe(n)}}function $R(t,e){let n=t.cleanup,r=e[ro];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[ro]=null);let i=e[Jn];if(i!==null){e[Jn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function qR(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Fr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];Qt(4,a,u);try{u.call(a)}finally{Qt(5,a,u)}}else{Qt(4,i,s);try{s.call(i)}finally{Qt(5,i,s)}}}}}function HR(t,e,n){return zR(t,e.parent,n)}function zR(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Cn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Jt.None||s===Jt.Emulated)return null}return bt(r,n)}}function Qc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function iE(t,e,n){t.appendChild(e,n)}function hI(t,e,n,r,i){r!==null?Qc(t,e,n,r,i):iE(t,e,n)}function GR(t,e,n,r){t.removeChild(e,n,r)}function Gf(t,e){return t.parentNode(e)}function WR(t,e){return t.nextSibling(e)}function KR(t,e,n){return YR(t,e,n)}function QR(t,e,n){return t.type&40?bt(t,n):null}var YR=QR,fI;function Wf(t,e,n,r){let i=HR(t,r,e),s=e[Fe],o=r.parent||e[Ht],a=KR(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)hI(s,i,n[u],a,!1);else hI(s,i,n,a,!1);fI!==void 0&&fI(s,r,e,n,i)}function Oc(t,e){if(e!==null){let n=e.type;if(n&3)return bt(e,t);if(n&4)return zh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Oc(t,r);{let i=t[e.index];return Sn(i)?zh(-1,i):Xt(i)}}else{if(n&32)return zf(e,t)()||Xt(t[e.index]);{let r=sE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=oo(t[Zt]);return Oc(i,r)}else return Oc(t,e.next)}}}return null}function sE(t,e){if(e!==null){let r=t[Zt][Ht],i=e.projection;return r.projection[i]}return null}function zh(t,e){let n=Dt+t+1;if(n<e.length){let r=e[n],i=r[ae].firstChild;if(i!==null)return Oc(r,i)}return e[Or]}function JR(t,e,n){let r=Gf(t,e);r&&GR(t,r,e,n)}function Kf(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],u=n.type;if(o&&e===0&&(a&&Lr(Xt(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Kf(t,e,n.child,r,i,s,!1),Mi(e,t,i,a,s);else if(u&32){let l=zf(n,r),f;for(;f=l();)Mi(e,t,i,f,s);Mi(e,t,i,a,s)}else u&16?ZR(t,e,r,n,i,s):Mi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function mu(t,e,n,r,i,s){Kf(n,r,t.firstChild,e,i,s,!1)}function ZR(t,e,n,r,i,s){let o=n[Zt],u=o[Ht].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Mi(e,t,i,f,s)}else{let l=u,f=o[Je];qw(r)&&(l.flags|=128),Kf(t,e,l,f,i,s,!0)}}function XR(t,e,n,r,i){let s=n[Or],o=Xt(n);s!==o&&Mi(e,t,r,s,i);for(let a=Dt;a<n.length;a++){let u=n[a];mu(u[ae],u,t,e,r,s)}}function eN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Dn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Dn.Important),t.setStyle(n,r,i,s))}}function tN(t,e,n){t.setAttribute(e,"style",n)}function oE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function aE(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Mh(t,e,r),i!==null&&oE(t,e,i),s!==null&&tN(t,e,s)}var At={};function t4(t=1){cE(ft(),pe(),nr()+t,!1)}function cE(t,e,n,r){if(!r)if((e[Q]&3)===3){let s=t.preOrderCheckHooks;s!==null&&xc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Pc(e,s,0,n)}kr(n)}function $e(t,e=se.Default){let n=pe();if(n===null)return $(t,e);let r=pt();return Vw(r,n,at(t),e)}function uE(){let t="invalid";throw new Error(t)}function lE(t,e,n,r,i,s){let o=fe(null);try{let a=null;i&Ut.SignalBased&&(a=e[r][uh]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Ut.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):lw(e,a,r,s)}finally{fe(o)}}function nN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)kr(~i);else{let s=i,o=n[++r],a=n[++r];GA(o,s);let u=e[s];a(2,u)}}}finally{kr(-1)}}function yu(t,e,n,r,i,s,o,a,u,l,f){let p=e.blueprint.slice();return p[Cn]=i,p[Q]=r|4|128|8|64,(l!==null||t&&t[Q]&2048)&&(p[Q]|=2048),vw(p),p[Je]=p[qi]=t,p[jt]=n,p[Bt]=o||t&&t[Bt],p[Fe]=a||t&&t[Fe],p[Vi]=u||t&&t[Vi]||null,p[Ht]=s,p[du]=vR(),p[jc]=f,p[aw]=l,p[Zt]=e.type==2?t[Zt]:p,p}function vu(t,e,n,r,i){let s=t.data[e];if(s===null)s=rN(t,e,n,r,i),zA()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=BA();s.injectorIndex=o===null?-1:o.injectorIndex}return po(s,!0),s}function rN(t,e,n,r,i){let s=ww(),o=Ew(),a=o?s:s&&s.parent,u=t.data[e]=cN(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function dE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function hE(t,e,n,r,i){let s=nr(),o=r&2;try{kr(-1),o&&e.length>$t&&cE(t,e,$t,!1),Qt(o?2:0,i),n(r,i)}finally{kr(s),Qt(o?3:1,i)}}function fE(t,e,n){if(uw(e)){let r=fe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{fe(r)}}}function pE(t,e,n){Iw()&&(pN(t,e,n,bt(n,e)),(n.flags&64)===64&&IE(t,e,n))}function gE(t,e,n=bt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function mE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Qf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Qf(t,e,n,r,i,s,o,a,u,l,f){let p=$t+r,m=p+i,I=iN(p,m),S=typeof l=="function"?l():l;return I[ae]={type:t,blueprint:I,template:n,queries:null,viewQuery:a,declTNode:e,data:I.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:f}}function iN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:At);return n}function sN(t,e,n,r){let s=r.get(CR,Qw)||n===Jt.ShadowDom,o=t.selectRootElement(e,s);return oN(o),o}function oN(t){aN(t)}var aN=()=>null;function cN(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return VA()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function pI(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Ut.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?gI(r,n,l,a,u):gI(r,n,l,a)}return r}function gI(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function uN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let f=r;f<i;f++){let p=s[f],m=n?n.get(p):null,I=m?m.inputs:null,S=m?m.outputs:null;u=pI(0,p.inputs,f,u,I),l=pI(1,p.outputs,f,l,S);let R=u!==null&&o!==null&&!wf(e)?bN(u,f,o):null;a.push(R)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function lN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function yE(t,e,n,r,i,s,o,a){let u=bt(e,n),l=e.inputs,f;!a&&l!=null&&(f=l[r])?(Yf(t,n,f,r,i),hu(e)&&dN(n,e.index)):e.type&3?(r=lN(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function dN(t,e){let n=tr(e,t);n[Q]&16||(n[Q]|=64)}function vE(t,e,n,r){if(Iw()){let i=r===null?null:{"":-1},s=mN(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&_E(t,e,n,o,i,a),i&&yN(n,r,i)}n.mergedAttrs=to(n.mergedAttrs,n.attrs)}function _E(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Uh(Wc(n,e),t,r[l].type);_N(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,a=!1,u=dE(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=to(n.mergedAttrs,f.hostAttrs),IN(t,n,e,u,f),vN(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}uN(t,n,s)}function hN(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;fN(o)!=a&&o.push(a),o.push(n,r,s)}}function fN(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function pN(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;hu(n)&&wN(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Wc(n,e),Lr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=ji(e,t,a,n);if(Lr(l,e),o!==null&&DN(e,a-i,l,u,n,o),Zn(u)){let f=tr(n.index,e);f[jt]=ji(e,t,a,n)}}}function IE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=WA();try{kr(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Lh(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&gN(u,l)}}finally{kr(-1),Lh(o)}}function gN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function mN(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(nA(e,o.selectors,!1))if(r||(r=[]),Zn(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;Gh(t,e,u)}else r.unshift(o),Gh(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Gh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function yN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new B(-301,!1);r.push(e[i],s)}}}function vN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Zn(e)&&(n[""]=t)}}function _N(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function IN(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=xr(i.type,!0)),o=new Fr(s,Zn(i),$e);t.blueprint[r]=o,n[r]=o,hN(t,e,r,dE(t,n,i.hostVars,At),i)}function wN(t,e,n){let r=bt(e,t),i=mE(n),s=t[Bt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=_u(t,yu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function EN(t,e,n,r,i,s){let o=bt(t,e);TN(e[Fe],o,s,t.value,n,r,i)}function TN(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?En(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function DN(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],f=o[a++],p=o[a++];lE(r,n,u,l,f,p)}}function bN(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function wE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function EE(t,e){let n=t.contentQueries;if(n!==null){let r=fe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Dw(s),a.contentQueries(2,e[o],o)}}}finally{fe(r)}}}function _u(t,e){return t[io]?t[iI][Vt]=e:t[io]=e,t[iI]=e,e}function Wh(t,e,n){Dw(0);let r=fe(null);try{e(t,n)}finally{fe(r)}}function CN(t){return t[ro]||(t[ro]=[])}function SN(t){return t.cleanup||(t.cleanup=[])}function TE(t,e){let n=t[Vi],r=n?n.get(en,null):null;r&&r.handleError(e)}function Yf(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],f=t.data[o];lE(f,l,r,a,u,i)}}function Jf(t,e,n){let r=gw(e,t);FR(t[Fe],r,n)}function AN(t,e){let n=tr(e,t),r=n[ae];RN(r,n);let i=n[Cn];i!==null&&n[jc]===null&&(n[jc]=qf(i,n[Vi])),Zf(r,n,n[jt])}function RN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Zf(t,e,n){Nf(e);try{let r=t.viewQuery;r!==null&&Wh(1,r,n);let i=t.template;i!==null&&hE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ui]?.finishViewCreation(t),t.staticContentQueries&&EE(t,e),t.staticViewQueries&&Wh(2,t.viewQuery,n);let s=t.components;s!==null&&NN(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Q]&=-5,Mf()}}function NN(t,e){for(let n=0;n<e.length;n++)AN(t,e[n])}function MN(t,e,n,r){let i=fe(null);try{let s=e.tView,a=t[Q]&4096?4096:16,u=yu(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[lu]=l;let f=t[Ui];return f!==null&&(u[Ui]=f.createEmbeddedView(s)),Zf(s,u,n),u}finally{fe(i)}}function mI(t,e){return!e||e.firstChild===null||qw(t)}function xN(t,e,n,r=!0){let i=e[ae];if(jR(i,e,t,n),r){let o=zh(n,t),a=e[Fe],u=Gf(a,t[Or]);u!==null&&VR(i,t[Ht],a,e,u,o)}let s=e[jc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Yc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Xt(s)),Sn(s)&&PN(s,r);let o=n.type;if(o&8)Yc(t,e,n.child,r);else if(o&32){let a=zf(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=sE(e,n);if(Array.isArray(a))r.push(...a);else{let u=oo(e[Zt]);Yc(u[ae],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function PN(t,e){for(let n=Dt;n<t.length;n++){let r=t[n],i=r[ae].firstChild;i!==null&&Yc(r[ae],r,i,e)}t[Or]!==t[Cn]&&e.push(t[Or])}var DE=[];function ON(t){return t[Pr]??kN(t)}function kN(t){let e=DE.pop()??Object.create(LN);return e.lView=t,e}function FN(t){t.lView[Pr]!==t&&(t.lView=null,DE.push(t))}var LN=Re(U({},q_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{so(t.lView)},consumerOnSignalRead(){this.lView[Pr]=this}}),bE=100;function CE(t,e=!0,n=0){let r=t[Bt],i=r.rendererFactory,s=!1;s||i.begin?.();try{VN(t,n)}catch(o){throw e&&TE(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function VN(t,e){Kh(t,e);let n=0;for(;Sf(t);){if(n===bE)throw new B(103,!1);n++,Kh(t,1)}}function UN(t,e,n,r){let i=e[Q];if((i&256)===256)return;let s=!1;!s&&e[Bt].inlineEffectRunner?.flush(),Nf(e);let o=null,a=null;!s&&jN(t)&&(a=ON(e),o=H_(a));try{vw(e),HA(t.bindingStartIndex),n!==null&&hE(t,e,n,2,r);let u=(i&3)===3;if(!s)if(u){let p=t.preOrderCheckHooks;p!==null&&xc(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Pc(e,p,0,null),mh(e,0)}if(BN(e),SE(e,0),t.contentQueries!==null&&EE(t,e),!s)if(u){let p=t.contentCheckHooks;p!==null&&xc(e,p)}else{let p=t.contentHooks;p!==null&&Pc(e,p,1),mh(e,1)}nN(t,e);let l=t.components;l!==null&&RE(e,l,0);let f=t.viewQuery;if(f!==null&&Wh(2,f,r),!s)if(u){let p=t.viewCheckHooks;p!==null&&xc(e,p)}else{let p=t.viewHooks;p!==null&&Pc(e,p,2),mh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[gh]){for(let p of e[gh])p();e[gh]=null}s||(e[Q]&=-73)}catch(u){throw so(e),u}finally{a!==null&&(z_(a,o),FN(a)),Mf()}}function jN(t){return t.type!==2}function SE(t,e){for(let n=zw(t);n!==null;n=Gw(n))for(let r=Dt;r<n.length;r++){let i=n[r];AE(i,e)}}function BN(t){for(let e=zw(t);e!==null;e=Gw(e)){if(!(e[Q]&Df.HasTransplantedViews))continue;let n=e[$c];for(let r=0;r<n.length;r++){let i=n[r],s=i[Je];xA(i)}}}function $N(t,e,n){let r=tr(e,t);AE(r,n)}function AE(t,e){Cf(t)&&Kh(t,e)}function Kh(t,e){let r=t[ae],i=t[Q],s=t[Pr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&lh(s)),s&&(s.dirty=!1),t[Q]&=-9217,o)UN(r,t,r.template,t[jt]);else if(i&8192){SE(t,1);let a=r.components;a!==null&&RE(t,a,1)}}function RE(t,e,n){for(let r=0;r<e.length;r++)$N(t,e[r],n)}function Xf(t){for(t[Bt].changeDetectionScheduler?.notify();t;){t[Q]|=64;let e=oo(t);if(DA(t)&&!e)return t;t=e}return null}var Vr=class{get rootNodes(){let e=this._lView,n=e[ae];return Yc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[jt]}set context(e){this._lView[jt]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Je];if(Sn(e)){let n=e[Bc],r=n?n.indexOf(this):-1;r>-1&&(Hh(e,r),Vc(n,r))}this._attachedToViewContainer=!1}rE(this._lView[ae],this._lView)}onDestroy(e){_w(this._lView,e)}markForCheck(){Xf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Q]&=-129}reattach(){Fh(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,CE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,tE(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e,Fh(this._lView)}},Iu=(()=>{class t{static{this.__NG_ELEMENT_ID__=zN}}return t})(),qN=Iu,HN=class extends qN{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=MN(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Vr(i)}};function zN(){return NE(pt(),pe())}function NE(t,e){return t.type&4?new HN(e,t,pu(t,e)):null}var r4=new RegExp(`^(\\d+)*(${DR}|${TR})*(.*)`);var GN=()=>null;function yI(t,e){return GN(t,e)}var Jc=class{},Qh=class{},Zc=class{};function WN(t){let e=Error(`No component factory found for ${ct(t)}.`);return e[KN]=t,e}var KN="ngComponent";var Yh=class{resolveComponentFactory(e){throw WN(e)}},wu=(()=>{class t{static{this.NULL=new Yh}}return t})(),ao=class{},Eu=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>QN()}}return t})();function QN(){let t=pe(),e=pt(),n=tr(e.index,t);return(Nr(n)?n:t)[Fe]}var YN=(()=>{class t{static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>null})}}return t})(),wh={};var vI=new Set;function Tu(t){vI.has(t)||(vI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function _I(...t){}function JN(){let t=typeof Rr.requestAnimationFrame=="function",e=Rr[t?"requestAnimationFrame":"setTimeout"],n=Rr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var me=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Lt(!1),this.onMicrotaskEmpty=new Lt(!1),this.onStable=new Lt(!1),this.onError=new Lt(!1),typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=JN().nativeRequestAnimationFrame,eM(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new B(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,ZN,_I,_I);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},ZN={};function ep(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function XN(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Rr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Jh(t),t.isCheckStableRunning=!0,ep(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Jh(t))}function eM(t){let e=()=>{XN(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(tM(a))return n.invokeTask(i,s,o,a);try{return II(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),wI(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return II(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),wI(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Jh(t),ep(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Jh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function II(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wI(t){t._nesting--,ep(t)}function tM(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var xi=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(xi||{}),nM={destroy(){}};function Du(t,e){!e&&EA(Du);let n=e?.injector??P(Ct);if(!PR(n))return nM;Tu("NgAfterNextRender");let r=n.get(tp),i=r.handler??=new Xh,s=e?.phase??xi.MixedReadWrite,o=()=>{i.unregister(u),a()},a=n.get(Uf).onDestroy(o),u=qt(n,()=>new Zh(s,()=>{o(),t()}));return i.register(u),{destroy:o}}var Zh=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=P(me),this.errorHandler=P(en,{optional:!0}),P(Jc,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Xh=class{constructor(){this.executingCallbacks=!1,this.buckets={[xi.EarlyRead]:new Set,[xi.Write]:new Set,[xi.MixedReadWrite]:new Set,[xi.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},tp=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}}return t})();function ef(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=K_(i,a);else if(s==2){let u=a,l=e[++o];r=K_(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Xc=class extends wu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Tn(e);return new Ur(n,this.ngModule)}};function EI(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function rM(t){let e=t.toLowerCase();return e==="svg"?pw:e==="math"?AA:null}var tf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ou(r);let i=this.injector.get(e,wh,r);return i!==wh||n===wh?i:this.parentInjector.get(e,n,r)}},Ur=class extends Zc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=EI(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return EI(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=oA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=fe(null);try{i=i||this.ngModule;let o=i instanceof Ye?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new tf(e,o):e,u=a.get(ao,null);if(u===null)throw new B(407,!1);let l=a.get(YN,null),f=a.get(tp,null),p=a.get(Jc,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:p},I=u.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",R=r?sN(I,r,this.componentDef.encapsulation,a):eE(I,S,rM(S)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let k=null;R!==null&&(k=qf(R,a,!0));let K=Qf(0,null,null,1,0,null,null,null,null,null,null),L=yu(null,K,null,N,null,null,m,I,a,null,k);Nf(L);let re,De;try{let J=this.componentDef,E,y=null;J.findHostDirectiveDefs?(E=[],y=new Map,J.findHostDirectiveDefs(J,E,y),E.push(J)):E=[J];let v=iM(L,R),w=sM(v,R,J,E,L,m,I);De=mw(K,$t),R&&cM(I,J,R,r),n!==void 0&&uM(De,this.ngContentSelectors,n),re=aM(w,J,E,y,L,[lM]),Zf(K,L,null)}finally{Mf()}return new nf(this.componentType,re,pu(De,L),L,De)}finally{fe(s)}}},nf=class extends Qh{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Vr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Yf(s[ae],s,i,e,n),this.previousInputValues.set(e,n);let o=tr(this._tNode.index,s);Xf(o)}}get injector(){return new Mr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function iM(t,e){let n=t[ae],r=$t;return t[r]=e,vu(n,r,2,"#host",null)}function sM(t,e,n,r,i,s,o){let a=i[ae];oM(r,t,e,o);let u=null;e!==null&&(u=qf(e,i[Vi]));let l=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let p=yu(i,mE(n),null,f,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&Gh(a,t,r.length-1),_u(i,p),i[t.index]=p}function oM(t,e,n,r){for(let i of t)e.mergedAttrs=to(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ef(e,e.mergedAttrs,!0),n!==null&&aE(r,n,e))}function aM(t,e,n,r,i,s){let o=pt(),a=i[ae],u=bt(o,i);_E(a,i,o,n,null,r);for(let f=0;f<n.length;f++){let p=o.directiveStart+f,m=ji(i,a,p,o);Lr(m,i)}IE(a,i,o),u&&Lr(u,i);let l=ji(i,a,o.directiveStart+o.componentOffset,o);if(t[jt]=i[jt]=l,s!==null)for(let f of s)f(l,e);return fE(a,o,i),l}function cM(t,e,n,r){if(r)Mh(t,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:s}=aA(e.selectors[0]);i&&Mh(t,n,i),s&&s.length>0&&oE(t,n,s.join(" "))}}function uM(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function lM(){let t=pt();kf(pe()[ae],t)}var Hi=(()=>{class t{static{this.__NG_ELEMENT_ID__=dM}}return t})();function dM(){let t=pt();return fM(t,pe())}var hM=Hi,ME=class extends hM{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return pu(this._hostTNode,this._hostLView)}get injector(){return new Mr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ff(this._hostTNode,this._hostLView);if(xw(e)){let n=zc(e,this._hostLView),r=Hc(e),i=n[ae].data[r+8];return new Mr(i,n)}else return new Mr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=TI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Dt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=yI(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,mI(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!TA(e),a;if(o)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}let u=o?e:new Ur(Tn(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let R=(o?l:this.parentInjector).get(Ye,null);R&&(s=R)}let f=Tn(u.componentType??{}),p=yI(this._lContainer,f?.id??null),m=p?.firstChild??null,I=u.create(l,i,m,s);return this.insertImpl(I.hostView,a,mI(this._hostTNode,p)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(MA(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Je],l=new ME(u,u[Ht],u[Je]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return xN(o,i,s,r),e.attachToViewContainerRef(),qI(Eh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=TI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Hh(this._lContainer,n);r&&(Vc(Eh(this._lContainer),n),rE(r[ae],r))}detach(e){let n=this._adjustIndex(e,-1),r=Hh(this._lContainer,n);return r&&Vc(Eh(this._lContainer),n)!=null?new Vr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function TI(t){return t[Bc]}function Eh(t){return t[Bc]||(t[Bc]=[])}function fM(t,e){let n,r=e[t.index];return Sn(r)?n=r:(n=wE(r,e,null,t),e[t.index]=n,_u(e,n)),gM(n,e,t,r),new ME(n,t,e)}function pM(t,e){let n=t[Fe],r=n.createComment(""),i=bt(e,t),s=Gf(n,i);return Qc(n,s,r,WR(n,i),!1),r}var gM=vM,mM=()=>!1;function yM(t,e,n){return mM(t,e,n)}function vM(t,e,n,r){if(t[Or])return;let i;n.type&8?i=Xt(r):i=pM(e,n),t[Or]=i}function _M(t){return typeof t=="function"&&t[uh]!==void 0}function xE(t){return _M(t)&&typeof t.set=="function"}function IM(t){return Object.getPrototypeOf(t.prototype).constructor}function wM(t){let e=IM(t.type),n=!0,r=[t];for(;e;){let i;if(Zn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Rc(t.inputs),o.inputTransforms=Rc(t.inputTransforms),o.declaredInputs=Rc(t.declaredInputs),o.outputs=Rc(t.outputs);let a=i.hostBindings;a&&CM(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&DM(t,u),l&&bM(t,l),EM(t,i),AS(t.outputs,i.outputs),Zn(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===wM&&(n=!1)}}e=Object.getPrototypeOf(e)}TM(r)}function EM(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function TM(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=to(i.hostAttrs,n=to(n,i.hostAttrs))}}function Rc(t){return t===ki?{}:t===Tt?[]:t}function DM(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function bM(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function CM(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function np(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Xn=class{},co=class{};var rf=class extends Xn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xc(this);let i=XI(e);this._bootstrapComponents=Xw(i.bootstrap),this._r3Injector=Bw(e,n,[{provide:Xn,useValue:this},{provide:wu,useValue:this.componentFactoryResolver},...r],ct(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},sf=class extends co{constructor(e){super(),this.moduleType=e}create(e){return new rf(this.moduleType,e,[])}};var eu=class extends Xn{constructor(e){super(),this.componentFactoryResolver=new Xc(this),this.instance=null;let n=new no([...e.providers,{provide:Xn,useValue:this},{provide:wu,useValue:this.componentFactoryResolver}],e.parent||uu(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function bu(t,e,n=null){return new eu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var qr=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Be(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function PE(t){return rp(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function SM(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function rp(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ip(t,e,n){return t[e]=n}function AM(t,e){return t[e]}function bn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function sp(t,e,n,r){let i=bn(t,e,n);return bn(t,e+1,r)||i}function RM(t,e,n,r,i){let s=sp(t,e,n,r);return bn(t,e+2,i)||s}function NM(t){return(t.flags&32)===32}function MM(t,e,n,r,i,s,o,a,u){let l=e.consts,f=vu(e,t,4,o||null,qc(l,a));vE(e,n,f,qc(l,u)),kf(e,f);let p=f.tView=Qf(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function xM(t,e,n,r,i,s,o,a){let u=pe(),l=ft(),f=t+$t,p=l.firstCreatePass?MM(f,l,u,e,n,r,i,s,o):l.data[f];po(p,!1);let m=PM(l,u,p,t);Pf()&&Wf(l,u,m,p),Lr(m,u);let I=wE(m,u,m,p);return u[f]=I,_u(u,I),yM(I,p,u),bf(p)&&pE(l,u,p),o!=null&&gE(u,p,a),xM}var PM=OM;function OM(t,e,n,r){return Of(!0),e[Fe].createComment("")}function op(t,e,n,r){let i=pe(),s=fu();if(bn(i,s,e)){let o=ft(),a=xf();EN(a,i,t,e,n,r)}return op}function kM(t,e,n,r){return bn(t,fu(),n)?e+En(n)+r:At}function FM(t,e,n,r,i,s){let o=Tw(),a=sp(t,o,n,i);return Rf(2),a?e+En(n)+r+En(i)+s:At}function LM(t,e,n,r,i,s,o,a){let u=Tw(),l=RM(t,u,n,i,o);return Rf(3),l?e+En(n)+r+En(i)+s+En(o)+a:At}function Nc(t,e){return t<<17|e<<2}function jr(t){return t>>17&32767}function VM(t){return(t&2)==2}function UM(t,e){return t&131071|e<<17}function of(t){return t|2}function Bi(t){return(t&131068)>>2}function Th(t,e){return t&-131069|e<<2}function jM(t){return(t&1)===1}function af(t){return t|1}function BM(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=jr(o),u=Bi(o);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||ho(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let m=jr(t[a+1]);t[r+1]=Nc(m,a),m!==0&&(t[m+1]=Th(t[m+1],r)),t[a+1]=UM(t[a+1],r)}else t[r+1]=Nc(a,0),a!==0&&(t[a+1]=Th(t[a+1],r)),a=r;else t[r+1]=Nc(u,0),a===0?a=r:t[u+1]=Th(t[u+1],r),u=r;l&&(t[r+1]=of(t[r+1])),DI(t,f,r,!0),DI(t,f,r,!1),$M(e,f,t,r,s),o=Nc(a,u),s?e.classBindings=o:e.styleBindings=o}function $M(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&ho(s,e)>=0&&(n[r+1]=af(n[r+1]))}function DI(t,e,n,r){let i=t[n+1],s=e===null,o=r?jr(i):Bi(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];qM(u,e)&&(a=!0,t[o+1]=r?af(l):of(l)),o=r?jr(l):Bi(l)}a&&(t[n+1]=r?of(i):af(i))}function qM(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ho(t,e)>=0:!1}function HM(t,e,n){let r=pe(),i=fu();if(bn(r,i,e)){let s=ft(),o=xf();yE(s,o,r,t,e,r[Fe],n,!1)}return HM}function bI(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Yf(t,n,s[o],o,r)}function zM(t,e){return GM(t,e,null,!0),zM}function GM(t,e,n,r){let i=pe(),s=ft(),o=Rf(2);if(s.firstUpdatePass&&KM(s,t,o,r),e!==At&&bn(i,o,e)){let a=s.data[nr()];XM(s,a,i,i[Fe],t,i[o+1]=ex(e,n),r,o)}}function WM(t,e){return e>=t.expandoStartIndex}function KM(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[nr()],o=WM(t,n);tx(s,r)&&e===null&&!o&&(e=!1),e=QM(i,s,e,r),BM(i,s,e,n,o,r)}}function QM(t,e,n,r){let i=KA(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Dh(null,t,e,n,r),n=uo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Dh(i,t,e,n,r),s===null){let u=YM(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Dh(null,t,e,u[1],r),u=uo(u,e.attrs,r),JM(t,e,r,u))}else s=ZM(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function YM(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Bi(r)!==0)return t[jr(r)]}function JM(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[jr(i)]=r}function ZM(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=uo(r,o,n)}return uo(r,e.attrs,n)}function Dh(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=uo(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function uo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),KS(t,o,n?!0:e[++s]))}return t===void 0?null:t}function XM(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],f=jM(l)?CI(u,e,n,i,Bi(l),o):void 0;if(!tu(f)){tu(s)||VM(l)&&(s=CI(u,null,n,i,a,o));let p=gw(nr(),n);eN(r,o,p,i,s)}}function CI(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,m=n[i+1];m===At&&(m=p?Tt:void 0);let I=p?fh(m,r):f===r?m:void 0;if(l&&!tu(I)&&(I=fh(u,r)),tu(I)&&(a=I,o))return a;let S=t[i+1];i=o?jr(S):Bi(S)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=fh(u,r))}return a}function tu(t){return t!==void 0}function ex(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ct(mo(t)))),t}function tx(t,e){return(t.flags&(e?8:16))!==0}function nx(t,e,n,r,i,s){let o=e.consts,a=qc(o,i),u=vu(e,t,2,r,a);return vE(e,n,u,qc(o,s)),u.attrs!==null&&ef(u,u.attrs,!1),u.mergedAttrs!==null&&ef(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function OE(t,e,n,r){let i=pe(),s=ft(),o=$t+t,a=i[Fe],u=s.firstCreatePass?nx(o,s,i,e,n,r):s.data[o],l=rx(s,i,u,a,e,t);i[o]=l;let f=bf(u);return po(u,!0),aE(a,l,u),!NM(u)&&Pf()&&Wf(s,i,l,u),kA()===0&&Lr(l,i),FA(),f&&(pE(s,i,u),fE(s,u,i)),r!==null&&gE(i,u),OE}function kE(){let t=pt();Ew()?$A():(t=t.parent,po(t,!1));let e=t;UA(e)&&jA(),LA();let n=ft();return n.firstCreatePass&&(kf(n,t),uw(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&nR(e)&&bI(n,e,pe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&rR(e)&&bI(n,e,pe(),e.stylesWithoutHost,!1),kE}function ap(t,e,n,r){return OE(t,e,n,r),kE(),ap}var rx=(t,e,n,r,i,s)=>(Of(!0),eE(r,i,ZA()));function s4(){return pe()}var nu="en-US";var ix=nu;function sx(t){typeof t=="string"&&(ix=t.toLowerCase().replace(/_/g,"-"))}function cp(t,e,n,r){let i=pe(),s=ft(),o=pt();return FE(s,i,i[Fe],o,t,e,r),cp}function ox(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[ro],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function FE(t,e,n,r,i,s,o){let a=bf(r),l=t.firstCreatePass&&SN(t),f=e[jt],p=CN(e),m=!0;if(r.type&3||o){let R=bt(r,e),N=o?o(R):R,k=p.length,K=o?re=>o(Xt(re[r.index])):r.index,L=null;if(!o&&a&&(L=ox(t,e,i,r.index)),L!==null){let re=L.__ngLastListenerFn__||L;re.__ngNextListenerFn__=s,L.__ngLastListenerFn__=s,m=!1}else{s=AI(r,e,f,s,!1);let re=n.listen(N,i,s);p.push(s,re),l&&l.push(i,K,k,k+1)}}else s=AI(r,e,f,s,!1);let I=r.outputs,S;if(m&&I!==null&&(S=I[i])){let R=S.length;if(R)for(let N=0;N<R;N+=2){let k=S[N],K=S[N+1],De=e[k][K].subscribe(s),J=p.length;p.push(s,De),l&&l.push(i,r.index,J,-(J+1))}}}function SI(t,e,n,r){let i=fe(null);try{return Qt(6,e,n),n(r)!==!1}catch(s){return TE(t,s),!1}finally{Qt(7,e,n),fe(i)}}function AI(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?tr(t.index,e):e;Xf(a);let u=SI(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)u=SI(e,n,l,o)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&o.preventDefault(),u}}function o4(t=1){return YA(t)}function ax(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function a4(t){let e=qA();return yw(e,$t+t)}function c4(t,e=""){let n=pe(),r=ft(),i=t+$t,s=r.firstCreatePass?vu(r,i,1,e,null):r.data[i],o=cx(r,n,s,e,t);n[i]=o,Pf()&&Wf(r,n,o,s),po(s,!1)}var cx=(t,e,n,r,i)=>(Of(!0),kR(e[Fe],r));function ux(t){return LE("",t,""),ux}function LE(t,e,n){let r=pe(),i=kM(r,t,e,n);return i!==At&&Jf(r,nr(),i),LE}function lx(t,e,n,r,i){let s=pe(),o=FM(s,t,e,n,r,i);return o!==At&&Jf(s,nr(),o),lx}function dx(t,e,n,r,i,s,o){let a=pe(),u=LM(a,t,e,n,r,i,s,o);return u!==At&&Jf(a,nr(),u),dx}function hx(t,e,n){xE(e)&&(e=e());let r=pe(),i=fu();if(bn(r,i,e)){let s=ft(),o=xf();yE(s,o,r,t,e,r[Fe],n,!1)}return hx}function u4(t,e){let n=xE(t);return n&&t.set(e),n}function fx(t,e){let n=pe(),r=ft(),i=pt();return FE(r,n,n[Fe],i,t,e),fx}function px(t,e,n){let r=ft();if(r.firstCreatePass){let i=Zn(t);cf(n,r.data,r.blueprint,i,!0),cf(e,r.data,r.blueprint,i,!1)}}function cf(t,e,n,r,i){if(t=at(t),Array.isArray(t))for(let s=0;s<t.length;s++)cf(t[s],e,n,r,i);else{let s=ft(),o=pe(),a=pt(),u=Li(t)?t:at(t.provide),l=sw(t),f=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Li(t)||!t.multi){let I=new Fr(l,i,$e),S=Ch(u,e,i?f:f+m,p);S===-1?(Uh(Wc(a,o),s,u),bh(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),o.push(I)):(n[S]=I,o[S]=I)}else{let I=Ch(u,e,f+m,p),S=Ch(u,e,f,f+m),R=I>=0&&n[I],N=S>=0&&n[S];if(i&&!N||!i&&!R){Uh(Wc(a,o),s,u);let k=yx(i?mx:gx,n.length,i,r,l);!i&&N&&(n[S].providerFactory=k),bh(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(k),o.push(k)}else{let k=VE(n[i?S:I],l,!i&&r);bh(s,t,I>-1?I:S,k)}!i&&r&&N&&n[S].componentProviders++}}}function bh(t,e,n,r){let i=Li(e),s=gA(e);if(i||s){let u=(s?at(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function VE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ch(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function gx(t,e,n,r){return uf(this.multi,[])}function mx(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=ji(n,n[ae],this.providerFactory.index,r);s=a.slice(0,o),uf(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],uf(i,s);return s}function uf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function yx(t,e,n,r,i){let s=new Fr(t,n,$e);return s.multi=[],s.index=e,s.componentProviders=0,VE(s,i,r&&!n),s}function l4(t,e=[]){return n=>{n.providersResolver=(r,i)=>px(r,i?i(t):t,e)}}var vx=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=nw(!1,n.type),i=r.length>0?bu([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t($(Ye))})}}return t})();function UE(t){Tu("NgStandalone"),t.getStandaloneInjector=e=>e.get(vx).getOrCreateStandaloneInjector(t)}function d4(t,e,n){let r=Af()+t,i=pe();return i[r]===At?ip(i,r,n?e.call(n):e()):AM(i,r)}function h4(t,e,n,r){return _x(pe(),Af(),t,e,n,r)}function jE(t,e){let n=t[e];return n===At?void 0:n}function _x(t,e,n,r,i,s){let o=e+n;return bn(t,o,i)?ip(t,o+1,s?r.call(s,i):r(i)):jE(t,o+1)}function Ix(t,e,n,r,i,s,o){let a=e+n;return sp(t,a,i,s)?ip(t,a+2,o?r.call(o,i,s):r(i,s)):jE(t,a+2)}function f4(t,e){let n=ft(),r,i=t+$t;n.firstCreatePass?(r=wx(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=xr(r.type,!0)),o,a=ht($e);try{let u=Gc(!1),l=s();return Gc(u),ax(n,pe(),i,l),l}finally{ht(a)}}function wx(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function p4(t,e,n,r){let i=t+$t,s=pe(),o=yw(s,i);return Ex(s,i)?Ix(s,Af(),e,o.transform,n,r,o):o.transform(n,r)}function Ex(t,e){return t[ae].data[e].pure}function g4(t,e){return NE(t,e)}var er=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},BE=new er("17.3.12"),Cu=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var $E=new z("");function yo(t){return!!t&&typeof t.then=="function"}function qE(t){return!!t&&typeof t.subscribe=="function"}var Su=new z(""),HE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=P(Su,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(yo(s))n.push(s);else if(qE(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),vo=new z("");function Tx(){W_(()=>{throw new B(600,!1)})}function Dx(t){return t.isBoundToModule}function bx(t,e,n){try{let r=n();return yo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var zi=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P($w),this.afterRenderEffectManager=P(tp),this.externalTestViews=new Set,this.beforeRender=new Qe,this.afterTick=new Qe,this.componentTypes=[],this.components=[],this.isStable=P(qr).hasPendingTasks.pipe(X(n=>!n)),this._injector=P(Ye)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Zc;if(!this._injector.get(HE).done){let m=!i&&ZI(n),I=!1;throw new B(405,I)}let o;i?o=n:o=this._injector.get(wu).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=Dx(o)?void 0:this._injector.get(Xn),u=r||o.selector,l=o.create(Ct.NULL,[],u,a),f=l.location.nativeElement,p=l.injector.get($E,null);return p?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),Sh(this.components,l),p?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new B(101,!1);let r=fe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,fe(r)}}detectChangesInAttachedViews(n){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===bE)throw new B(103,!1);if(n){let s=r===0;this.beforeRender.next(s);for(let{_lView:o,notifyErrorHandler:a}of this._views)Cx(o,s,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>lf(s))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>lf(s))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Sh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(vo,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Sh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new B(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Sh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Cx(t,e,n){!e&&!lf(t)||Sx(t,n,e)}function lf(t){return Sf(t)}function Sx(t,e,n){let r;n?(r=0,t[Q]|=1024):t[Q]&64?r=0:r=1,CE(t,e,r)}var df=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Au=(()=>{class t{compileModuleSync(n){return new sf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=XI(n),s=Xw(i.declarations).reduce((o,a)=>{let u=Tn(a);return u&&o.push(new Ur(u)),o},[]);return new df(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ax=(()=>{class t{constructor(){this.zone=P(me),this.applicationRef=P(zi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Rx(t){return[{provide:me,useFactory:t},{provide:Fi,multi:!0,useFactory:()=>{let e=P(Ax,{optional:!0});return()=>e.initialize()}},{provide:Fi,multi:!0,useFactory:()=>{let e=P(Px);return()=>{e.initialize()}}},{provide:$w,useFactory:Nx}]}function Nx(){let t=P(me),e=P(en);return n=>t.runOutsideAngular(()=>e.handleError(n))}function Mx(t){let e=Rx(()=>new me(xx(t)));return tn([[],e])}function xx(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Px=(()=>{class t{constructor(){this.subscription=new Ce,this.initialized=!1,this.zone=P(me),this.pendingTasks=P(qr)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{me.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ox(){return typeof $localize<"u"&&$localize.locale||nu}var up=new z("",{providedIn:"root",factory:()=>P(up,se.Optional|se.SkipSelf)||Ox()});var zE=new z("");var kc=null;function kx(t=[],e){return Ct.create({name:e,providers:[{provide:cu,useValue:"platform"},{provide:zE,useValue:new Set([()=>kc=null])},...t]})}function Fx(t=[]){if(kc)return kc;let e=kx(t);return kc=e,Tx(),Lx(e),e}function Lx(t){t.get(Bf,null)?.forEach(n=>n())}var _o=(()=>{class t{static{this.__NG_ELEMENT_ID__=Vx}}return t})();function Vx(t){return Ux(pt(),pe(),(t&16)===16)}function Ux(t,e,n){if(hu(t)&&!n){let r=tr(t.index,e);return new Vr(r,r)}else if(t.type&47){let r=e[Zt];return new Vr(r,e)}return null}var hf=class{constructor(){}supports(e){return PE(e)}create(e){return new ff(e)}},jx=(t,e)=>e,ff=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||jx}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<RI(r,i,s)?n:r,a=RI(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,f=u-i;if(l!=f){for(let m=0;m<l;m++){let I=m<s.length?s[m]:s[m]=0,S=I+m;f<=S&&S<l&&(s[m]=I+1)}let p=o.previousIndex;s[p]=f-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!PE(e))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,SM(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new pf(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ru),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ru),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},pf=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},gf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ru=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new gf,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function RI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var mf=class{constructor(){}supports(e){return e instanceof Map||rp(e)}create(){return new yf}},yf=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||rp(e)))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new vf(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},vf=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function NI(){return new lp([new hf])}var lp=(()=>{class t{static{this.\u0275prov=j({token:t,providedIn:"root",factory:NI})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||NI()),deps:[[t,new au,new yt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new B(901,!1)}}return t})();function MI(){return new dp([new mf])}var dp=(()=>{class t{static{this.\u0275prov=j({token:t,providedIn:"root",factory:MI})}constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||MI()),deps:[[t,new au,new yt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new B(901,!1)}}return t})();function GE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Fx(r),s=[Mx(),...n||[]],a=new eu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(me);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(en,null),f;u.runOutsideAngular(()=>{f=u.onError.subscribe({next:I=>{l.handleError(I)}})});let p=()=>a.destroy(),m=i.get(zE);return m.add(p),a.onDestroy(()=>{f.unsubscribe(),m.delete(p)}),bx(l,u,()=>{let I=a.get(HE);return I.runInitializers(),I.donePromise.then(()=>{let S=a.get(up,nu);sx(S||nu);let R=a.get(zi);return e!==void 0&&R.bootstrap(e),R})})})}catch(e){return Promise.reject(e)}}function Io(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function m4(t,e){let n=Tn(t),r=e.elementInjector||uu();return new Ur(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function WE(t){let e=Tn(t);if(!e)return null;let n=new Ur(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var XE=null;function Gi(){return XE}function eT(t){XE??=t}var Ru=class{};var Ze=new z(""),mp=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>P(Bx),providedIn:"platform"})}}return t})(),tT=new z(""),Bx=(()=>{class t extends mp{constructor(){super(),this._doc=P(Ze),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gi().getBaseHref(this._doc)}onPopState(n){let r=Gi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Gi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function yp(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function KE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function An(t){return t&&t[0]!=="?"?"?"+t:t}var Rn=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>P(vp),providedIn:"root"})}}return t})(),nT=new z(""),vp=(()=>{class t extends Rn{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(Ze).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return yp(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+An(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+An(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+An(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)($(mp),$(nT,8))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),rT=(()=>{class t extends Rn{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=yp(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+An(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+An(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)($(mp),$(nT,8))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),Ki=(()=>{class t{constructor(n){this._subject=new Lt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Hx(KE(QE(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+An(r))}normalize(n){return t.stripTrailingSlash(qx(this._basePath,QE(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+An(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+An(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=An}static{this.joinWithSlash=yp}static{this.stripTrailingSlash=KE}static{this.\u0275fac=function(r){return new(r||t)($(Rn))}}static{this.\u0275prov=j({token:t,factory:()=>$x(),providedIn:"root"})}}return t})();function $x(){return new Ki($(Rn))}function qx(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function QE(t){return t.replace(/\/index.html$/,"")}function Hx(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Nu(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var hp=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},j4=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new hp(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),YE(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);YE(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)($e(Hi),$e(Iu),$e(lp))}}static{this.\u0275dir=$i({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function YE(t,e){t.context.$implicit=e.item}var B4=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new fp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){JE("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){JE("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)($e(Hi),$e(Iu))}}static{this.\u0275dir=$i({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),fp=class{constructor(){this.$implicit=null,this.ngIf=null}};function JE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ct(e)}'.`)}function zx(t,e){return new B(2100,!1)}var Gx=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,$4=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw zx(t,n);return n.replace(Gx,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=Ef({name:"titlecase",type:t,pure:!0,standalone:!0})}}return t})();function Wx(t,e){return{key:t,value:e}}var q4=(()=>{class t{constructor(n){this.differs=n,this.keyValues=[],this.compareFn=ZE}transform(n,r=ZE){if(!n||!(n instanceof Map)&&typeof n!="object")return null;this.differ??=this.differs.find(n).create();let i=this.differ.diff(n),s=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(o=>{this.keyValues.push(Wx(o.key,o.currentValue))})),(i||s)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}static{this.\u0275fac=function(r){return new(r||t)($e(dp,16))}}static{this.\u0275pipe=Ef({name:"keyvalue",type:t,pure:!1,standalone:!0})}}return t})();function ZE(t,e){let n=t.key,r=e.key;if(n===r)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(n===null)return 1;if(r===null)return-1;if(typeof n=="string"&&typeof r=="string")return n<r?-1:1;if(typeof n=="number"&&typeof r=="number")return n-r;if(typeof n=="boolean"&&typeof r=="boolean")return n<r?-1:1;let i=String(n),s=String(r);return i==s?0:i<s?-1:1}var Kx=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=$r({type:t})}static{this.\u0275inj=Br({})}}return t})(),_p="browser",Qx="server";function Yx(t){return t===_p}function Mu(t){return t===Qx}var iT=(()=>{class t{static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>Yx(P(St))?new pp(P(Ze),window):new gp})}}return t})(),pp=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=Jx(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function Jx(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var gp=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Wi=class{};var To=class{},Pu=class{},Hr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var wp=class{encodeKey(e){return oT(e)}encodeValue(e){return oT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function eP(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var tP=/%(\d[a-f0-9])/gi,nP={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function oT(t){return encodeURIComponent(t).replace(tP,(e,n)=>nP[n]??e)}function xu(t){return`${t}`}var rr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new wp,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=eP(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(xu):[xu(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(xu(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(xu(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Ep=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function rP(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function aT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function cT(t){return typeof Blob<"u"&&t instanceof Blob}function uT(t){return typeof FormData<"u"&&t instanceof FormData}function iP(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Eo=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(rP(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Hr,this.context??=new Ep,!this.params)this.params=new rr,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||aT(this.body)||cT(this.body)||uT(this.body)||iP(this.body)?this.body:this.body instanceof rr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||uT(this.body)?null:cT(this.body)?this.body.type||null:aT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof rr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,f=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,I)=>m.set(I,e.setHeaders[I]),l)),e.setParams&&(f=Object.keys(e.setParams).reduce((m,I)=>m.set(I,e.setParams[I]),f)),new t(n,r,o,{params:f,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},Qi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Qi||{}),Do=class{constructor(e,n=Fu.Ok,r="OK"){this.headers=e.headers||new Hr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Tp=class t extends Do{constructor(e={}){super(e),this.type=Qi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ou=class t extends Do{constructor(e={}){super(e),this.type=Qi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ku=class extends Do{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Fu=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Fu||{});function Ip(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var sP=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof Eo)s=n;else{let u;i.headers instanceof Hr?u=i.headers:u=new Hr(i.headers);let l;i.params&&(i.params instanceof rr?l=i.params:l=new rr({fromObject:i.params})),s=new Eo(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=G(s).pipe(In(u=>this.handler.handle(u)));if(n instanceof Eo||i.observe==="events")return o;let a=o.pipe(ot(u=>u instanceof Ou));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(X(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(X(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(X(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(X(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new rr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Ip(i,r))}post(n,r,i={}){return this.request("POST",n,Ip(i,r))}put(n,r,i={}){return this.request("PUT",n,Ip(i,r))}static{this.\u0275fac=function(r){return new(r||t)($(To))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function fT(t,e){return e(t)}function oP(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function aP(t,e,n){return(r,i)=>qt(n,()=>e(r,s=>t(s,i)))}var cP=new z(""),Dp=new z(""),uP=new z(""),lP=new z("");function dP(){let t=null;return(e,n)=>{t===null&&(t=(P(cP,{optional:!0})??[]).reduceRight(oP,fT));let r=P(qr),i=r.add();return t(e,n).pipe(Qn(()=>r.remove(i)))}}var lT=(()=>{class t extends To{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=P(qr);let i=P(lP,{optional:!0});this.backend=i??n}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Dp),...this.injector.get(uP,[])]));this.chain=i.reduceRight((s,o)=>aP(s,o,this.injector),fT)}let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Qn(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||t)($(Pu),$(Ye))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var hP=/^\)\]\}',?\n/;function fP(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var dT=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new B(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ee(r.\u0275loadImpl()):G(null)).pipe(dt(()=>new Z(s=>{let o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((R,N)=>o.setRequestHeader(R,N.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let R=n.detectContentTypeHeader();R!==null&&o.setRequestHeader("Content-Type",R)}if(n.responseType){let R=n.responseType.toLowerCase();o.responseType=R!=="json"?R:"text"}let a=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let R=o.statusText||"OK",N=new Hr(o.getAllResponseHeaders()),k=fP(o)||n.url;return u=new Tp({headers:N,status:o.status,statusText:R,url:k}),u},f=()=>{let{headers:R,status:N,statusText:k,url:K}=l(),L=null;N!==Fu.NoContent&&(L=typeof o.response>"u"?o.responseText:o.response),N===0&&(N=L?Fu.Ok:0);let re=N>=200&&N<300;if(n.responseType==="json"&&typeof L=="string"){let De=L;L=L.replace(hP,"");try{L=L!==""?JSON.parse(L):null}catch(J){L=De,re&&(re=!1,L={error:J,text:L})}}re?(s.next(new Ou({body:L,headers:R,status:N,statusText:k,url:K||void 0})),s.complete()):s.error(new ku({error:L,headers:R,status:N,statusText:k,url:K||void 0}))},p=R=>{let{url:N}=l(),k=new ku({error:R,status:o.status||0,statusText:o.statusText||"Unknown Error",url:N||void 0});s.error(k)},m=!1,I=R=>{m||(s.next(l()),m=!0);let N={type:Qi.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(N.total=R.total),n.responseType==="text"&&o.responseText&&(N.partialText=o.responseText),s.next(N)},S=R=>{let N={type:Qi.UploadProgress,loaded:R.loaded};R.lengthComputable&&(N.total=R.total),s.next(N)};return o.addEventListener("load",f),o.addEventListener("error",p),o.addEventListener("timeout",p),o.addEventListener("abort",p),n.reportProgress&&(o.addEventListener("progress",I),a!==null&&o.upload&&o.upload.addEventListener("progress",S)),o.send(a),s.next({type:Qi.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",f),o.removeEventListener("timeout",p),n.reportProgress&&(o.removeEventListener("progress",I),a!==null&&o.upload&&o.upload.removeEventListener("progress",S)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)($(Wi))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),pT=new z(""),pP="XSRF-TOKEN",gP=new z("",{providedIn:"root",factory:()=>pP}),mP="X-XSRF-TOKEN",yP=new z("",{providedIn:"root",factory:()=>mP}),Lu=class{},vP=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Nu(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)($(Ze),$(St),$(gP))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function _P(t,e){let n=t.url.toLowerCase();if(!P(pT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=P(Lu).getToken(),i=P(yP);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var gT=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(gT||{});function IP(t,e){return{\u0275kind:t,\u0275providers:e}}function wP(...t){let e=[sP,dT,lT,{provide:To,useExisting:lT},{provide:Pu,useExisting:dT},{provide:Dp,useValue:_P,multi:!0},{provide:pT,useValue:!0},{provide:Lu,useClass:vP}];for(let n of t)e.push(...n.\u0275providers);return tn(e)}var hT=new z("");function EP(){return IP(gT.LegacyInterceptors,[{provide:hT,useFactory:dP},{provide:Dp,useExisting:hT,multi:!0}])}var nG=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=$r({type:t})}static{this.\u0275inj=Br({providers:[wP(EP())]})}}return t})();var Sp=class extends Ru{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ap=class t extends Sp{static makeCurrent(){eT(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=TP();return n==null?null:DP(n)}resetBaseElement(){bo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Nu(document.cookie,e)}},bo=null;function TP(){return bo=bo||document.querySelector("base"),bo?bo.getAttribute("href"):null}function DP(t){return new URL(t,document.baseURI).pathname}var bP=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),Rp=new z(""),_T=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)($(Rp),$(me))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),Vu=class{constructor(e){this._doc=e}},bp="ng-app-id",IT=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Mu(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${bp}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(bp),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(bp,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)($(Ze),$(jf),$($f,8),$(St))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),Cp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Mp=/%COMP%/g,wT="%COMP%",CP=`_nghost-${wT}`,SP=`_ngcontent-${wT}`,AP=!0,RP=new z("",{providedIn:"root",factory:()=>AP});function NP(t){return SP.replace(Mp,t)}function MP(t){return CP.replace(Mp,t)}function ET(t,e){return e.map(n=>n.replace(Mp,t))}var mT=(()=>{class t{constructor(n,r,i,s,o,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Mu(a),this.defaultRenderer=new Co(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Jt.ShadowDom&&(r=Re(U({},r),{encapsulation:Jt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Uu?i.applyToHost(n):i instanceof So&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Jt.Emulated:s=new Uu(u,l,r,this.appId,f,o,a,p);break;case Jt.ShadowDom:return new Np(u,l,n,r,o,a,this.nonce,p);default:s=new So(u,l,r,f,o,a,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)($(_T),$(IT),$(jf),$(RP),$(Ze),$(St),$(me),$($f))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),Co=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Cp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(yT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(yT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Cp[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Cp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Dn.DashCase|Dn.Important)?e.style.setProperty(n,r,i&Dn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Dn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Gi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function yT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Np=class extends Co{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=ET(i.id,i.styles);for(let f of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},So=class extends Co{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?ET(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Uu=class extends So{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=NP(l),this.hostAttr=MP(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},xP=(()=>{class t extends Vu{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)($(Ze))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),vT=["alt","control","meta","shift"],PP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},OP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},kP=(()=>{class t extends Vu{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gi().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),vT.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=PP[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),vT.forEach(o=>{if(o!==i){let a=OP[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)($(Ze))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function CG(t,e){return GE(U({rootComponent:t},FP(e)))}function FP(t){return{appProviders:[...BP,...t?.providers??[]],platformProviders:jP}}function LP(){Ap.makeCurrent()}function VP(){return new en}function UP(){return Kw(document),document}var jP=[{provide:St,useValue:_p},{provide:Bf,useValue:LP,multi:!0},{provide:Ze,useFactory:UP,deps:[]}];var BP=[{provide:cu,useValue:"root"},{provide:en,useFactory:VP,deps:[]},{provide:Rp,useClass:xP,multi:!0,deps:[Ze,me,St]},{provide:Rp,useClass:kP,multi:!0,deps:[Ze]},mT,IT,_T,{provide:ao,useExisting:mT},{provide:Wi,useClass:bP,deps:[]},[]];var TT=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)($(Ze))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ne="primary",qo=Symbol("RouteTitle"),Fp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function es(t){return new Fp(t)}function qP(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function HP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!nn(t[n],e[n]))return!1;return!0}function nn(t,e){let n=t?Lp(t):void 0,r=e?Lp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!xT(t[i],e[i]))return!1;return!0}function Lp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function xT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function PT(t){return t.length>0?t[t.length-1]:null}function cr(t){return rh(t)?t:yo(t)?Ee(Promise.resolve(t)):G(t)}var zP={exact:kT,subset:FT},OT={exact:GP,subset:WP,ignored:()=>!0};function DT(t,e,n){return zP[n.paths](t.root,e.root,n.matrixParams)&&OT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function GP(t,e){return nn(t,e)}function kT(t,e,n){if(!Gr(t.segments,e.segments)||!$u(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!kT(t.children[r],e.children[r],n))return!1;return!0}function WP(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>xT(t[n],e[n]))}function FT(t,e,n){return LT(t,e,e.segments,n)}function LT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Gr(i,n)||e.hasChildren()||!$u(i,n,r))}else if(t.segments.length===n.length){if(!Gr(t.segments,n)||!$u(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!FT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Gr(t.segments,i)||!$u(t.segments,i,r)||!t.children[ne]?!1:LT(t.children[ne],e,s,r)}}function $u(t,e,n){return e.every((r,i)=>OT[n](t[i].parameters,r.parameters))}var ir=class{constructor(e=new ye([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=es(this.queryParams),this._queryParamMap}toString(){return YP.serialize(this)}},ye=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qu(this)}},zr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=es(this.parameters),this._parameterMap}toString(){return UT(this)}};function KP(t,e){return Gr(t,e)&&t.every((n,r)=>nn(n.parameters,e[r].parameters))}function Gr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function QP(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ne&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ne&&(n=n.concat(e(i,r)))}),n}var Ho=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>new Oo,providedIn:"root"})}}return t})(),Oo=class{parse(e){let n=new Up(e);return new ir(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ao(e.root,!0)}`,r=XP(e.queryParams),i=typeof e.fragment=="string"?`#${JP(e.fragment)}`:"";return`${n}${r}${i}`}},YP=new Oo;function qu(t){return t.segments.map(e=>UT(e)).join("/")}function Ao(t,e){if(!t.hasChildren())return qu(t);if(e){let n=t.children[ne]?Ao(t.children[ne],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ne&&r.push(`${i}:${Ao(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=QP(t,(r,i)=>i===ne?[Ao(t.children[ne],!1)]:[`${i}:${Ao(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ne]!=null?`${qu(t)}/${n[0]}`:`${qu(t)}/(${n.join("//")})`}}function VT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ju(t){return VT(t).replace(/%3B/gi,";")}function JP(t){return encodeURI(t)}function Vp(t){return VT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hu(t){return decodeURIComponent(t)}function bT(t){return Hu(t.replace(/\+/g,"%20"))}function UT(t){return`${Vp(t.path)}${ZP(t.parameters)}`}function ZP(t){return Object.entries(t).map(([e,n])=>`;${Vp(e)}=${Vp(n)}`).join("")}function XP(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ju(n)}=${ju(i)}`).join("&"):`${ju(n)}=${ju(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var eO=/^[^\/()?;#]+/;function xp(t){let e=t.match(eO);return e?e[0]:""}var tO=/^[^\/()?;=#]+/;function nO(t){let e=t.match(tO);return e?e[0]:""}var rO=/^[^=?&#]+/;function iO(t){let e=t.match(rO);return e?e[0]:""}var sO=/^[^&#]+/;function oO(t){let e=t.match(sO);return e?e[0]:""}var Up=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ne]=new ye(e,n)),r}parseSegment(){let e=xp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new zr(Hu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=nO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=xp(this.remaining);i&&(r=i,this.capture(r))}e[Hu(n)]=Hu(r)}parseQueryParam(e){let n=iO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=oO(this.remaining);o&&(r=o,this.capture(r))}let i=bT(n),s=bT(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=xp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ne);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ne]:new ye([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function jT(t){return t.segments.length>0?new ye([],{[ne]:t}):t}function BT(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=BT(i);if(r===ne&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ye(t.segments,e);return aO(n)}function aO(t){if(t.numberOfChildren===1&&t.children[ne]){let e=t.children[ne];return new ye(t.segments.concat(e.segments),e.children)}return t}function ts(t){return t instanceof ir}function cO(t,e,n=null,r=null){let i=$T(t);return qT(i,e,n,r)}function $T(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new ye(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=jT(r);return e??i}function qT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Pp(i,i,i,n,r);let s=uO(e);if(s.toRoot())return Pp(i,i,new ye([],{}),n,r);let o=lO(s,i,t),a=o.processChildren?Mo(o.segmentGroup,o.index,s.commands):zT(o.segmentGroup,o.index,s.commands);return Pp(i,o.segmentGroup,a,n,r)}function zu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ko(t){return typeof t=="object"&&t!=null&&t.outlets}function Pp(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;t===e?o=n:o=HT(t,e,n);let a=jT(BT(o));return new ir(a,s,i)}function HT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=HT(s,e,n)}),new ye(t.segments,r)}var Gu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&zu(r[0]))throw new B(4003,!1);let i=r.find(ko);if(i&&i!==PT(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function uO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Gu(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Gu(n,e,r)}var Zi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function lO(t,e,n){if(t.isAbsolute)return new Zi(e,!0,0);if(!n)return new Zi(e,!1,NaN);if(n.parent===null)return new Zi(n,!0,0);let r=zu(t.commands[0])?0:1,i=n.segments.length-1+r;return dO(n,i,t.numberOfDoubleDots)}function dO(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new Zi(r,!1,i-s)}function hO(t){return ko(t[0])?t[0].outlets:{[ne]:t}}function zT(t,e,n){if(t??=new ye([],{}),t.segments.length===0&&t.hasChildren())return Mo(t,e,n);let r=fO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ye(t.segments.slice(0,r.pathIndex),{});return s.children[ne]=new ye(t.segments.slice(r.pathIndex),t.children),Mo(s,0,i)}else return r.match&&i.length===0?new ye(t.segments,{}):r.match&&!t.hasChildren()?jp(t,e,n):r.match?Mo(t,0,i):jp(t,e,n)}function Mo(t,e,n){if(n.length===0)return new ye(t.segments,{});{let r=hO(n),i={};if(Object.keys(r).some(s=>s!==ne)&&t.children[ne]&&t.numberOfChildren===1&&t.children[ne].segments.length===0){let s=Mo(t.children[ne],e,n);return new ye(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=zT(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ye(t.segments,i)}}function fO(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(ko(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!ST(u,l,o))return s;r+=2}else{if(!ST(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function jp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ko(s)){let u=pO(s.outlets);return new ye(r,u)}if(i===0&&zu(n[0])){let u=t.segments[e];r.push(new zr(u.path,CT(n[0]))),i++;continue}let o=ko(s)?s.outlets[ne]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&zu(a)?(r.push(new zr(o,CT(a))),i+=2):(r.push(new zr(o,{})),i++)}return new ye(r,{})}function pO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=jp(new ye([],{}),0,r))}),e}function CT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function ST(t,e,n){return t==n.path&&nn(e,n.parameters)}var xo="imperative",Le=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Le||{}),Rt=class{constructor(e,n){this.id=e,this.url=n}},ns=class extends Rt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Le.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},rn=class extends Rt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Le.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},_t=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(_t||{}),Wu=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Wu||{}),sr=class extends Rt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Le.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},or=class extends Rt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Le.NavigationSkipped}},Fo=class extends Rt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Le.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ku=class extends Rt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Le.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bp=class extends Rt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Le.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$p=class extends Rt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Le.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},qp=class extends Rt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Le.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hp=class extends Rt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Le.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zp=class{constructor(e){this.route=e,this.type=Le.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Gp=class{constructor(e){this.route=e,this.type=Le.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wp=class{constructor(e){this.snapshot=e,this.type=Le.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kp=class{constructor(e){this.snapshot=e,this.type=Le.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qp=class{constructor(e){this.snapshot=e,this.type=Le.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yp=class{constructor(e){this.snapshot=e,this.type=Le.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qu=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Le.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Lo=class{},Vo=class{constructor(e){this.url=e}};var Jp=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new zo,this.attachRef=null}},zo=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Jp,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Yu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Zp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Zp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Xp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Xp(e,this._root).map(n=>n.value)}};function Zp(t,e){if(t===e.value)return e;for(let n of e.children){let r=Zp(t,n);if(r)return r}return null}function Xp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Xp(t,n);if(r.length)return r.unshift(e),r}return[]}var vt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ji(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ju=class extends Yu{constructor(e,n){super(e),this.snapshot=n,ug(this,e)}toString(){return this.snapshot.toString()}};function GT(t){let e=gO(t),n=new Be([new zr("",{})]),r=new Be({}),i=new Be({}),s=new Be({}),o=new Be(""),a=new ar(n,r,s,o,i,ne,t,e.root);return a.snapshot=e.root,new Ju(new vt(a,[]),e)}function gO(t){let e={},n={},r={},i="",s=new Uo([],e,r,i,n,ne,t,null,{});return new Zu("",new vt(s,[]))}var ar=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(X(l=>l[qo]))??G(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>es(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>es(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function cg(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),i?.data),t._resolvedData)}:r={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},i&&KT(i)&&(r.resolve[qo]=i.title),r}var Uo=class{get title(){return this.data?.[qo]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=es(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=es(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Zu=class extends Yu{constructor(e,n){super(n),this.url=e,ug(this,n)}toString(){return WT(this._root)}};function ug(t,e){e.value._routerState=t,e.children.forEach(n=>ug(t,n))}function WT(t){let e=t.children.length>0?` { ${t.children.map(WT).join(", ")} } `:"";return`${t.value}${e}`}function Op(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,nn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),nn(e.params,n.params)||t.paramsSubject.next(n.params),HP(e.url,n.url)||t.urlSubject.next(n.url),nn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function eg(t,e){let n=nn(t.params,e.params)&&KP(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||eg(t.parent,e.parent))}function KT(t){return typeof t.title=="string"||t.title===null}var mO=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new Lt,this.deactivateEvents=new Lt,this.attachEvents=new Lt,this.detachEvents=new Lt,this.parentContexts=P(zo),this.location=P(Hi),this.changeDetector=P(_o),this.environmentInjector=P(Ye),this.inputBinder=P(nl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new tg(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=$i({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[fo]})}}return t})(),tg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ar?this.route:e===zo?this.childContexts:this.parent.get(e,n)}},nl=new z(""),AT=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Js([r.queryParams,r.params,r.data]).pipe(dt(([s,o,a],u)=>(a=U(U(U({},s),o),a),u===0?G(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let o=WE(r.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function yO(t,e,n){let r=jo(t,e._root,n?n._root:void 0);return new Ju(r,e)}function jo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=vO(t,e,n);return new vt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>jo(t,a)),o}}let r=_O(e.value),i=e.children.map(s=>jo(t,s));return new vt(r,i)}}function vO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return jo(t,r,i);return jo(t,r)})}function _O(t){return new ar(new Be(t.url),new Be(t.params),new Be(t.queryParams),new Be(t.fragment),new Be(t.data),t.outlet,t.component,t)}var QT="ngNavigationCancelingError";function YT(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ts(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=JT(!1,_t.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function JT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[QT]=!0,n.cancellationCode=e,n}function IO(t){return ZT(t)&&ts(t.url)}function ZT(t){return!!t&&t[QT]}var wO=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=QI({type:t,selectors:[["ng-component"]],standalone:!0,features:[UE],decls:1,vars:0,template:function(r,i){r&1&&ap(0,"router-outlet")},dependencies:[mO],encapsulation:2})}}return t})();function EO(t,e){return t.providers&&!t._injector&&(t._injector=bu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function lg(t){let e=t.children&&t.children.map(lg),n=e?Re(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=wO),n}function sn(t){return t.outlet||ne}function TO(t,e){let n=t.filter(r=>sn(r)===e);return n.push(...t.filter(r=>sn(r)!==e)),n}function Go(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var DO=(t,e,n,r)=>X(i=>(new ng(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),ng=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Op(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ji(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ji(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ji(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ji(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Yp(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Kp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Op(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Op(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Go(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Xu=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Xi=class{constructor(e,n){this.component=e,this.route=n}};function bO(t,e,n){let r=t._root,i=e?e._root:null;return Ro(r,i,n,[r.value])}function CO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function is(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!FI(t)?t:e.get(t):r}function Ro(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ji(e);return t.children.forEach(o=>{SO(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Po(a,n.getContext(o),i)),i}function SO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=AO(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Xu(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ro(t,e,a?a.children:null,r,i):Ro(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xi(a.outlet.component,o))}else o&&Po(e,a,i),i.canActivateChecks.push(new Xu(r)),s.component?Ro(t,null,a?a.children:null,r,i):Ro(t,null,n,r,i);return i}function AO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Gr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Gr(t.url,e.url)||!nn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eg(t,e)||!nn(t.queryParams,e.queryParams);case"paramsChange":default:return!eg(t,e)}}function Po(t,e,n){let r=Ji(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Po(o,e.children.getContext(s),n):Po(o,null,n):Po(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Xi(e.outlet.component,i)):n.canDeactivateChecks.push(new Xi(null,i)):n.canDeactivateChecks.push(new Xi(null,i))}function Wo(t){return typeof t=="function"}function RO(t){return typeof t=="boolean"}function NO(t){return t&&Wo(t.canLoad)}function MO(t){return t&&Wo(t.canActivate)}function xO(t){return t&&Wo(t.canActivateChild)}function PO(t){return t&&Wo(t.canDeactivate)}function OO(t){return t&&Wo(t.canMatch)}function XT(t){return t instanceof _n||t?.name==="EmptyError"}var Bu=Symbol("INITIAL_VALUE");function rs(){return dt(t=>Js(t.map(e=>e.pipe(wn(1),bc(Bu)))).pipe(X(e=>{for(let n of e)if(n!==!0){if(n===Bu)return Bu;if(n===!1||n instanceof ir)return n}return!0}),ot(e=>e!==Bu),wn(1)))}function kO(t,e){return Ne(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?G(Re(U({},n),{guardsResult:!0})):FO(o,r,i,t).pipe(Ne(a=>a&&RO(a)?LO(r,s,t,e):G(a)),X(a=>Re(U({},n),{guardsResult:a})))})}function FO(t,e,n,r){return Ee(t).pipe(Ne(i=>$O(i.component,i.route,n,e,r)),Kt(i=>i!==!0,!0))}function LO(t,e,n,r){return Ee(e).pipe(In(i=>Si(UO(i.route.parent,r),VO(i.route,r),BO(t,i.path,n),jO(t,i.route,n))),Kt(i=>i!==!0,!0))}function VO(t,e){return t!==null&&e&&e(new Qp(t)),G(!0)}function UO(t,e){return t!==null&&e&&e(new Wp(t)),G(!0)}function jO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return G(!0);let i=r.map(s=>wc(()=>{let o=Go(e)??n,a=is(s,o),u=MO(a)?a.canActivate(e,t):qt(o,()=>a(e,t));return cr(u).pipe(Kt())}));return G(i).pipe(rs())}function BO(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>CO(o)).filter(o=>o!==null).map(o=>wc(()=>{let a=o.guards.map(u=>{let l=Go(o.node)??n,f=is(u,l),p=xO(f)?f.canActivateChild(r,t):qt(l,()=>f(r,t));return cr(p).pipe(Kt())});return G(a).pipe(rs())}));return G(s).pipe(rs())}function $O(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return G(!0);let o=s.map(a=>{let u=Go(e)??i,l=is(a,u),f=PO(l)?l.canDeactivate(t,e,n,r):qt(u,()=>l(t,e,n,r));return cr(f).pipe(Kt())});return G(o).pipe(rs())}function qO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return G(!0);let s=i.map(o=>{let a=is(o,t),u=NO(a)?a.canLoad(e,n):qt(t,()=>a(e,n));return cr(u)});return G(s).pipe(rs(),eD(r))}function eD(t){return tc(xe(e=>{if(ts(e))throw YT(t,e)}),X(e=>e===!0))}function HO(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return G(!0);let s=i.map(o=>{let a=is(o,t),u=OO(a)?a.canMatch(e,n):qt(t,()=>a(e,n));return cr(u)});return G(s).pipe(rs(),eD(r))}var Bo=class{constructor(e){this.segmentGroup=e||null}},el=class extends Error{constructor(e){super(),this.urlTree=e}};function Yi(t){return Ci(new Bo(t))}function zO(t){return Ci(new B(4e3,!1))}function GO(t){return Ci(JT(!1,_t.GuardRejected))}var rg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return G(r);if(i.numberOfChildren>1||!i.children[ne])return zO(e.redirectTo);i=i.children[ne]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new el(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new ir(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new ye(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},ig={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function WO(t,e,n,r,i){let s=dg(t,e,n);return s.matched?(r=EO(e,r),HO(r,e,n,i).pipe(X(o=>o===!0?s:U({},ig)))):G(s)}function dg(t,e,n){if(e.path==="**")return KO(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},ig):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||qP)(n,t,e);if(!i)return U({},ig);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?U(U({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function KO(t){return{matched:!0,parameters:t.length>0?PT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function RT(t,e,n,r){return n.length>0&&JO(t,n,r)?{segmentGroup:new ye(e,YO(r,new ye(n,t.children))),slicedSegments:[]}:n.length===0&&ZO(t,n,r)?{segmentGroup:new ye(t.segments,QO(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ye(t.segments,t.children),slicedSegments:n}}function QO(t,e,n,r){let i={};for(let s of n)if(rl(t,e,s)&&!r[sn(s)]){let o=new ye([],{});i[sn(s)]=o}return U(U({},r),i)}function YO(t,e){let n={};n[ne]=e;for(let r of t)if(r.path===""&&sn(r)!==ne){let i=new ye([],{});n[sn(r)]=i}return n}function JO(t,e,n){return n.some(r=>rl(t,e,r)&&sn(r)!==ne)}function ZO(t,e,n){return n.some(r=>rl(t,e,r))}function rl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function XO(t,e,n,r){return sn(t)!==r&&(r===ne||!rl(e,n,t))?!1:dg(e,t,n).matched}function ek(t,e,n){return e.length===0&&!t.children[n]}var sg=class{};function tk(t,e,n,r,i,s,o="emptyOnly"){return new og(t,e,n,r,i,o,s).recognize()}var nk=31,og=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new rg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=RT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(n=>{let r=new Uo([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,{},ne,this.rootComponentType,null,{}),i=new vt(r,n),s=new Zu("",i),o=cO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ne).pipe(Wn(r=>{if(r instanceof el)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Bo?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=cg(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(X(s=>s instanceof vt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Ee(i).pipe(In(s=>{let o=r.children[s],a=TO(n,s);return this.processSegmentGroup(e,a,o,s)}),Dc((s,o)=>(s.push(...o),s)),Kn(null),oh(),Ne(s=>{if(s===null)return Yi(r);let o=tD(s);return rk(o),G(o)}))}processSegment(e,n,r,i,s,o){return Ee(n).pipe(In(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Wn(u=>{if(u instanceof Bo)return G(null);throw u}))),Kt(a=>!!a),Wn(a=>{if(XT(a))return ek(r,i,s)?G(new sg):Yi(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return XO(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Yi(i):Yi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:f}=dg(n,i,s);if(!a)return Yi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>nk&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(Ne(m=>this.processSegment(e,r,n,m.concat(f),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=WO(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(dt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(dt(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:f,remainingSegments:p,parameters:m}=a,I=new Uo(f,m,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,sk(r),sn(r),r.component??r._loadedComponent??null,r,ok(r)),{segmentGroup:S,slicedSegments:R}=RT(n,f,p,u);if(R.length===0&&S.hasChildren())return this.processChildren(l,u,S).pipe(X(k=>k===null?null:new vt(I,k)));if(u.length===0&&R.length===0)return G(new vt(I,[]));let N=sn(r)===s;return this.processSegment(l,u,S,R,N?ne:s,!0).pipe(X(k=>new vt(I,k instanceof vt?[k]:[])))}))):Yi(n)))}getChildConfig(e,n,r){return n.children?G({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?G({routes:n._loadedRoutes,injector:n._loadedInjector}):qO(e,n,r,this.urlSerializer).pipe(Ne(i=>i?this.configLoader.loadChildren(e,n).pipe(xe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):GO(n))):G({routes:[],injector:e})}};function rk(t){t.sort((e,n)=>e.value.outlet===ne?-1:n.value.outlet===ne?1:e.value.outlet.localeCompare(n.value.outlet))}function ik(t){let e=t.value.routeConfig;return e&&e.path===""}function tD(t){let e=[],n=new Set;for(let r of t){if(!ik(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=tD(r.children);e.push(new vt(r.value,i))}return e.filter(r=>!n.has(r))}function sk(t){return t.data||{}}function ok(t){return t.resolve||{}}function ak(t,e,n,r,i,s){return Ne(o=>tk(t,e,n,r,o.extractedUrl,i,s).pipe(X(({state:a,tree:u})=>Re(U({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function ck(t,e){return Ne(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return G(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of nD(u))o.add(l);let a=0;return Ee(o).pipe(In(u=>s.has(u)?uk(u,r,t,e):(u.data=cg(u,u.parent,t).resolve,G(void 0))),xe(()=>a++),Ai(1),Ne(u=>a===o.size?G(n):st))})}function nD(t){let e=t.children.map(n=>nD(n)).flat();return[t,...e]}function uk(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!KT(i)&&(s[qo]=i.title),lk(s,t,e,r).pipe(X(o=>(t._resolvedData=o,t.data=cg(t,t.parent,n).resolve,null)))}function lk(t,e,n,r){let i=Lp(t);if(i.length===0)return G({});let s={};return Ee(i).pipe(Ne(o=>dk(t[o],e,n,r).pipe(Kt(),xe(a=>{s[o]=a}))),Ai(1),sh(s),Wn(o=>XT(o)?st:Ci(o)))}function dk(t,e,n,r){let i=Go(e)??r,s=is(t,i),o=s.resolve?s.resolve(e,n):qt(i,()=>s(e,n));return cr(o)}function kp(t){return dt(e=>{let n=t(e);return n?Ee(n).pipe(X(()=>e)):G(e)})}var rD=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ne);return r}getResolvedTitleForRoute(n){return n.data[qo]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>P(hk),providedIn:"root"})}}return t})(),hk=(()=>{class t extends rD{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)($(TT))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ko=new z("",{providedIn:"root",factory:()=>({})}),$o=new z(""),hg=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(Au)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return G(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=cr(n.loadComponent()).pipe(X(iD),xe(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Qn(()=>{this.componentLoaders.delete(n)})),i=new Ti(r,()=>new Qe).pipe(Ei());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=fk(r,this.compiler,n,this.onLoadEndListener).pipe(Qn(()=>{this.childrenLoaders.delete(r)})),o=new Ti(s,()=>new Qe).pipe(Ei());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function fk(t,e,n,r){return cr(t.loadChildren()).pipe(X(iD),Ne(i=>i instanceof co||Array.isArray(i)?G(i):Ee(e.compileModuleAsync(i))),X(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get($o,[],{optional:!0,self:!0}).flat()),{routes:o.map(lg),injector:s}}))}function pk(t){return t&&typeof t=="object"&&"default"in t}function iD(t){return pk(t)?t.default:t}var fg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>P(gk),providedIn:"root"})}}return t})(),gk=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),sD=new z(""),oD=new z("");function mk(t,e,n){let r=t.get(oD),i=t.get(Ze);return t.get(me).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),yk(t))),{onViewTransitionCreated:u}=r;return u&&qt(t,()=>u({transition:a,from:e,to:n})),o})}function yk(t){return new Promise(e=>{Du(e,{injector:t})})}var pg=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Qe,this.transitionAbortSubject=new Qe,this.configLoader=P(hg),this.environmentInjector=P(Ye),this.urlSerializer=P(Ho),this.rootContexts=P(zo),this.location=P(Ki),this.inputBindingEnabled=P(nl,{optional:!0})!==null,this.titleStrategy=P(rD),this.options=P(Ko,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(fg),this.createViewTransition=P(sD,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null;let n=i=>this.events.next(new zp(i)),r=i=>this.events.next(new Gp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Re(U(U({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Be({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:xo,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ot(s=>s.id!==0),X(s=>Re(U({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),dt(s=>{let o=!1,a=!1;return G(s).pipe(dt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",_t.SupersededByNewNavigation),st;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Re(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&f!=="reload"){let p="";return this.events.next(new or(u.id,this.urlSerializer.serialize(u.rawUrl),p,Wu.IgnoredSameUrlNavigation)),u.resolve(null),st}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return G(u).pipe(dt(p=>{let m=this.transitions?.getValue();return this.events.next(new ns(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?st:Promise.resolve(p)}),ak(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),xe(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Re(U({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new Ku(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:I,restoredState:S,extras:R}=u,N=new ns(p,this.urlSerializer.serialize(m),I,S);this.events.next(N);let k=GT(this.rootComponentType).snapshot;return this.currentTransition=s=Re(U({},u),{targetSnapshot:k,urlAfterRedirects:m,extras:Re(U({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,G(s)}else{let p="";return this.events.next(new or(u.id,this.urlSerializer.serialize(u.extractedUrl),p,Wu.IgnoredByUrlHandlingStrategy)),u.resolve(null),st}}),xe(u=>{let l=new Bp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),X(u=>(this.currentTransition=s=Re(U({},u),{guards:bO(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),kO(this.environmentInjector,u=>this.events.next(u)),xe(u=>{if(s.guardsResult=u.guardsResult,ts(u.guardsResult))throw YT(this.urlSerializer,u.guardsResult);let l=new $p(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),ot(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",_t.GuardRejected),!1)),kp(u=>{if(u.guards.canActivateChecks.length)return G(u).pipe(xe(l=>{let f=new qp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),dt(l=>{let f=!1;return G(l).pipe(ck(this.paramsInheritanceStrategy,this.environmentInjector),xe({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",_t.NoDataFromResolver)}}))}),xe(l=>{let f=new Hp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),kp(u=>{let l=f=>{let p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe(xe(m=>{f.component=m}),X(()=>{})));for(let m of f.children)p.push(...l(m));return p};return Js(l(u.targetSnapshot.root)).pipe(Kn(null),wn(1))}),kp(()=>this.afterPreactivation()),dt(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,f=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return f?Ee(f).pipe(X(()=>s)):G(s)}),X(u=>{let l=yO(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=Re(U({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),xe(()=>{this.events.next(new Lo)}),DO(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),wn(1),xe({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new rn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),ah(this.transitionAbortSubject.pipe(xe(u=>{throw u}))),Qn(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",_t.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Wn(u=>{if(a=!0,ZT(u))this.events.next(new sr(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),IO(u)?this.events.next(new Vo(u.url)):s.resolve(!1);else{this.events.next(new Fo(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(l)}}return st}))}))}cancelNavigationTransition(n,r,i){let s=new sr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function vk(t){return t!==xo}var _k=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>P(Ik),providedIn:"root"})}}return t})(),ag=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Ik=(()=>{class t extends ag{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Lf(t)))(i||t)}})()}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),aD=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>P(wk),providedIn:"root"})}}return t})(),wk=(()=>{class t extends aD{constructor(){super(...arguments),this.location=P(Ki),this.urlSerializer=P(Ho),this.options=P(Ko,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(fg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ir,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=GT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof ns)this.stateMemento=this.createStateMemento();else if(n instanceof or)this.rawUrlTree=r.initialUrl;else if(n instanceof Ku){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof Lo?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof sr&&(n.code===_t.GuardRejected||n.code===_t.NoDataFromResolver)?this.restoreHistory(r):n instanceof Fo?this.restoreHistory(r,!0):n instanceof rn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=U(U({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=U(U({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Lf(t)))(i||t)}})()}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),No=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(No||{});function cD(t,e){t.events.pipe(ot(n=>n instanceof rn||n instanceof sr||n instanceof Fo||n instanceof or),X(n=>n instanceof rn||n instanceof or?No.COMPLETE:(n instanceof sr?n.code===_t.Redirect||n.code===_t.SupersededByNewNavigation:!1)?No.REDIRECTING:No.FAILED),ot(n=>n!==No.REDIRECTING),wn(1)).subscribe(()=>{e()})}function Ek(t){throw t}var Tk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Dk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Nn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=P(Cu),this.stateManager=P(aD),this.options=P(Ko,{optional:!0})||{},this.pendingTasks=P(qr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(pg),this.urlSerializer=P(Ho),this.location=P(Ki),this.urlHandlingStrategy=P(fg),this._events=new Qe,this.errorHandler=this.options.errorHandler||Ek,this.navigated=!1,this.routeReuseStrategy=P(_k),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P($o,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(nl,{optional:!0}),this.eventsSubscription=new Ce,this.isNgZoneEnabled=P(me)instanceof me&&me.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof sr&&r.code!==_t.Redirect&&r.code!==_t.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof rn)this.navigated=!0;else if(r instanceof Vo){let o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||vk(i.source)};this.scheduleNavigation(o,xo,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Ck(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),xo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=U({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(lg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,f=null;switch(a){case"merge":f=U(U({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=$T(m)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),p=this.currentUrlTree.root}return qT(p,n,f,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ts(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,xo,null,r)}navigate(n,r={skipLocationChange:!1}){return bk(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=U({},Tk):r===!1?i=U({},Dk):i=r,ts(n))return DT(this.currentUrlTree,n,i);let s=this.parseUrl(n);return DT(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,m)=>{a=p,u=m});let f=this.pendingTasks.add();return cD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function bk(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new B(4008,!1)}function Ck(t){return!(t instanceof Lo)&&!(t instanceof Vo)}var WG=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Qe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof rn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:Jw(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)($e(Nn),$e(ar),Vf("tabindex"),$e(Eu),$e(go),$e(Rn))}}static{this.\u0275dir=$i({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&cp("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&op("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ut.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Io],skipLocationChange:[Ut.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Io],replaceUrl:[Ut.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Io],routerLink:"routerLink"},standalone:!0,features:[np,fo]})}}return t})();var tl=class{};var Sk=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ot(n=>n instanceof rn),In(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=bu(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ee(i).pipe(Gn())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=G(null);let s=i.pipe(Ne(o=>o===null?G(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Ee([s,o]).pipe(Gn())}else return s})}static{this.\u0275fac=function(r){return new(r||t)($(Nn),$(Au),$(Ye),$(tl),$(hg))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),uD=new z(""),Ak=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=P(Ye),o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ns?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof rn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof or&&n.code===Wu.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Qu&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>C(this,null,function*(){yield new Promise(i=>{setTimeout(()=>{i()}),Du(()=>{i()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Qu(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){uE()}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function KG(t,...e){return tn([{provide:$o,multi:!0,useValue:t},[],{provide:ar,useFactory:lD,deps:[Nn]},{provide:vo,multi:!0,useFactory:dD},e.map(n=>n.\u0275providers)])}function lD(t){return t.routerState.root}function Qo(t,e){return{\u0275kind:t,\u0275providers:e}}function dD(){let t=P(Ct);return e=>{let n=t.get(zi);if(e!==n.components[0])return;let r=t.get(Nn),i=t.get(hD);t.get(gg)===1&&r.initialNavigation(),t.get(fD,null,se.Optional)?.setUpPreloading(),t.get(uD,null,se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var hD=new z("",{factory:()=>new Qe}),gg=new z("",{providedIn:"root",factory:()=>1});function Rk(){return Qo(2,[{provide:gg,useValue:0},{provide:Su,multi:!0,deps:[Ct],useFactory:e=>{let n=e.get(tT,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Nn),s=e.get(hD);cD(i,()=>{r(!0)}),e.get(pg).afterPreactivation=()=>(r(!0),s.closed?G(void 0):s),i.initialNavigation()}))}}])}function Nk(){return Qo(3,[{provide:Su,multi:!0,useFactory:()=>{let e=P(Nn);return()=>{e.setUpLocationChangeListener()}}},{provide:gg,useValue:2}])}var fD=new z("");function Mk(t){return Qo(0,[{provide:fD,useExisting:Sk},{provide:tl,useExisting:t}])}function xk(){return Qo(8,[AT,{provide:nl,useExisting:AT}])}function Pk(t){let e=[{provide:sD,useValue:mk},{provide:oD,useValue:U({skipNextTransition:!!t?.skipInitialTransition},t)}];return Qo(9,e)}var NT=new z("ROUTER_FORROOT_GUARD"),Ok=[Ki,{provide:Ho,useClass:Oo},Nn,zo,{provide:ar,useFactory:lD,deps:[Nn]},hg,[]],QG=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[Ok,[],{provide:$o,multi:!0,useValue:n},{provide:NT,useFactory:Vk,deps:[[Nn,new yt,new au]]},{provide:Ko,useValue:r||{}},r?.useHash?Fk():Lk(),kk(),r?.preloadingStrategy?Mk(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Uk(r):[],r?.bindToComponentInputs?xk().\u0275providers:[],r?.enableViewTransitions?Pk().\u0275providers:[],jk()]}}static forChild(n){return{ngModule:t,providers:[{provide:$o,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)($(NT,8))}}static{this.\u0275mod=$r({type:t})}static{this.\u0275inj=Br({})}}return t})();function kk(){return{provide:uD,useFactory:()=>{let t=P(iT),e=P(me),n=P(Ko),r=P(pg),i=P(Ho);return n.scrollOffset&&t.setOffset(n.scrollOffset),new Ak(i,r,t,e,n)}}}function Fk(){return{provide:Rn,useClass:rT}}function Lk(){return{provide:Rn,useClass:vp}}function Vk(t){return"guarded"}function Uk(t){return[t.initialNavigation==="disabled"?Nk().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Rk().\u0275providers:[]]}var MT=new z("");function jk(){return[{provide:MT,useFactory:dD},{provide:vo,multi:!0,useExisting:MT}]}var gD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Bk=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},mD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,I=l&63;u||(I=64,o||(m=64)),r.push(n[f],n[p],n[m],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Bk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new yg;let m=s<<2|a>>4;if(r.push(m),l!==64){let I=a<<4&240|l>>2;if(r.push(I),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},yg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},$k=function(t){let e=gD(t);return mD.encodeByteArray(e,!0)},Yo=function(t){return $k(t).replace(/\./g,"")},_g=function(t){try{return mD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Hk=()=>qk().__FIREBASE_DEFAULTS__,zk=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Gk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&_g(t[1]);return e&&JSON.parse(e)},sl=()=>{try{return Hk()||zk()||Gk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yD=t=>{var e,n;return(n=(e=sl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vD=t=>{let e=yD(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ig=()=>{var t;return(t=sl())===null||t===void 0?void 0:t.config},_D=t=>{var e;return(e=sl())===null||e===void 0?void 0:e[`_${t}`]};var il=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function ID(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yo(JSON.stringify(n)),Yo(JSON.stringify(o)),""].join(".")}function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function Wk(){var t;let e=(t=sl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ED(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function DD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bD(){return!Wk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wg(){try{return typeof indexedDB=="object"}catch{return!1}}function CD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var Kk="FirebaseError",Nt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Kk,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mn.prototype.create)}},Mn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Qk(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Nt(i,a,r)}};function Qk(t,e){return t.replace(Yk,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Yk=/\{\$([^}]+)}/g;function ur(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(pD(s)&&pD(o)){if(!ur(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function pD(t){return t!==null&&typeof t=="object"}function Eg(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function SD(t,e){let n=new vg(t,e);return n.subscribe.bind(n)}var vg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Jk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=mg),i.error===void 0&&(i.error=mg),i.complete===void 0&&(i.complete=mg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Jk(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mg(){}var ZG=4*60*60*1e3;function Xe(t){return t&&t._delegate?t._delegate:t}var Mt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Wr="[DEFAULT]";var Tg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new il;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xk(e))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Wr){return this.instances.has(e)}getOptions(e=Wr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wr){return this.component?this.component.multipleInstances?e:Wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Zk(t){return t===Wr?void 0:t}function Xk(t){return t.instantiationMode==="EAGER"}var ol=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Tg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var e1=[],ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ce||{}),t1={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},n1=ce.INFO,r1={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},i1=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=r1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},lr=class{constructor(e){this.name=e,this._logLevel=n1,this._logHandler=i1,this._userLogHandler=null,e1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var s1=(t,e)=>e.some(n=>t instanceof n),AD,RD;function o1(){return AD||(AD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a1(){return RD||(RD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var ND=new WeakMap,bg=new WeakMap,MD=new WeakMap,Dg=new WeakMap,Sg=new WeakMap;function c1(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(on(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ND.set(n,t)}).catch(()=>{}),Sg.set(e,t),e}function u1(t){if(bg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});bg.set(t,e)}var Cg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||MD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return on(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xD(t){Cg=t(Cg)}function l1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(al(this),e,...n);return MD.set(r,e.sort?e.sort():[e]),on(r)}:a1().includes(t)?function(...e){return t.apply(al(this),e),on(ND.get(this))}:function(...e){return on(t.apply(al(this),e))}}function d1(t){return typeof t=="function"?l1(t):(t instanceof IDBTransaction&&u1(t),s1(t,o1())?new Proxy(t,Cg):t)}function on(t){if(t instanceof IDBRequest)return c1(t);if(Dg.has(t))return Dg.get(t);let e=d1(t);return e!==t&&(Dg.set(t,e),Sg.set(e,t)),e}var al=t=>Sg.get(t);function OD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=on(o);return r&&o.addEventListener("upgradeneeded",u=>{r(on(o.result),u.oldVersion,u.newVersion,on(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var h1=["get","getKey","getAll","getAllKeys","count"],f1=["put","add","delete","clear"],Ag=new Map;function PD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ag.get(e))return Ag.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=f1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||h1.includes(n)))return;let s=function(o,...a){return C(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Ag.set(e,s),s}xD(t=>Re(U({},t),{get:(e,n,r)=>PD(e,n)||t.get(e,n,r),has:(e,n)=>!!PD(e,n)||t.has(e,n)}));var Ng=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(p1(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function p1(t){let e=t.getComponent();return e?.type==="VERSION"}var Mg="@firebase/app",kD="0.10.13";var xn=new lr("@firebase/app"),g1="@firebase/app-compat",m1="@firebase/analytics-compat",y1="@firebase/analytics",v1="@firebase/app-check-compat",_1="@firebase/app-check",I1="@firebase/auth",w1="@firebase/auth-compat",E1="@firebase/database",T1="@firebase/data-connect",D1="@firebase/database-compat",b1="@firebase/functions",C1="@firebase/functions-compat",S1="@firebase/installations",A1="@firebase/installations-compat",R1="@firebase/messaging",N1="@firebase/messaging-compat",M1="@firebase/performance",x1="@firebase/performance-compat",P1="@firebase/remote-config",O1="@firebase/remote-config-compat",k1="@firebase/storage",F1="@firebase/storage-compat",L1="@firebase/firestore",V1="@firebase/vertexai-preview",U1="@firebase/firestore-compat",j1="firebase",B1="10.14.1";var xg="[DEFAULT]",$1={[Mg]:"fire-core",[g1]:"fire-core-compat",[y1]:"fire-analytics",[m1]:"fire-analytics-compat",[_1]:"fire-app-check",[v1]:"fire-app-check-compat",[I1]:"fire-auth",[w1]:"fire-auth-compat",[E1]:"fire-rtdb",[T1]:"fire-data-connect",[D1]:"fire-rtdb-compat",[b1]:"fire-fn",[C1]:"fire-fn-compat",[S1]:"fire-iid",[A1]:"fire-iid-compat",[R1]:"fire-fcm",[N1]:"fire-fcm-compat",[M1]:"fire-perf",[x1]:"fire-perf-compat",[P1]:"fire-rc",[O1]:"fire-rc-compat",[k1]:"fire-gcs",[F1]:"fire-gcs-compat",[L1]:"fire-fst",[U1]:"fire-fst-compat",[V1]:"fire-vertex","fire-js":"fire-js",[j1]:"fire-js-all"};var Jo=new Map,q1=new Map,Pg=new Map;function FD(t,e){try{t.container.addComponent(e)}catch(n){xn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hr(t){let e=t.name;if(Pg.has(e))return xn.debug(`There were multiple attempts to register component ${e}.`),!1;Pg.set(e,t);for(let n of Jo.values())FD(n,t);for(let n of q1.values())FD(n,t);return!0}function Lg(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ss(t){return t.settings!==void 0}var H1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new Mn("app","Firebase",H1);var Og=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}};var os=B1;function Vg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:xg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw dr.create("bad-app-name",{appName:String(i)});if(n||(n=Ig()),!n)throw dr.create("no-options");let s=Jo.get(i);if(s){if(ur(n,s.options)&&ur(r,s.config))return s;throw dr.create("duplicate-app",{appName:i})}let o=new ol(i);for(let u of Pg.values())o.addComponent(u);let a=new Og(n,r,o);return Jo.set(i,a),a}function Xo(t=xg){let e=Jo.get(t);if(!e&&t===xg&&Ig())return Vg();if(!e)throw dr.create("no-app",{appName:t});return e}function cl(){return Array.from(Jo.values())}function Ve(t,e,n){var r;let i=(r=$1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xn.warn(a.join(" "));return}hr(new Mt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var z1="firebase-heartbeat-database",G1=1,Zo="firebase-heartbeat-store",Rg=null;function jD(){return Rg||(Rg=OD(z1,G1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zo)}catch(n){console.warn(n)}}}}).catch(t=>{throw dr.create("idb-open",{originalErrorMessage:t.message})})),Rg}function W1(t){return C(this,null,function*(){try{let n=(yield jD()).transaction(Zo),r=yield n.objectStore(Zo).get(BD(t));return yield n.done,r}catch(e){if(e instanceof Nt)xn.warn(e.message);else{let n=dr.create("idb-get",{originalErrorMessage:e?.message});xn.warn(n.message)}}})}function LD(t,e){return C(this,null,function*(){try{let r=(yield jD()).transaction(Zo,"readwrite");yield r.objectStore(Zo).put(e,BD(t)),yield r.done}catch(n){if(n instanceof Nt)xn.warn(n.message);else{let r=dr.create("idb-set",{originalErrorMessage:n?.message});xn.warn(r.message)}}})}function BD(t){return`${t.name}!${t.options.appId}`}var K1=1024,Q1=30*24*60*60*1e3,kg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Fg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=VD();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Q1}),this._storage.overwrite(this._heartbeatsCache))}catch(r){xn.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=VD(),{heartbeatsToSend:r,unsentEntries:i}=Y1(this._heartbeatsCache.heartbeats),s=Yo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return xn.warn(n),""}})}};function VD(){return new Date().toISOString().substring(0,10)}function Y1(t,e=K1){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),UD(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),UD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Fg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return wg()?CD().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield W1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return LD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return LD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function UD(t){return Yo(JSON.stringify({version:2,heartbeats:t})).length}function J1(t){hr(new Mt("platform-logger",e=>new Ng(e),"PRIVATE")),hr(new Mt("heartbeat",e=>new kg(e),"PRIVATE")),Ve(Mg,kD,t),Ve(Mg,kD,"esm2017"),Ve("fire-js","")}J1("");var Z1="firebase",X1="10.14.1";Ve(Z1,X1,"app");var cs=new er("ANGULARFIRE2_VERSION");function jg(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ta=(t,e)=>{let n=e?[e]:cl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ea=class{constructor(){return ta(eF)}},eF="app-check";function as(){}var ul=class{zone;delegate;constructor(e,n=nh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Ug=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",as,{},as,as)),n.pipe(xe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},na=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ul(Zone.current)),this.insideAngular=n.run(()=>new ul(Zone.current,zn)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)($(me))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ll(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function tF(t){return ll().ngZone.runOutsideAngular(()=>t())}function Kr(t){return ll().ngZone.run(()=>t())}function nF(t){return rF(ll())(t)}function rF(t){return function(n){return n=n.lift(new Ug(t.ngZone)),n.pipe($n(t.outsideAngular),Bn(t.insideAngular))}}var iF=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Kr(()=>t.apply(void 0,r))},qe=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Kr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",as,{},as,as))),r[s]=iF(r[s],n));let i=tF(()=>t.apply(this,r));if(!e)if(i instanceof Z){let s=ll();return i.pipe($n(s.outsideAngular),Bn(s.insideAngular))}else return Kr(()=>i);return i instanceof Z?i.pipe(nF):i instanceof Promise?Kr(()=>new Promise((s,o)=>i.then(a=>Kr(()=>s(a)),a=>Kr(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Kr(()=>i)};var Qr=class{constructor(e){return e}},ra=class{constructor(){return cl()}};function sF(t){return t&&t.length===1?t[0]:new Qr(Xo())}var Bg=new z("angularfire2._apps"),oF={provide:Qr,useFactory:sF,deps:[[new yt,Bg]]},aF={provide:ra,deps:[[new yt,Bg]]};function cF(t){return(e,n)=>{let r=n.get(St);Ve("angularfire",cs.full,"core"),Ve("angularfire",cs.full,"app"),Ve("angular",BE.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Qr(i)}}function VW(t,...e){return tn([oF,aF,{provide:Bg,useFactory:cF(t),multi:!0,deps:[me,Ct,na,...e]}])}var UW=qe(Vg,!0);function QD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var YD=QD,JD=new Mn("auth","Firebase",QD());var pl=new lr("@firebase/auth");function lF(t,...e){pl.logLevel<=ce.WARN&&pl.warn(`Auth (${os}): ${t}`,...e)}function hl(t,...e){pl.logLevel<=ce.ERROR&&pl.error(`Auth (${os}): ${t}`,...e)}function $D(t,...e){throw Xg(t,...e)}function Zg(t,...e){return Xg(t,...e)}function ZD(t,e,n){let r=Object.assign(Object.assign({},YD()),{[e]:n});return new Mn("auth","Firebase",r).create(e,{appName:t.name})}function fl(t){return ZD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return JD.create(t,...e)}function ge(t,e,...n){if(!t)throw Xg(e,...n)}function ia(t){let e="INTERNAL ASSERTION FAILED: "+t;throw hl(e),new Error(e)}function gl(t,e){t||ia(e)}function dF(){return qD()==="http:"||qD()==="https:"}function qD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function hF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dF()||TD()||"connection"in navigator)?navigator.onLine:!0}function fF(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Jr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,gl(n>e,"Short delay should be less than long delay!"),this.isMobile=wD()||DD()}get(){return hF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function pF(t,e){gl(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ml=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ia("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ia("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ia("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var gF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var mF=new Jr(3e4,6e4);function XD(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Il(s,o,a,u){return C(this,arguments,function*(t,e,n,r,i={}){return eb(t,i,()=>C(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=Eg(Object.assign({key:t.config.apiKey},f)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let I=Object.assign({method:e,headers:m},l);return ED()||(I.referrerPolicy="no-referrer"),ml.fetch()(tb(t,t.config.apiHost,n,p),I)}))})}function eb(t,e,n){return C(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},gF),e);try{let i=new Hg(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw dl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw dl(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw dl(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw dl(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw ZD(t,f,l);$D(t,f)}}catch(i){if(i instanceof Nt)throw i;$D(t,"network-request-failed",{message:String(i)})}})}function tb(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?pF(t.config,i):`${t.config.apiScheme}://${i}`}var Hg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zg(this.auth,"network-request-failed")),mF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function dl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Zg(t,e,r);return i.customData._tokenResponse=n,i}function yF(t,e){return C(this,null,function*(){return Il(t,"POST","/v1/accounts:delete",e)})}function nb(t,e){return C(this,null,function*(){return Il(t,"POST","/v1/accounts:lookup",e)})}function sa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function em(t,e=!1){return C(this,null,function*(){let n=Xe(t),r=yield n.getIdToken(e),i=rb(r);ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:sa($g(i.auth_time)),issuedAtTime:sa($g(i.iat)),expirationTime:sa($g(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function $g(t){return Number(t)*1e3}function rb(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hl("JWT malformed, contained fewer than 3 sections"),null;try{let i=_g(n);return i?JSON.parse(i):(hl("Failed to decode base64 JWT payload"),null)}catch(i){return hl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function HD(t){let e=rb(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function zg(t,e,n=!1){return C(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Nt&&vF(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function vF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Gg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),n)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var aa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sa(this.lastLoginAt),this.creationTime=sa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function yl(t){return C(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield zg(t,nb(n,{idToken:r}));ge(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ib(s.providerUserInfo):[],a=_F(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,f=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new aa(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function tm(t){return C(this,null,function*(){let e=Xe(t);yield yl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function _F(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ib(t){return t.map(e=>{var{providerId:n}=e,r=Yd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function IF(t,e){return C(this,null,function*(){let n=yield eb(t,{},()=>C(this,null,function*(){let r=Eg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=tb(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ml.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function wF(t,e){return C(this,null,function*(){return Il(t,"POST","/v2/accounts:revokeToken",XD(t,e))})}var oa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");let n=HD(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return C(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield IF(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(ge(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ge(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ge(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ia("not implemented")}};function fr(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ca=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Yd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new aa(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let n=yield zg(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return em(this,e)}reload(){return tm(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield yl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(ss(this.auth.app))return Promise.reject(fl(this.auth));let e=yield this.getIdToken();return yield zg(this,yF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=n.createdAt)!==null&&l!==void 0?l:void 0,K=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:L,emailVerified:re,isAnonymous:De,providerData:J,stsTokenManager:E}=n;ge(L&&E,e,"internal-error");let y=oa.fromJSON(this.name,E);ge(typeof L=="string",e,"internal-error"),fr(p,e.name),fr(m,e.name),ge(typeof re=="boolean",e,"internal-error"),ge(typeof De=="boolean",e,"internal-error"),fr(I,e.name),fr(S,e.name),fr(R,e.name),fr(N,e.name),fr(k,e.name),fr(K,e.name);let v=new t({uid:L,auth:e,email:m,emailVerified:re,displayName:p,isAnonymous:De,photoURL:S,phoneNumber:I,tenantId:R,stsTokenManager:y,createdAt:k,lastLoginAt:K});return J&&Array.isArray(J)&&(v.providerData=J.map(w=>Object.assign({},w))),N&&(v._redirectEventId=N),v}static _fromIdTokenResponse(e,n,r=!1){return C(this,null,function*(){let i=new oa;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield yl(s),s})}static _fromGetAccountInfoResponse(e,n,r){return C(this,null,function*(){let i=n.users[0];ge(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?ib(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new oa;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new aa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var zD=new Map;function Yr(t){gl(t instanceof Function,"Expected a class definition");let e=zD.get(t);return e?(gl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zD.set(t,e),e)}var EF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(n,r){return C(this,null,function*(){this.storage[n]=r})}_get(n){return C(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return C(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Wg=EF;function qg(t,e,n){return`firebase:${t}:${e}:${n}`}var vl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=qg(this.userKey,i.apiKey,s),this.fullPersistenceKey=qg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ca._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return C(this,null,function*(){if(!n.length)return new t(Yr(Wg),e,r);let i=(yield Promise.all(n.map(l=>C(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Yr(Wg),o=qg(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let f=yield l._get(o);if(f){let p=ca._fromJSON(e,f);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>C(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function GD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AF(e))return"Blackberry";if(RF(e))return"Webos";if(DF(e))return"Safari";if((e.includes("chrome/")||bF(e))&&!e.includes("edge/"))return"Chrome";if(SF(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function TF(t=It()){return/firefox\//i.test(t)}function DF(t=It()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bF(t=It()){return/crios\//i.test(t)}function CF(t=It()){return/iemobile/i.test(t)}function SF(t=It()){return/android/i.test(t)}function AF(t=It()){return/blackberry/i.test(t)}function RF(t=It()){return/webos/i.test(t)}function sb(t,e=[]){let n;switch(t){case"Browser":n=GD(It());break;case"Worker":n=`${GD(It())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${os}/${r}`}var Kg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function NF(n){return C(this,arguments,function*(t,e={}){return Il(t,"GET","/v2/passwordPolicy",XD(t,e))})}var MF=6,Qg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:MF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Yg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _l(this),this.idTokenSubscription=new _l(this),this.beforeStateQueue=new Kg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yr(n)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield vl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let n=yield nb(this,{idToken:e}),r=yield ca._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var n;if(ss(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield yl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=fF()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(ss(this.app))return Promise.reject(fl(this));let n=e?Xe(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return C(this,null,function*(){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return ss(this.app)?Promise.reject(fl(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ss(this.app)?Promise.reject(fl(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(Yr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield NF(this),n=new Qg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Mn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield wF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Yr(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=yield vl.create(this,[Yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return C(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&lF(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function xF(t){return Xe(t)}var _l=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=SD(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var PF={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OF(t){PF=t}function kF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function FF(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Yr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var JW=kF("rcb"),ZW=new Jr(3e4,6e4);var XW=new Jr(2e3,1e4);var e9=10*60*1e3;var t9=new Jr(3e4,6e4);var n9=new Jr(5e3,15e3);var r9=encodeURIComponent("fac");var WD="@firebase/auth",KD="1.7.9";var Jg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function LF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VF(t){hr(new Mt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ge(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sb(t)},l=new Yg(r,i,s,u);return FF(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hr(new Mt("auth-internal",e=>{let n=xF(e.getProvider("auth").getImmediate());return(r=>new Jg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ve(WD,KD,LF(t)),Ve(WD,KD,"esm2017")}var UF=5*60,i9=_D("authIdTokenMaxAge")||UF;function jF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}OF({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Zg("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",jF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VF("Browser");var UL="auth";var wl=class{constructor(){return ta(UL)}};var ob=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ab={};var pr,nm;(function(){var t;function e(E,y){function v(){}v.prototype=y.prototype,E.D=y.prototype,E.prototype=new v,E.prototype.constructor=E,E.C=function(w,T,b){for(var _=Array(arguments.length-2),mn=2;mn<arguments.length;mn++)_[mn-2]=arguments[mn];return y.prototype[T].apply(w,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,v){v||(v=0);var w=Array(16);if(typeof y=="string")for(var T=0;16>T;++T)w[T]=y.charCodeAt(v++)|y.charCodeAt(v++)<<8|y.charCodeAt(v++)<<16|y.charCodeAt(v++)<<24;else for(T=0;16>T;++T)w[T]=y[v++]|y[v++]<<8|y[v++]<<16|y[v++]<<24;y=E.g[0],v=E.g[1],T=E.g[2];var b=E.g[3],_=y+(b^v&(T^b))+w[0]+3614090360&4294967295;y=v+(_<<7&4294967295|_>>>25),_=b+(T^y&(v^T))+w[1]+3905402710&4294967295,b=y+(_<<12&4294967295|_>>>20),_=T+(v^b&(y^v))+w[2]+606105819&4294967295,T=b+(_<<17&4294967295|_>>>15),_=v+(y^T&(b^y))+w[3]+3250441966&4294967295,v=T+(_<<22&4294967295|_>>>10),_=y+(b^v&(T^b))+w[4]+4118548399&4294967295,y=v+(_<<7&4294967295|_>>>25),_=b+(T^y&(v^T))+w[5]+1200080426&4294967295,b=y+(_<<12&4294967295|_>>>20),_=T+(v^b&(y^v))+w[6]+2821735955&4294967295,T=b+(_<<17&4294967295|_>>>15),_=v+(y^T&(b^y))+w[7]+4249261313&4294967295,v=T+(_<<22&4294967295|_>>>10),_=y+(b^v&(T^b))+w[8]+1770035416&4294967295,y=v+(_<<7&4294967295|_>>>25),_=b+(T^y&(v^T))+w[9]+2336552879&4294967295,b=y+(_<<12&4294967295|_>>>20),_=T+(v^b&(y^v))+w[10]+4294925233&4294967295,T=b+(_<<17&4294967295|_>>>15),_=v+(y^T&(b^y))+w[11]+2304563134&4294967295,v=T+(_<<22&4294967295|_>>>10),_=y+(b^v&(T^b))+w[12]+1804603682&4294967295,y=v+(_<<7&4294967295|_>>>25),_=b+(T^y&(v^T))+w[13]+4254626195&4294967295,b=y+(_<<12&4294967295|_>>>20),_=T+(v^b&(y^v))+w[14]+2792965006&4294967295,T=b+(_<<17&4294967295|_>>>15),_=v+(y^T&(b^y))+w[15]+1236535329&4294967295,v=T+(_<<22&4294967295|_>>>10),_=y+(T^b&(v^T))+w[1]+4129170786&4294967295,y=v+(_<<5&4294967295|_>>>27),_=b+(v^T&(y^v))+w[6]+3225465664&4294967295,b=y+(_<<9&4294967295|_>>>23),_=T+(y^v&(b^y))+w[11]+643717713&4294967295,T=b+(_<<14&4294967295|_>>>18),_=v+(b^y&(T^b))+w[0]+3921069994&4294967295,v=T+(_<<20&4294967295|_>>>12),_=y+(T^b&(v^T))+w[5]+3593408605&4294967295,y=v+(_<<5&4294967295|_>>>27),_=b+(v^T&(y^v))+w[10]+38016083&4294967295,b=y+(_<<9&4294967295|_>>>23),_=T+(y^v&(b^y))+w[15]+3634488961&4294967295,T=b+(_<<14&4294967295|_>>>18),_=v+(b^y&(T^b))+w[4]+3889429448&4294967295,v=T+(_<<20&4294967295|_>>>12),_=y+(T^b&(v^T))+w[9]+568446438&4294967295,y=v+(_<<5&4294967295|_>>>27),_=b+(v^T&(y^v))+w[14]+3275163606&4294967295,b=y+(_<<9&4294967295|_>>>23),_=T+(y^v&(b^y))+w[3]+4107603335&4294967295,T=b+(_<<14&4294967295|_>>>18),_=v+(b^y&(T^b))+w[8]+1163531501&4294967295,v=T+(_<<20&4294967295|_>>>12),_=y+(T^b&(v^T))+w[13]+2850285829&4294967295,y=v+(_<<5&4294967295|_>>>27),_=b+(v^T&(y^v))+w[2]+4243563512&4294967295,b=y+(_<<9&4294967295|_>>>23),_=T+(y^v&(b^y))+w[7]+1735328473&4294967295,T=b+(_<<14&4294967295|_>>>18),_=v+(b^y&(T^b))+w[12]+2368359562&4294967295,v=T+(_<<20&4294967295|_>>>12),_=y+(v^T^b)+w[5]+4294588738&4294967295,y=v+(_<<4&4294967295|_>>>28),_=b+(y^v^T)+w[8]+2272392833&4294967295,b=y+(_<<11&4294967295|_>>>21),_=T+(b^y^v)+w[11]+1839030562&4294967295,T=b+(_<<16&4294967295|_>>>16),_=v+(T^b^y)+w[14]+4259657740&4294967295,v=T+(_<<23&4294967295|_>>>9),_=y+(v^T^b)+w[1]+2763975236&4294967295,y=v+(_<<4&4294967295|_>>>28),_=b+(y^v^T)+w[4]+1272893353&4294967295,b=y+(_<<11&4294967295|_>>>21),_=T+(b^y^v)+w[7]+4139469664&4294967295,T=b+(_<<16&4294967295|_>>>16),_=v+(T^b^y)+w[10]+3200236656&4294967295,v=T+(_<<23&4294967295|_>>>9),_=y+(v^T^b)+w[13]+681279174&4294967295,y=v+(_<<4&4294967295|_>>>28),_=b+(y^v^T)+w[0]+3936430074&4294967295,b=y+(_<<11&4294967295|_>>>21),_=T+(b^y^v)+w[3]+3572445317&4294967295,T=b+(_<<16&4294967295|_>>>16),_=v+(T^b^y)+w[6]+76029189&4294967295,v=T+(_<<23&4294967295|_>>>9),_=y+(v^T^b)+w[9]+3654602809&4294967295,y=v+(_<<4&4294967295|_>>>28),_=b+(y^v^T)+w[12]+3873151461&4294967295,b=y+(_<<11&4294967295|_>>>21),_=T+(b^y^v)+w[15]+530742520&4294967295,T=b+(_<<16&4294967295|_>>>16),_=v+(T^b^y)+w[2]+3299628645&4294967295,v=T+(_<<23&4294967295|_>>>9),_=y+(T^(v|~b))+w[0]+4096336452&4294967295,y=v+(_<<6&4294967295|_>>>26),_=b+(v^(y|~T))+w[7]+1126891415&4294967295,b=y+(_<<10&4294967295|_>>>22),_=T+(y^(b|~v))+w[14]+2878612391&4294967295,T=b+(_<<15&4294967295|_>>>17),_=v+(b^(T|~y))+w[5]+4237533241&4294967295,v=T+(_<<21&4294967295|_>>>11),_=y+(T^(v|~b))+w[12]+1700485571&4294967295,y=v+(_<<6&4294967295|_>>>26),_=b+(v^(y|~T))+w[3]+2399980690&4294967295,b=y+(_<<10&4294967295|_>>>22),_=T+(y^(b|~v))+w[10]+4293915773&4294967295,T=b+(_<<15&4294967295|_>>>17),_=v+(b^(T|~y))+w[1]+2240044497&4294967295,v=T+(_<<21&4294967295|_>>>11),_=y+(T^(v|~b))+w[8]+1873313359&4294967295,y=v+(_<<6&4294967295|_>>>26),_=b+(v^(y|~T))+w[15]+4264355552&4294967295,b=y+(_<<10&4294967295|_>>>22),_=T+(y^(b|~v))+w[6]+2734768916&4294967295,T=b+(_<<15&4294967295|_>>>17),_=v+(b^(T|~y))+w[13]+1309151649&4294967295,v=T+(_<<21&4294967295|_>>>11),_=y+(T^(v|~b))+w[4]+4149444226&4294967295,y=v+(_<<6&4294967295|_>>>26),_=b+(v^(y|~T))+w[11]+3174756917&4294967295,b=y+(_<<10&4294967295|_>>>22),_=T+(y^(b|~v))+w[2]+718787259&4294967295,T=b+(_<<15&4294967295|_>>>17),_=v+(b^(T|~y))+w[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(T+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+T&4294967295,E.g[3]=E.g[3]+b&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var v=y-this.blockSize,w=this.B,T=this.h,b=0;b<y;){if(T==0)for(;b<=v;)i(this,E,b),b+=this.blockSize;if(typeof E=="string"){for(;b<y;)if(w[T++]=E.charCodeAt(b++),T==this.blockSize){i(this,w),T=0;break}}else for(;b<y;)if(w[T++]=E[b++],T==this.blockSize){i(this,w),T=0;break}}this.h=T,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var v=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=v&255,v/=256;for(this.u(E),E=Array(16),y=v=0;4>y;++y)for(var w=0;32>w;w+=8)E[v++]=this.g[y]>>>w&255;return E};function s(E,y){var v=a;return Object.prototype.hasOwnProperty.call(v,E)?v[E]:v[E]=y(E)}function o(E,y){this.h=y;for(var v=[],w=!0,T=E.length-1;0<=T;T--){var b=E[T]|0;w&&b==y||(v[T]=b,w=!1)}this.g=v}var a={};function u(E){return-128<=E&&128>E?s(E,function(y){return new o([y|0],0>y?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return N(l(-E));for(var y=[],v=1,w=0;E>=v;w++)y[w]=E/v|0,v*=4294967296;return new o(y,0)}function f(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return N(f(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=l(Math.pow(y,8)),w=p,T=0;T<E.length;T+=8){var b=Math.min(8,E.length-T),_=parseInt(E.substring(T,T+b),y);8>b?(b=l(Math.pow(y,b)),w=w.j(b).add(l(_))):(w=w.j(v),w=w.add(l(_)))}return w}var p=u(0),m=u(1),I=u(16777216);t=o.prototype,t.m=function(){if(R(this))return-N(this).m();for(var E=0,y=1,v=0;v<this.g.length;v++){var w=this.i(v);E+=(0<=w?w:4294967296+w)*y,y*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S(this))return"0";if(R(this))return"-"+N(this).toString(E);for(var y=l(Math.pow(E,6)),v=this,w="";;){var T=re(v,y).g;v=k(v,T.j(y));var b=((0<v.g.length?v.g[0]:v.h)>>>0).toString(E);if(v=T,S(v))return b+w;for(;6>b.length;)b="0"+b;w=b+w}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function S(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function R(E){return E.h==-1}t.l=function(E){return E=k(this,E),R(E)?-1:S(E)?0:1};function N(E){for(var y=E.g.length,v=[],w=0;w<y;w++)v[w]=~E.g[w];return new o(v,~E.h).add(m)}t.abs=function(){return R(this)?N(this):this},t.add=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],w=0,T=0;T<=y;T++){var b=w+(this.i(T)&65535)+(E.i(T)&65535),_=(b>>>16)+(this.i(T)>>>16)+(E.i(T)>>>16);w=_>>>16,b&=65535,_&=65535,v[T]=_<<16|b}return new o(v,v[v.length-1]&-2147483648?-1:0)};function k(E,y){return E.add(N(y))}t.j=function(E){if(S(this)||S(E))return p;if(R(this))return R(E)?N(this).j(N(E)):N(N(this).j(E));if(R(E))return N(this.j(N(E)));if(0>this.l(I)&&0>E.l(I))return l(this.m()*E.m());for(var y=this.g.length+E.g.length,v=[],w=0;w<2*y;w++)v[w]=0;for(w=0;w<this.g.length;w++)for(var T=0;T<E.g.length;T++){var b=this.i(w)>>>16,_=this.i(w)&65535,mn=E.i(T)>>>16,Ms=E.i(T)&65535;v[2*w+2*T]+=_*Ms,K(v,2*w+2*T),v[2*w+2*T+1]+=b*Ms,K(v,2*w+2*T+1),v[2*w+2*T+1]+=_*mn,K(v,2*w+2*T+1),v[2*w+2*T+2]+=b*mn,K(v,2*w+2*T+2)}for(w=0;w<y;w++)v[w]=v[2*w+1]<<16|v[2*w];for(w=y;w<2*y;w++)v[w]=0;return new o(v,0)};function K(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function L(E,y){this.g=E,this.h=y}function re(E,y){if(S(y))throw Error("division by zero");if(S(E))return new L(p,p);if(R(E))return y=re(N(E),y),new L(N(y.g),N(y.h));if(R(y))return y=re(E,N(y)),new L(N(y.g),y.h);if(30<E.g.length){if(R(E)||R(y))throw Error("slowDivide_ only works with positive integers.");for(var v=m,w=y;0>=w.l(E);)v=De(v),w=De(w);var T=J(v,1),b=J(w,1);for(w=J(w,2),v=J(v,2);!S(w);){var _=b.add(w);0>=_.l(E)&&(T=T.add(v),b=_),w=J(w,1),v=J(v,1)}return y=k(E,T.j(y)),new L(T,y)}for(T=p;0<=E.l(y);){for(v=Math.max(1,Math.floor(E.m()/y.m())),w=Math.ceil(Math.log(v)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),b=l(v),_=b.j(y);R(_)||0<_.l(E);)v-=w,b=l(v),_=b.j(y);S(b)&&(b=m),T=T.add(b),E=k(E,_)}return new L(T,E)}t.A=function(E){return re(this,E).h},t.and=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],w=0;w<y;w++)v[w]=this.i(w)&E.i(w);return new o(v,this.h&E.h)},t.or=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],w=0;w<y;w++)v[w]=this.i(w)|E.i(w);return new o(v,this.h|E.h)},t.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],w=0;w<y;w++)v[w]=this.i(w)^E.i(w);return new o(v,this.h^E.h)};function De(E){for(var y=E.g.length+1,v=[],w=0;w<y;w++)v[w]=E.i(w)<<1|E.i(w-1)>>>31;return new o(v,E.h)}function J(E,y){var v=y>>5;y%=32;for(var w=E.g.length-v,T=[],b=0;b<w;b++)T[b]=0<y?E.i(b+v)>>>y|E.i(b+v+1)<<32-y:E.i(b+v);return new o(T,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,nm=ab.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,pr=ab.Integer=o}).apply(typeof ob<"u"?ob:typeof self<"u"?self:typeof window<"u"?window:{});var El=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pn={};var rm,jL,us,im,ua,Tl,sm,om,am;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,h){return c==Array.prototype||c==Object.prototype||(c[d]=h.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof El=="object"&&El];for(var d=0;d<c.length;++d){var h=c[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var h=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var D=c[g];if(!(D in h))break e;h=h[D]}c=c[c.length-1],g=h[c],d=d(g),d!=g&&d!=null&&e(h,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var h=0,g=!1,D={next:function(){if(!g&&h<c.length){var A=h++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,h){return h})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function f(c,d,h){return c.call.apply(c.bind,arguments)}function p(c,d,h){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function m(c,d,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function I(c,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function h(){}h.prototype=d.prototype,c.aa=d.prototype,c.prototype=new h,c.prototype.constructor=c,c.Qb=function(g,D,A){for(var O=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)O[_e-2]=arguments[_e];return d.prototype[D].apply(g,O)}}function R(c){let d=c.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=c[g];return h}return[]}function N(c,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let D=c.length||0,A=g.length||0;c.length=D+A;for(let O=0;O<A;O++)c[D+O]=g[O]}else c.push(g)}}class k{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(c){return/^[\s\xa0]*$/.test(c)}function L(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var De=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function J(c,d,h){for(let g in c)d.call(h,c[g],g,c)}function E(c,d){for(let h in c)d.call(void 0,c[h],h,c)}function y(c){let d={};for(let h in c)d[h]=c[h];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let h,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(h in g)c[h]=g[h];for(let A=0;A<v.length;A++)h=v[A],Object.prototype.hasOwnProperty.call(g,h)&&(c[h]=g[h])}}function T(c){var d=1;c=c.split(":");let h=[];for(;0<d&&c.length;)h.push(c.shift()),d--;return c.length&&h.push(c.join(":")),h}function b(c){a.setTimeout(()=>{throw c},0)}function _(){var c=_d;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class mn{constructor(){this.h=this.g=null}add(d,h){let g=Ms.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var Ms=new k(()=>new d0,c=>c.reset());class d0{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let xs,Ps=!1,_d=new mn,gv=()=>{let c=a.Promise.resolve(void 0);xs=()=>{c.then(h0)}};var h0=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(h){b(h)}var d=Ms;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ps=!1};function Ln(){this.s=this.s,this.C=this.C}Ln.prototype.s=!1,Ln.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ln.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ze(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ze.prototype.h=function(){this.defaultPrevented=!0};var f0=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let h=()=>{};a.addEventListener("test",h,d),a.removeEventListener("test",h,d)}catch{}return c}();function Os(c,d){if(ze.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var h=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(De){e:{try{re(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else h=="mouseover"?d=c.fromElement:h=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:p0[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Os.aa.h.call(this)}}S(Os,ze);var p0={2:"touch",3:"pen",4:"mouse"};Os.prototype.h=function(){Os.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ks="closure_listenable_"+(1e6*Math.random()|0),g0=0;function m0(c,d,h,g,D){this.listener=c,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=D,this.key=++g0,this.da=this.fa=!1}function Oa(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ka(c){this.src=c,this.g={},this.h=0}ka.prototype.add=function(c,d,h,g,D){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var O=wd(c,d,g,D);return-1<O?(d=c[O],h||(d.fa=!1)):(d=new m0(d,this.src,A,!!g,D),d.fa=h,c.push(d)),d};function Id(c,d){var h=d.type;if(h in c.g){var g=c.g[h],D=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=D)&&Array.prototype.splice.call(g,D,1),A&&(Oa(d),c.g[h].length==0&&(delete c.g[h],c.h--))}}function wd(c,d,h,g){for(var D=0;D<c.length;++D){var A=c[D];if(!A.da&&A.listener==d&&A.capture==!!h&&A.ha==g)return D}return-1}var Ed="closure_lm_"+(1e6*Math.random()|0),Td={};function mv(c,d,h,g,D){if(g&&g.once)return vv(c,d,h,g,D);if(Array.isArray(d)){for(var A=0;A<d.length;A++)mv(c,d[A],h,g,D);return null}return h=Sd(h),c&&c[ks]?c.K(d,h,l(g)?!!g.capture:!!g,D):yv(c,d,h,!1,g,D)}function yv(c,d,h,g,D,A){if(!d)throw Error("Invalid event type");var O=l(D)?!!D.capture:!!D,_e=bd(c);if(_e||(c[Ed]=_e=new ka(c)),h=_e.add(d,h,g,O,A),h.proxy)return h;if(g=y0(),h.proxy=g,g.src=c,g.listener=h,c.addEventListener)f0||(D=O),D===void 0&&(D=!1),c.addEventListener(d.toString(),g,D);else if(c.attachEvent)c.attachEvent(Iv(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function y0(){function c(h){return d.call(c.src,c.listener,h)}let d=v0;return c}function vv(c,d,h,g,D){if(Array.isArray(d)){for(var A=0;A<d.length;A++)vv(c,d[A],h,g,D);return null}return h=Sd(h),c&&c[ks]?c.L(d,h,l(g)?!!g.capture:!!g,D):yv(c,d,h,!0,g,D)}function _v(c,d,h,g,D){if(Array.isArray(d))for(var A=0;A<d.length;A++)_v(c,d[A],h,g,D);else g=l(g)?!!g.capture:!!g,h=Sd(h),c&&c[ks]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],h=wd(A,h,g,D),-1<h&&(Oa(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=bd(c))&&(d=c.g[d.toString()],c=-1,d&&(c=wd(d,h,g,D)),(h=-1<c?d[c]:null)&&Dd(h))}function Dd(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ks])Id(d.i,c);else{var h=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(h,g,c.capture):d.detachEvent?d.detachEvent(Iv(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=bd(d))?(Id(h,c),h.h==0&&(h.src=null,d[Ed]=null)):Oa(c)}}}function Iv(c){return c in Td?Td[c]:Td[c]="on"+c}function v0(c,d){if(c.da)c=!0;else{d=new Os(d,this);var h=c.listener,g=c.ha||c.src;c.fa&&Dd(c),c=h.call(g,d)}return c}function bd(c){return c=c[Ed],c instanceof ka?c:null}var Cd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sd(c){return typeof c=="function"?c:(c[Cd]||(c[Cd]=function(d){return c.handleEvent(d)}),c[Cd])}function Ge(){Ln.call(this),this.i=new ka(this),this.M=this,this.F=null}S(Ge,Ln),Ge.prototype[ks]=!0,Ge.prototype.removeEventListener=function(c,d,h,g){_v(this,c,d,h,g)};function rt(c,d){var h,g=c.F;if(g)for(h=[];g;g=g.F)h.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new ze(d,c);else if(d instanceof ze)d.target=d.target||c;else{var D=d;d=new ze(g,c),w(d,D)}if(D=!0,h)for(var A=h.length-1;0<=A;A--){var O=d.g=h[A];D=Fa(O,g,!0,d)&&D}if(O=d.g=c,D=Fa(O,g,!0,d)&&D,D=Fa(O,g,!1,d)&&D,h)for(A=0;A<h.length;A++)O=d.g=h[A],D=Fa(O,g,!1,d)&&D}Ge.prototype.N=function(){if(Ge.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var h=c.g[d],g=0;g<h.length;g++)Oa(h[g]);delete c.g[d],c.h--}}this.F=null},Ge.prototype.K=function(c,d,h,g){return this.i.add(String(c),d,!1,h,g)},Ge.prototype.L=function(c,d,h,g){return this.i.add(String(c),d,!0,h,g)};function Fa(c,d,h,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,A=0;A<d.length;++A){var O=d[A];if(O&&!O.da&&O.capture==h){var _e=O.listener,je=O.ha||O.src;O.fa&&Id(c.i,O),D=_e.call(je,g)!==!1&&D}}return D&&!g.defaultPrevented}function wv(c,d,h){if(typeof c=="function")h&&(c=m(c,h));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Ev(c){c.g=wv(()=>{c.g=null,c.i&&(c.i=!1,Ev(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class _0 extends Ln{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Ev(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fs(c){Ln.call(this),this.h=c,this.g={}}S(Fs,Ln);var Tv=[];function Dv(c){J(c.g,function(d,h){this.g.hasOwnProperty(h)&&Dd(d)},c),c.g={}}Fs.prototype.N=function(){Fs.aa.N.call(this),Dv(this)},Fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ad=a.JSON.stringify,I0=a.JSON.parse,w0=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Rd(){}Rd.prototype.h=null;function bv(c){return c.h||(c.h=c.i())}function Cv(){}var Ls={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nd(){ze.call(this,"d")}S(Nd,ze);function Md(){ze.call(this,"c")}S(Md,ze);var wr={},Sv=null;function La(){return Sv=Sv||new Ge}wr.La="serverreachability";function Av(c){ze.call(this,wr.La,c)}S(Av,ze);function Vs(c){let d=La();rt(d,new Av(d))}wr.STAT_EVENT="statevent";function Rv(c,d){ze.call(this,wr.STAT_EVENT,c),this.stat=d}S(Rv,ze);function it(c){let d=La();rt(d,new Rv(d,c))}wr.Ma="timingevent";function Nv(c,d){ze.call(this,wr.Ma,c),this.size=d}S(Nv,ze);function Us(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function js(){this.g=!0}js.prototype.xa=function(){this.g=!1};function E0(c,d,h,g,D,A){c.info(function(){if(c.g)if(A)for(var O="",_e=A.split("&"),je=0;je<_e.length;je++){var de=_e[je].split("=");if(1<de.length){var We=de[0];de=de[1];var Ke=We.split("_");O=2<=Ke.length&&Ke[1]=="type"?O+(We+"="+de+"&"):O+(We+"=redacted&")}}else O=null;else O=A;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+h+`
`+O})}function T0(c,d,h,g,D,A,O){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+h+`
`+A+" "+O})}function di(c,d,h,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+b0(c,h)+(g?" "+g:"")})}function D0(c,d){c.info(function(){return"TIMEOUT: "+d})}js.prototype.info=function(){};function b0(c,d){if(!c.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(c=0;c<h.length;c++)if(Array.isArray(h[c])){var g=h[c];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var A=D[0];if(A!="noop"&&A!="stop"&&A!="close")for(var O=1;O<D.length;O++)D[O]=""}}}}return Ad(h)}catch{return d}}var Va={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xd;function Ua(){}S(Ua,Rd),Ua.prototype.g=function(){return new XMLHttpRequest},Ua.prototype.i=function(){return{}},xd=new Ua;function Vn(c,d,h,g){this.j=c,this.i=d,this.l=h,this.R=g||1,this.U=new Fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xv}function xv(){this.i=null,this.g="",this.h=!1}var Pv={},Pd={};function Od(c,d,h){c.L=1,c.v=qa(yn(d)),c.m=h,c.P=!0,Ov(c,null)}function Ov(c,d){c.F=Date.now(),ja(c),c.A=yn(c.v);var h=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),Kv(h.i,"t",g),c.C=0,h=c.j.J,c.h=new xv,c.g=h_(c.j,h?d:null,!c.m),0<c.O&&(c.M=new _0(m(c.Y,c,c.g),c.O)),d=c.U,h=c.g,g=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(Tv[0]=D.toString()),D=Tv);for(var A=0;A<D.length;A++){var O=mv(h,D[A],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Vs(),E0(c.i,c.u,c.A,c.l,c.R,c.m)}Vn.prototype.ca=function(c){c=c.target;let d=this.M;d&&vn(c)==3?d.j():this.Y(c)},Vn.prototype.Y=function(c){try{if(c==this.g)e:{let Ke=vn(this.g);var d=this.g.Ba();let pi=this.g.Z();if(!(3>Ke)&&(Ke!=3||this.g&&(this.h.h||this.g.oa()||t_(this.g)))){this.J||Ke!=4||d==7||(d==8||0>=pi?Vs(3):Vs(2)),kd(this);var h=this.g.Z();this.X=h;t:if(kv(this)){var g=t_(this.g);c="";var D=g.length,A=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Er(this),Bs(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==D-1)});g.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=h==200,T0(this.i,this.u,this.A,this.l,this.R,Ke,h),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,je=this.g;if((_e=je.g?je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(_e)){var de=_e;break t}}de=null}if(h=de)di(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fd(this,h);else{this.o=!1,this.s=3,it(12),Er(this),Bs(this);break e}}if(this.P){h=!0;let Ot;for(;!this.J&&this.C<O.length;)if(Ot=C0(this,O),Ot==Pd){Ke==4&&(this.s=4,it(14),h=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(Ot==Pv){this.s=4,it(15),di(this.i,this.l,O,"[Invalid Chunk]"),h=!1;break}else di(this.i,this.l,Ot,null),Fd(this,Ot);if(kv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||O.length!=0||this.h.h||(this.s=1,it(16),h=!1),this.o=this.o&&h,!h)di(this.i,this.l,O,"[Invalid Chunked Response]"),Er(this),Bs(this);else if(0<O.length&&!this.W){this.W=!0;var We=this.j;We.g==this&&We.ba&&!We.M&&(We.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),$d(We),We.M=!0,it(11))}}else di(this.i,this.l,O,null),Fd(this,O);Ke==4&&Er(this),this.o&&!this.J&&(Ke==4?c_(this.j,this):(this.o=!1,ja(this)))}else q0(this.g),h==400&&0<O.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),Er(this),Bs(this)}}}catch{}finally{}};function kv(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function C0(c,d){var h=c.C,g=d.indexOf(`
`,h);return g==-1?Pd:(h=Number(d.substring(h,g)),isNaN(h)?Pv:(g+=1,g+h>d.length?Pd:(d=d.slice(g,g+h),c.C=g+h,d)))}Vn.prototype.cancel=function(){this.J=!0,Er(this)};function ja(c){c.S=Date.now()+c.I,Fv(c,c.I)}function Fv(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Us(m(c.ba,c),d)}function kd(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Vn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(D0(this.i,this.A),this.L!=2&&(Vs(),it(17)),Er(this),this.s=2,Bs(this)):Fv(this,this.S-c)};function Bs(c){c.j.G==0||c.J||c_(c.j,c)}function Er(c){kd(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Dv(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Fd(c,d){try{var h=c.j;if(h.G!=0&&(h.g==c||Ld(h.h,c))){if(!c.K&&Ld(h.h,c)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<c.F)Ka(h),Ga(h);else break e;Bd(h),it(18)}}else h.za=D[1],0<h.za-h.T&&37500>D[2]&&h.F&&h.v==0&&!h.C&&(h.C=Us(m(h.Za,h),6e3));if(1>=Uv(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Dr(h,11)}else if((c.K||h.g==c)&&Ka(h),!K(d))for(D=h.Da.g.parse(d),d=0;d<D.length;d++){let de=D[d];if(h.T=de[0],de=de[1],h.G==2)if(de[0]=="c"){h.K=de[1],h.ia=de[2];let We=de[3];We!=null&&(h.la=We,h.j.info("VER="+h.la));let Ke=de[4];Ke!=null&&(h.Aa=Ke,h.j.info("SVER="+h.Aa));let pi=de[5];pi!=null&&typeof pi=="number"&&0<pi&&(g=1.5*pi,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Ot=c.g;if(Ot){let Ya=Ot.g?Ot.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ya){var A=g.h;A.g||Ya.indexOf("spdy")==-1&&Ya.indexOf("quic")==-1&&Ya.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Vd(A,A.h),A.h=null))}if(g.D){let qd=Ot.g?Ot.g.getResponseHeader("X-HTTP-Session-Id"):null;qd&&(g.ya=qd,Te(g.I,g.D,qd))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-c.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var O=c;if(g.qa=d_(g,g.J?g.ia:null,g.W),O.K){jv(g.h,O);var _e=O,je=g.L;je&&(_e.I=je),_e.B&&(kd(_e),ja(_e)),g.g=O}else o_(g);0<h.i.length&&Wa(h)}else de[0]!="stop"&&de[0]!="close"||Dr(h,7);else h.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?Dr(h,7):jd(h):de[0]!="noop"&&h.l&&h.l.ta(de),h.v=0)}}Vs(4)}catch{}}var S0=class{constructor(c,d){this.g=c,this.map=d}};function Lv(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vv(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Uv(c){return c.h?1:c.g?c.g.size:0}function Ld(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Vd(c,d){c.g?c.g.add(d):c.h=d}function jv(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Lv.prototype.cancel=function(){if(this.i=Bv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Bv(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let h of c.g.values())d=d.concat(h.D);return d}return R(c.i)}function A0(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],h=c.length,g=0;g<h;g++)d.push(c[g]);return d}d=[],h=0;for(g in c)d[h++]=c[g];return d}function R0(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var h=0;h<c;h++)d.push(h);return d}d=[],h=0;for(let g in c)d[h++]=g;return d}}}function $v(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var h=R0(c),g=A0(c),D=g.length,A=0;A<D;A++)d.call(void 0,g[A],h&&h[A],c)}var qv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function N0(c,d){if(c){c=c.split("&");for(var h=0;h<c.length;h++){var g=c[h].indexOf("="),D=null;if(0<=g){var A=c[h].substring(0,g);D=c[h].substring(g+1)}else A=c[h];d(A,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Tr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Tr){this.h=c.h,Ba(this,c.j),this.o=c.o,this.g=c.g,$a(this,c.s),this.l=c.l;var d=c.i,h=new Hs;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),Hv(this,h),this.m=c.m}else c&&(d=String(c).match(qv))?(this.h=!1,Ba(this,d[1]||"",!0),this.o=$s(d[2]||""),this.g=$s(d[3]||"",!0),$a(this,d[4]),this.l=$s(d[5]||"",!0),Hv(this,d[6]||"",!0),this.m=$s(d[7]||"")):(this.h=!1,this.i=new Hs(null,this.h))}Tr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(qs(d,zv,!0),":");var h=this.g;return(h||d=="file")&&(c.push("//"),(d=this.o)&&c.push(qs(d,zv,!0),"@"),c.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&c.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&c.push("/"),c.push(qs(h,h.charAt(0)=="/"?P0:x0,!0))),(h=this.i.toString())&&c.push("?",h),(h=this.m)&&c.push("#",qs(h,k0)),c.join("")};function yn(c){return new Tr(c)}function Ba(c,d,h){c.j=h?$s(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function $a(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Hv(c,d,h){d instanceof Hs?(c.i=d,F0(c.i,c.h)):(h||(d=qs(d,O0)),c.i=new Hs(d,c.h))}function Te(c,d,h){c.i.set(d,h)}function qa(c){return Te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function $s(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function qs(c,d,h){return typeof c=="string"?(c=encodeURI(c).replace(d,M0),h&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function M0(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var zv=/[#\/\?@]/g,x0=/[#\?:]/g,P0=/[#\?]/g,O0=/[#\?@]/g,k0=/#/g;function Hs(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Un(c){c.g||(c.g=new Map,c.h=0,c.i&&N0(c.i,function(d,h){c.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Hs.prototype,t.add=function(c,d){Un(this),this.i=null,c=hi(this,c);var h=this.g.get(c);return h||this.g.set(c,h=[]),h.push(d),this.h+=1,this};function Gv(c,d){Un(c),d=hi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Wv(c,d){return Un(c),d=hi(c,d),c.g.has(d)}t.forEach=function(c,d){Un(this),this.g.forEach(function(h,g){h.forEach(function(D){c.call(d,D,g,this)},this)},this)},t.na=function(){Un(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let D=c[g];for(let A=0;A<D.length;A++)h.push(d[g])}return h},t.V=function(c){Un(this);let d=[];if(typeof c=="string")Wv(this,c)&&(d=d.concat(this.g.get(hi(this,c))));else{c=Array.from(this.g.values());for(let h=0;h<c.length;h++)d=d.concat(c[h])}return d},t.set=function(c,d){return Un(this),this.i=null,c=hi(this,c),Wv(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Kv(c,d,h){Gv(c,d),0<h.length&&(c.i=null,c.g.set(hi(c,d),R(h)),c.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let A=encodeURIComponent(String(g)),O=this.V(g);for(g=0;g<O.length;g++){var D=A;O[g]!==""&&(D+="="+encodeURIComponent(String(O[g]))),c.push(D)}}return this.i=c.join("&")};function hi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function F0(c,d){d&&!c.j&&(Un(c),c.i=null,c.g.forEach(function(h,g){var D=g.toLowerCase();g!=D&&(Gv(this,g),Kv(this,D,h))},c)),c.j=d}function L0(c,d){let h=new js;if(a.Image){let g=new Image;g.onload=I(jn,h,"TestLoadImage: loaded",!0,d,g),g.onerror=I(jn,h,"TestLoadImage: error",!1,d,g),g.onabort=I(jn,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=I(jn,h,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function V0(c,d){let h=new js,g=new AbortController,D=setTimeout(()=>{g.abort(),jn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(D),A.ok?jn(h,"TestPingServer: ok",!0,d):jn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),jn(h,"TestPingServer: error",!1,d)})}function jn(c,d,h,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(h)}catch{}}function U0(){this.g=new w0}function j0(c,d,h){let g=h||"";try{$v(c,function(D,A){let O=D;l(D)&&(O=Ad(D)),d.push(g+A+"="+encodeURIComponent(O))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function zs(c){this.l=c.Ub||null,this.j=c.eb||!1}S(zs,Rd),zs.prototype.g=function(){return new Ha(this.l,this.j)},zs.prototype.i=function(c){return function(){return c}}({});function Ha(c,d){Ge.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Ha,Ge),t=Ha.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ws(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gs(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ws(this)),this.g&&(this.readyState=3,Ws(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qv(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qv(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Gs(this):Ws(this),this.readyState==3&&Qv(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Gs(this))},t.Qa=function(c){this.g&&(this.response=c,Gs(this))},t.ga=function(){this.g&&Gs(this)};function Gs(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ws(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,c.push(h[0]+": "+h[1]),h=d.next();return c.join(`\r
`)};function Ws(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ha.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Yv(c){let d="";return J(c,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function Ud(c,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=Yv(h),typeof c=="string"?h!=null&&encodeURIComponent(String(h)):Te(c,d,h))}function Ae(c){Ge.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ae,Ge);var B0=/^https?$/i,$0=["POST","PUT"];t=Ae.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xd.g(),this.v=this.o?bv(this.o):bv(xd),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){Jv(this,A);return}if(c=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)h.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())h.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call($0,d,void 0))||g||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,O]of h)this.g.setRequestHeader(A,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{e_(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){Jv(this,A)}};function Jv(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Zv(c),za(c)}function Zv(c){c.A||(c.A=!0,rt(c,"complete"),rt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,rt(this,"complete"),rt(this,"abort"),za(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),za(this,!0)),Ae.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Xv(this):this.bb())},t.bb=function(){Xv(this)};function Xv(c){if(c.h&&typeof o<"u"&&(!c.v[1]||vn(c)!=4||c.Z()!=2)){if(c.u&&vn(c)==4)wv(c.Ea,0,c);else if(rt(c,"readystatechange"),vn(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=O===0){var D=String(c.D).match(qv)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),g=!B0.test(D?D.toLowerCase():"")}h=g}if(h)rt(c,"complete"),rt(c,"success");else{c.m=6;try{var A=2<vn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",Zv(c)}}finally{za(c)}}}}function za(c,d){if(c.g){e_(c);let h=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||rt(c,"ready");try{h.onreadystatechange=g}catch{}}}function e_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function vn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),I0(d)}};function t_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function q0(c){let d={};c=(c.g&&2<=vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(K(c[g]))continue;var h=T(c[g]);let D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=d[D]||[];d[D]=A,A.push(h)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ks(c,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[c]||d}function n_(c){this.Aa=0,this.i=[],this.j=new js,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ks("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ks("baseRetryDelayMs",5e3,c),this.cb=Ks("retryDelaySeedMs",1e4,c),this.Wa=Ks("forwardChannelMaxRetries",2,c),this.wa=Ks("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Lv(c&&c.concurrentRequestLimit),this.Da=new U0,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=n_.prototype,t.la=8,t.G=1,t.connect=function(c,d,h,g){it(0),this.W=c,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=d_(this,null,this.W),Wa(this)};function jd(c){if(r_(c),c.G==3){var d=c.U++,h=yn(c.I);if(Te(h,"SID",c.K),Te(h,"RID",d),Te(h,"TYPE","terminate"),Qs(c,h),d=new Vn(c,c.j,d),d.L=2,d.v=qa(yn(h)),h=!1,a.navigator&&a.navigator.sendBeacon)try{h=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&a.Image&&(new Image().src=d.v,h=!0),h||(d.g=h_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ja(d)}l_(c)}function Ga(c){c.g&&($d(c),c.g.cancel(),c.g=null)}function r_(c){Ga(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ka(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Wa(c){if(!Vv(c.h)&&!c.s){c.s=!0;var d=c.Ga;xs||gv(),Ps||(xs(),Ps=!0),_d.add(d,c),c.B=0}}function H0(c,d){return Uv(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Us(m(c.Ga,c,d),u_(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new Vn(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(D.H=A,A=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=s_(this,D,d),h=yn(this.I),Te(h,"RID",c),Te(h,"CVER",22),this.D&&Te(h,"X-HTTP-Session-Id",this.D),Qs(this,h),A&&(this.O?d="headers="+encodeURIComponent(String(Yv(A)))+"&"+d:this.m&&Ud(h,this.m,A)),Vd(this.h,D),this.Ua&&Te(h,"TYPE","init"),this.P?(Te(h,"$req",d),Te(h,"SID","null"),D.T=!0,Od(D,h,null)):Od(D,h,d),this.G=2}}else this.G==3&&(c?i_(this,c):this.i.length==0||Vv(this.h)||i_(this))};function i_(c,d){var h;d?h=d.l:h=c.U++;let g=yn(c.I);Te(g,"SID",c.K),Te(g,"RID",h),Te(g,"AID",c.T),Qs(c,g),c.m&&c.o&&Ud(g,c.m,c.o),h=new Vn(c,c.j,h,c.B+1),c.m===null&&(h.H=c.o),d&&(c.i=d.D.concat(c.i)),d=s_(c,h,1e3),h.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Vd(c.h,h),Od(h,g,d)}function Qs(c,d){c.H&&J(c.H,function(h,g){Te(d,g,h)}),c.l&&$v({},function(h,g){Te(d,g,h)})}function s_(c,d,h){h=Math.min(c.i.length,h);var g=c.l?m(c.l.Na,c.l,c):null;e:{var D=c.i;let A=-1;for(;;){let O=["count="+h];A==-1?0<h?(A=D[0].g,O.push("ofs="+A)):A=0:O.push("ofs="+A);let _e=!0;for(let je=0;je<h;je++){let de=D[je].g,We=D[je].map;if(de-=A,0>de)A=Math.max(0,D[je].g-100),_e=!1;else try{j0(We,O,"req"+de+"_")}catch{g&&g(We)}}if(_e){g=O.join("&");break e}}}return c=c.i.splice(0,h),d.D=c,g}function o_(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;xs||gv(),Ps||(xs(),Ps=!0),_d.add(d,c),c.v=0}}function Bd(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Us(m(c.Fa,c),u_(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,a_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Us(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Ga(this),a_(this))};function $d(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function a_(c){c.g=new Vn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=yn(c.qa);Te(d,"RID","rpc"),Te(d,"SID",c.K),Te(d,"AID",c.T),Te(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Te(d,"TO",c.ja),Te(d,"TYPE","xmlhttp"),Qs(c,d),c.m&&c.o&&Ud(d,c.m,c.o),c.L&&(c.g.I=c.L);var h=c.g;c=c.ia,h.L=1,h.v=qa(yn(d)),h.m=null,h.P=!0,Ov(h,c)}t.Za=function(){this.C!=null&&(this.C=null,Ga(this),Bd(this),it(19))};function Ka(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function c_(c,d){var h=null;if(c.g==d){Ka(c),$d(c),c.g=null;var g=2}else if(Ld(c.h,d))h=d.D,jv(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;g=La(),rt(g,new Nv(g,h)),Wa(c)}else o_(c);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&H0(c,d)||g==2&&Bd(c)))switch(h&&0<h.length&&(d=c.h,d.i=d.i.concat(h)),D){case 1:Dr(c,5);break;case 4:Dr(c,10);break;case 3:Dr(c,6);break;default:Dr(c,2)}}}function u_(c,d){let h=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(h*=2),h*d}function Dr(c,d){if(c.j.info("Error code "+d),d==2){var h=m(c.fb,c),g=c.Xa;let D=!g;g=new Tr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ba(g,"https"),qa(g),D?L0(g.toString(),h):V0(g.toString(),h)}else it(2);c.G=0,c.l&&c.l.sa(d),l_(c),r_(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function l_(c){if(c.G=0,c.ka=[],c.l){let d=Bv(c.h);(d.length!=0||c.i.length!=0)&&(N(c.ka,d),N(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function d_(c,d,h){var g=h instanceof Tr?yn(h):new Tr(h);if(g.g!="")d&&(g.g=d+"."+g.g),$a(g,g.s);else{var D=a.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var A=new Tr(null);g&&Ba(A,g),d&&(A.g=d),D&&$a(A,D),h&&(A.l=h),g=A}return h=c.D,d=c.ya,h&&d&&Te(g,h,d),Te(g,"VER",c.la),Qs(c,g),g}function h_(c,d,h){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ae(new zs({eb:h})):new Ae(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function f_(){}t=f_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qa(){}Qa.prototype.g=function(c,d){return new gt(c,d)};function gt(c,d){Ge.call(this),this.g=new n_(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!K(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new fi(this)}S(gt,Ge),gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gt.prototype.close=function(){jd(this.g)},gt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var h={};h.__data__=c,c=h}else this.u&&(h={},h.__data__=Ad(c),c=h);d.i.push(new S0(d.Ya++,c)),d.G==3&&Wa(d)},gt.prototype.N=function(){this.g.l=null,delete this.j,jd(this.g),delete this.g,gt.aa.N.call(this)};function p_(c){Nd.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let h in d){c=h;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(p_,Nd);function g_(){Md.call(this),this.status=1}S(g_,Md);function fi(c){this.g=c}S(fi,f_),fi.prototype.ua=function(){rt(this.g,"a")},fi.prototype.ta=function(c){rt(this.g,new p_(c))},fi.prototype.sa=function(c){rt(this.g,new g_)},fi.prototype.ra=function(){rt(this.g,"b")},Qa.prototype.createWebChannel=Qa.prototype.g,gt.prototype.send=gt.prototype.o,gt.prototype.open=gt.prototype.m,gt.prototype.close=gt.prototype.close,am=Pn.createWebChannelTransport=function(){return new Qa},om=Pn.getStatEventTarget=function(){return La()},sm=Pn.Event=wr,Tl=Pn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Va.NO_ERROR=0,Va.TIMEOUT=8,Va.HTTP_ERROR=6,ua=Pn.ErrorCode=Va,Mv.COMPLETE="complete",im=Pn.EventType=Mv,Cv.EventType=Ls,Ls.OPEN="a",Ls.CLOSE="b",Ls.ERROR="c",Ls.MESSAGE="d",Ge.prototype.listen=Ge.prototype.K,us=Pn.WebChannel=Cv,jL=Pn.FetchXmlHttpFactory=zs,Ae.prototype.listenOnce=Ae.prototype.L,Ae.prototype.getLastError=Ae.prototype.Ka,Ae.prototype.getLastErrorCode=Ae.prototype.Ba,Ae.prototype.getStatus=Ae.prototype.Z,Ae.prototype.getResponseJson=Ae.prototype.Oa,Ae.prototype.getResponseText=Ae.prototype.oa,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Ha,rm=Pn.XhrIo=Ae}).apply(typeof El<"u"?El:typeof self<"u"?self:typeof window<"u"?window:{});var cb="@firebase/firestore";var Ue=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ue.UNAUTHENTICATED=new Ue(null),Ue.GOOGLE_CREDENTIALS=new Ue("google-credentials-uid"),Ue.FIRST_PARTY=new Ue("first-party-uid"),Ue.MOCK_USER=new Ue("mock-user");var Rs="10.14.0";var ti=new lr("@firebase/firestore");function la(){return ti.logLevel}function V(t,...e){if(ti.logLevel<=ce.DEBUG){let n=e.map(zy);ti.debug(`Firestore (${Rs}): ${t}`,...n)}}function On(t,...e){if(ti.logLevel<=ce.ERROR){let n=e.map(zy);ti.error(`Firestore (${Rs}): ${t}`,...n)}}function ms(t,...e){if(ti.logLevel<=ce.WARN){let n=e.map(zy);ti.warn(`Firestore (${Rs}): ${t}`,...n)}}function zy(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function W(t="Unexpected state"){let e=`FIRESTORE (${Rs}) INTERNAL ASSERTION FAILED: `+t;throw On(e),new Error(e)}function ve(t,e){t||W()}function Y(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=class extends Nt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var cn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Al=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},hm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ue.UNAUTHENTICATED))}shutdown(){}},fm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},pm=class{constructor(e){this.t=e,this.currentUser=Ue.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ve(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new cn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new cn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>C(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new cn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string"),new Al(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string"),new Ue(e)}},gm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ue.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},mm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new gm(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ue.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ym=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},vm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ve(this.o===void 0);let r=s=>{s.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string"),this.R=n.token,new ym(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function BL(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Rl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=BL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function he(t,e){return t<e?-1:t>e?1:0}function ys(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var He=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new F(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ee=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new He(0,0))}static max(){return new t(new He(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Nl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&W(),r===void 0?r=e.length-n:r>e.length-n&&W(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Se=class t extends Nl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new F(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},$L=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Et=class t extends Nl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return $L.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new F(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new F(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new F(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var q=class t{constructor(e){this.path=e}static fromPath(e){return new t(Se.fromString(e))}static fromName(e){return new t(Se.fromString(e).popFirst(5))}static empty(){return new t(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Se(e.slice()))}};var _m=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};_m.UNKNOWN_ID=-1;function qL(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new He(n+1,0):new He(n,r));return new ni(i,q.empty(),e)}function HL(t){return new ni(t.readTime,t.key,-1)}var ni=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ee.min(),q.empty(),-1)}static max(){return new t(ee.max(),q.empty(),-1)}};function zL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}var GL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Im=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ra(t){return C(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==GL)throw t;V("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&W(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(f=>{o[l]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function WL(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Na(t){return t.name==="IndexedDbTransactionError"}var qb=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function ud(t){return t==null}function ma(t){return t===0&&1/t==-1/0}function KL(t){return typeof t=="number"&&Number.isInteger(t)&&!ma(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var QL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],s3=[...QL,"documentOverlays"],YL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],JL=YL,ZL=[...JL,"indexConfiguration","indexState","indexEntries"];var o3=[...ZL,"globals"];function ub(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ci(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Hb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Me=class t{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fs(this.root,e,this.comparator,!1)}getReverseIterator(){return new fs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fs(this.root,e,this.comparator,!0)}},fs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},un=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw W();let e=this.left.check();if(e!==this.right.check())throw W();return e+(this.isRed()?0:1)}};un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw W()}get value(){throw W()}get color(){throw W()}get left(){throw W()}get right(){throw W()}copy(e,n,r,i,s){return this}insert(e,n,r){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var tt=class t{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ml(this.data.getIterator())}getIteratorFrom(e){return new Ml(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Ml=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var xt=class t{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new t([])}unionWith(e){let n=new tt(Et.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ys(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var xl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var nt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new xl("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};nt.EMPTY_BYTE_STRING=new nt("");var XL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kn(t){if(ve(!!t),typeof t=="string"){let e=0,n=XL.exec(t);if(ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:be(t.seconds),nanos:be(t.nanos)}}function be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function mr(t){return typeof t=="string"?nt.fromBase64String(t):nt.fromUint8Array(t)}function Gy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wy(t){let e=t.mapValue.fields.__previous_value__;return Gy(e)?Wy(e):e}function ya(t){let e=kn(t.mapValue.fields.__local_write_time__.timestampValue);return new He(e.seconds,e.nanos)}var wm=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Pl=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Dl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ri(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gy(t)?4:Gb(t)?9007199254740991:zb(t)?10:11:W()}function fn(t,e){if(t===e)return!0;let n=ri(t);if(n!==ri(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ya(t).isEqual(ya(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=kn(i.timestampValue),a=kn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return mr(i.bytesValue).isEqual(mr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return be(i.geoPointValue.latitude)===be(s.geoPointValue.latitude)&&be(i.geoPointValue.longitude)===be(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return be(i.integerValue)===be(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=be(i.doubleValue),a=be(s.doubleValue);return o===a?ma(o)===ma(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ys(t.arrayValue.values||[],e.arrayValue.values||[],fn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(ub(o)!==ub(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!fn(o[u],a[u])))return!1;return!0}(t,e);default:return W()}}function va(t,e){return(t.values||[]).find(n=>fn(n,e))!==void 0}function vs(t,e){if(t===e)return 0;let n=ri(t),r=ri(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=be(s.integerValue||s.doubleValue),u=be(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return lb(t.timestampValue,e.timestampValue);case 4:return lb(ya(t),ya(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(s,o){let a=mr(s),u=mr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let f=he(a[l],u[l]);if(f!==0)return f}return he(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=he(be(s.latitude),be(o.latitude));return a!==0?a:he(be(s.longitude),be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return db(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,f;let p=s.fields||{},m=o.fields||{},I=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,R=he(((l=I?.values)===null||l===void 0?void 0:l.length)||0,((f=S?.values)===null||f===void 0?void 0:f.length)||0);return R!==0?R:db(I,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Dl.mapValue&&o===Dl.mapValue)return 0;if(s===Dl.mapValue)return 1;if(o===Dl.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let m=he(u[p],f[p]);if(m!==0)return m;let I=vs(a[u[p]],l[f[p]]);if(I!==0)return I}return he(u.length,f.length)}(t.mapValue,e.mapValue);default:throw W()}}function lb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);let n=kn(t),r=kn(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function db(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=vs(n[i],r[i]);if(s)return s}return he(n.length,r.length)}function _s(t){return Em(t)}function Em(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=kn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return mr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Em(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Em(n.fields[o])}`;return i+"}"}(t.mapValue):W()}function hb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Tm(t){return!!t&&"integerValue"in t}function Ky(t){return!!t&&"arrayValue"in t}function fb(t){return!!t&&"nullValue"in t}function pb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cl(t){return!!t&&"mapValue"in t}function zb(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ha(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ci(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ha(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ha(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Gb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var wt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ha(n)}setAll(e){let n=Et.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ha(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Cl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Cl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ci(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(ha(this.value))}};function Wb(t){let e=[];return ci(t.fields,(n,r)=>{let i=new Et([n]);if(Cl(r)){let s=Wb(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new xt(e)}var zt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ee.min(),ee.min(),ee.min(),wt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ee.min(),ee.min(),wt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ee.min(),ee.min(),wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Is=class{constructor(e,n){this.position=e,this.inclusive=n}};function gb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=vs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function mb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fn(t.position[n],e.position[n]))return!1;return!0}var ws=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function eV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ol=class{},ke=class t extends Ol{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new bm(e,n,r):n==="array-contains"?new Am(e,r):n==="in"?new Rm(e,r):n==="not-in"?new Nm(e,r):n==="array-contains-any"?new Mm(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Cm(e,r):new Sm(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(vs(n,this.value)):n!==null&&ri(this.value)===ri(n)&&this.matchesComparison(vs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Gt=class t extends Ol{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return Kb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Kb(t){return t.op==="and"}function Qb(t){return tV(t)&&Kb(t)}function tV(t){for(let e of t.filters)if(e instanceof Gt)return!1;return!0}function Dm(t){if(t instanceof ke)return t.field.canonicalString()+t.op.toString()+_s(t.value);if(Qb(t))return t.filters.map(e=>Dm(e)).join(",");{let e=t.filters.map(n=>Dm(n)).join(",");return`${t.op}(${e})`}}function Yb(t,e){return t instanceof ke?function(r,i){return i instanceof ke&&r.op===i.op&&r.field.isEqual(i.field)&&fn(r.value,i.value)}(t,e):t instanceof Gt?function(r,i){return i instanceof Gt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Yb(o,i.filters[a]),!0):!1}(t,e):void W()}function Jb(t){return t instanceof ke?function(n){return`${n.field.canonicalString()} ${n.op} ${_s(n.value)}`}(t):t instanceof Gt?function(n){return n.op.toString()+" {"+n.getFilters().map(Jb).join(" ,")+"}"}(t):"Filter"}var bm=class extends ke{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){let n=q.comparator(e.key,this.key);return this.matchesComparison(n)}},Cm=class extends ke{constructor(e,n){super(e,"in",n),this.keys=Zb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Sm=class extends ke{constructor(e,n){super(e,"not-in",n),this.keys=Zb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Zb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}var Am=class extends ke{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Ky(n)&&va(n.arrayValue,this.value)}},Rm=class extends ke{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&va(this.value.arrayValue,n)}},Nm=class extends ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(va(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!va(this.value.arrayValue,n)}},Mm=class extends ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Ky(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>va(this.value.arrayValue,r))}};var xm=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function yb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new xm(t,e,n,r,i,s,o)}function Qy(t){let e=Y(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Dm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ud(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_s(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_s(r)).join(",")),e.ue=n}return e.ue}function Yy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Yb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mb(t.startAt,e.startAt)&&mb(t.endAt,e.endAt)}function Pm(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ii=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function nV(t,e,n,r,i,s,o,a){return new ii(t,e,n,r,i,s,o,a)}function Jy(t){return new ii(t)}function vb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Xb(t){return t.collectionGroup!==null}function fa(t){let e=Y(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new tt(Et.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ws(s,r))}),n.has(Et.keyField().canonicalString())||e.ce.push(new ws(Et.keyField(),r))}return e.ce}function ln(t){let e=Y(t);return e.le||(e.le=rV(e,fa(t))),e.le}function rV(t,e){if(t.limitType==="F")return yb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new ws(i.field,s)});let n=t.endAt?new Is(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Is(t.startAt.position,t.startAt.inclusive):null;return yb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Om(t,e){let n=t.filters.concat([e]);return new ii(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function km(t,e,n){return new ii(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ld(t,e){return Yy(ln(t),ln(e))&&t.limitType===e.limitType}function eC(t){return`${Qy(ln(t))}|lt:${t.limitType}`}function ls(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Jb(i)).join(", ")}]`),ud(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>_s(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>_s(i)).join(",")),`Target(${r})`}(ln(t))}; limitType=${t.limitType})`}function dd(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of fa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=gb(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,fa(r),i)||r.endAt&&!function(o,a,u){let l=gb(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,fa(r),i))}(t,e)}function iV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tC(t){return(e,n)=>{let r=!1;for(let i of fa(t)){let s=sV(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function sV(t,e,n){let r=t.field.isKeyField()?q.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?vs(u,l):W()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return W()}}var yr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ci(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return Hb(this.inner)}size(){return this.innerSize}};var oV=new Me(q.comparator);function Fn(){return oV}var nC=new Me(q.comparator);function da(...t){let e=nC;for(let n of t)e=e.insert(n.key,n);return e}function rC(t){let e=nC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zr(){return pa()}function iC(){return pa()}function pa(){return new yr(t=>t.toString(),(t,e)=>t.isEqual(e))}var aV=new Me(q.comparator),cV=new tt(q.comparator);function ue(...t){let e=cV;for(let n of t)e=e.add(n);return e}var uV=new tt(he);function lV(){return uV}function Zy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ma(e)?"-0":e}}function sC(t){return{integerValue:""+t}}function dV(t,e){return KL(e)?sC(e):Zy(t,e)}var Es=class{constructor(){this._=void 0}};function hV(t,e,n){return t instanceof Ts?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Gy(s)&&(s=Wy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof vr?aC(t,e):t instanceof _r?cC(t,e):function(i,s){let o=oC(i,s),a=_b(o)+_b(i.Pe);return Tm(o)&&Tm(i.Pe)?sC(a):Zy(i.serializer,a)}(t,e)}function fV(t,e,n){return t instanceof vr?aC(t,e):t instanceof _r?cC(t,e):n}function oC(t,e){return t instanceof Ds?function(r){return Tm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Ts=class extends Es{},vr=class extends Es{constructor(e){super(),this.elements=e}};function aC(t,e){let n=uC(e);for(let r of t.elements)n.some(i=>fn(i,r))||n.push(r);return{arrayValue:{values:n}}}var _r=class extends Es{constructor(e){super(),this.elements=e}};function cC(t,e){let n=uC(e);for(let r of t.elements)n=n.filter(i=>!fn(i,r));return{arrayValue:{values:n}}}var Ds=class extends Es{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function _b(t){return be(t.integerValue||t.doubleValue)}function uC(t){return Ky(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var kl=class{constructor(e,n){this.field=e,this.transform=n}};function pV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof vr&&i instanceof vr||r instanceof _r&&i instanceof _r?ys(r.elements,i.elements,fn):r instanceof Ds&&i instanceof Ds?fn(r.Pe,i.Pe):r instanceof Ts&&i instanceof Ts}(t.transform,e.transform)}var Fm=class{constructor(e,n){this.version=e,this.transformResults=n}},dn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Sl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var bs=class{};function lC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _a(t.key,dn.none()):new si(t.key,t.data,dn.none());{let n=t.data,r=wt.empty(),i=new tt(Et.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new pn(t.key,r,new xt(i.toArray()),dn.none())}}function gV(t,e,n){t instanceof si?function(i,s,o){let a=i.value.clone(),u=wb(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof pn?function(i,s,o){if(!Sl(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=wb(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(dC(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ga(t,e,n,r){return t instanceof si?function(s,o,a,u){if(!Sl(s.precondition,o))return a;let l=s.value.clone(),f=Eb(s.fieldTransforms,u,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof pn?function(s,o,a,u){if(!Sl(s.precondition,o))return a;let l=Eb(s.fieldTransforms,u,o),f=o.data;return f.setAll(dC(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Sl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function mV(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=oC(r.transform,i||null);s!=null&&(n===null&&(n=wt.empty()),n.set(r.field,s))}return n||null}function Ib(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ys(r,i,(s,o)=>pV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var si=class extends bs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},pn=class extends bs{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function dC(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function wb(t,e,n){let r=new Map;ve(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,fV(o,a,n[i]))}return r}function Eb(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,hV(s,o,e))}return r}var _a=class extends bs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Lm=class extends bs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Vm=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&gV(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ga(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ga(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=iC();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=lC(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&ys(this.mutations,e.mutations,(n,r)=>Ib(n,r))&&ys(this.baseMutations,e.baseMutations,(n,r)=>Ib(n,r))}},Um=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ve(e.mutations.length===r.length);let i=function(){return aV}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var jm=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Bm=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Pe,le;function yV(t){switch(t){default:return W();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function hC(t){if(t===void 0)return On("GRPC error has no .code"),M.UNKNOWN;switch(t){case Pe.OK:return M.OK;case Pe.CANCELLED:return M.CANCELLED;case Pe.UNKNOWN:return M.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return M.INTERNAL;case Pe.UNAVAILABLE:return M.UNAVAILABLE;case Pe.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Pe.NOT_FOUND:return M.NOT_FOUND;case Pe.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Pe.ABORTED:return M.ABORTED;case Pe.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Pe.DATA_LOSS:return M.DATA_LOSS;default:return W()}}(le=Pe||(Pe={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";var Tb=null;function vV(){return new TextEncoder}var _V=new pr([4294967295,4294967295],0);function Db(t){let e=vV().encode(t),n=new nm;return n.update(e),new Uint8Array(n.digest())}function bb(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new pr([n,r],0),new pr([i,s],0)]}var $m=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xr(`Invalid padding: ${n}`);if(r<0)throw new Xr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xr(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=pr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(pr.fromNumber(r)));return i.compare(_V)===1&&(i=new pr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=Db(e),[r,i]=bb(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=Db(e),[r,i]=bb(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Xr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Fl=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ia.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ee.min(),i,new Me(he),Fn(),ue())}},Ia=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ue(),ue(),ue())}};var ps=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Ll=class{constructor(e,n){this.targetId=e,this.me=n}},Vl=class{constructor(e,n,r=nt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Ul=class{constructor(){this.fe=0,this.ge=Sb(),this.pe=nt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ue(),n=ue(),r=ue();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:W()}}),new Ia(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Sb()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},qm=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Fn(),this.qe=Cb(),this.Qe=new Me(he)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:W()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(Pm(s))if(r===0){let o=new q(s.path);this.Ue(n,o,zt.newNoDocument(o,ee.min()))}else ve(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}Tb?.et(function(f,p,m,I,S){var R,N,k,K,L,re;let De={localCacheCount:f,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},J=p.unchangedNames;return J&&(De.bloomFilter={applied:S===0,hashCount:(R=J?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(K=(k=(N=J?.bits)===null||N===void 0?void 0:N.bitmap)===null||k===void 0?void 0:k.length)!==null&&K!==void 0?K:0,padding:(re=(L=J?.bits)===null||L===void 0?void 0:L.padding)!==null&&re!==void 0?re:0,mightContain:E=>{var y;return(y=I?.mightContain(E))!==null&&y!==void 0&&y}}),De}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=mr(r).toUint8Array()}catch(u){if(u instanceof xl)return ms("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new $m(o,i,s)}catch(u){return ms(u instanceof Xr?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Pm(a.target)){let u=new q(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,zt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ue();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Fl(e,n,this.Qe,this.ke,r);return this.ke=Fn(),this.qe=Cb(),this.Qe=new Me(he),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Ul,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tt(he),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ul),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function Cb(){return new Me(q.comparator)}function Sb(){return new Me(q.comparator)}var IV={asc:"ASCENDING",desc:"DESCENDING"},wV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EV={and:"AND",or:"OR"},Hm=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function zm(t,e){return t.useProto3Json||ud(e)?e:{value:e}}function jl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TV(t,e){return jl(t,e.toTimestamp())}function hn(t){return ve(!!t),ee.fromTimestamp(function(n){let r=kn(n);return new He(r.seconds,r.nanos)}(t))}function Xy(t,e){return Gm(t,e).canonicalString()}function Gm(t,e){let n=function(i){return new Se(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function pC(t){let e=Se.fromString(t);return ve(_C(e)),e}function Wm(t,e){return Xy(t.databaseId,e.path)}function cm(t,e){let n=pC(e);if(n.get(1)!==t.databaseId.projectId)throw new F(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(mC(n))}function gC(t,e){return Xy(t.databaseId,e)}function DV(t){let e=pC(t);return e.length===4?Se.emptyPath():mC(e)}function Km(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mC(t){return ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ab(t,e,n){return{name:Wm(t,e),fields:n.value.mapValue.fields}}function bV(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,f){return l.useProto3Json?(ve(f===void 0||typeof f=="string"),nt.fromBase64String(f||"")):(ve(f===void 0||f instanceof Buffer||f instanceof Uint8Array),nt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let f=l.code===void 0?M.UNKNOWN:hC(l.code);return new F(f,l.message||"")}(o);n=new Vl(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=cm(t,r.document.name),s=hn(r.document.updateTime),o=r.document.createTime?hn(r.document.createTime):ee.min(),a=new wt({mapValue:{fields:r.document.fields}}),u=zt.newFoundDocument(i,s,o,a),l=r.targetIds||[],f=r.removedTargetIds||[];n=new ps(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=cm(t,r.document),s=r.readTime?hn(r.readTime):ee.min(),o=zt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ps([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=cm(t,r.document),s=r.removedTargetIds||[];n=new ps([],s,i,null)}else{if(!("filter"in e))return W();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Bm(i,s),a=r.targetId;n=new Ll(a,o)}}return n}function CV(t,e){let n;if(e instanceof si)n={update:Ab(t,e.key,e.value)};else if(e instanceof _a)n={delete:Wm(t,e.key)};else if(e instanceof pn)n={update:Ab(t,e.key,e.data),updateMask:kV(e.fieldMask)};else{if(!(e instanceof Lm))return W();n={verify:Wm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Ts)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof vr)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof _r)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ds)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw W()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:TV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:W()}(t,e.precondition)),n}function SV(t,e){return t&&t.length>0?(ve(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?hn(i.updateTime):hn(s);return o.isEqual(ee.min())&&(o=hn(s)),new Fm(o,i.transformResults||[])}(n,e))):[]}function AV(t,e){return{documents:[gC(t,e.path)]}}function RV(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gC(t,i);let s=function(l){if(l.length!==0)return vC(Gt.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(f=>function(m){return{field:ds(m.field),direction:xV(m.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=zm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function NV(t){let e=DV(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ve(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){let m=yC(p);return m instanceof Gt&&Qb(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(S){return new ws(hs(S.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,ud(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,I=p.values||[];return new Is(I,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,I=p.values||[];return new Is(I,m)}(n.endAt)),nV(e,i,o,s,a,"F",u,l)}function MV(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=hs(n.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=hs(n.unaryFilter.field);return ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=hs(n.unaryFilter.field);return ke.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=hs(n.unaryFilter.field);return ke.create(o,"!=",{nullValue:"NULL_VALUE"});default:return W()}}(t):t.fieldFilter!==void 0?function(n){return ke.create(hs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return W()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Gt.create(n.compositeFilter.filters.map(r=>yC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return W()}}(n.compositeFilter.op))}(t):W()}function xV(t){return IV[t]}function PV(t){return wV[t]}function OV(t){return EV[t]}function ds(t){return{fieldPath:t.canonicalString()}}function hs(t){return Et.fromServerFormat(t.fieldPath)}function vC(t){return t instanceof ke?function(n){if(n.op==="=="){if(pb(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NAN"}};if(fb(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pb(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NOT_NAN"}};if(fb(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ds(n.field),op:PV(n.op),value:n.value}}}(t):t instanceof Gt?function(n){let r=n.getFilters().map(i=>vC(i));return r.length===1?r[0]:{compositeFilter:{op:OV(n.op),filters:r}}}(t):W()}function kV(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _C(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var wa=class t{constructor(e,n,r,i,s=ee.min(),o=ee.min(),a=nt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Qm=class{constructor(e){this.ct=e}};function FV(t){let e=NV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?km(e,e.limit,"L"):e}var Bl=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(be(e.integerValue));else if("doubleValue"in e){let r=be(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),ma(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=kn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(mr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?Gb(e)?this.dt(n,Number.MAX_SAFE_INTEGER):zb(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):W()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(be(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),q.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Bl.vt=new Bl;var Ym=class{constructor(){this.un=new Jm}addToCollectionParentIndex(e,n){return this.un.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(ni.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(ni.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},Jm=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tt(Se.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tt(Se.comparator)).toArray()}};var c3=new Uint8Array(0);var an=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(41943040,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);var Ea=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Zm=class{constructor(){this.changes=new yr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Xm=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var ey=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ga(r.mutation,i,xt.empty(),He.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){let i=Zr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=da();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Zr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Fn(),o=pa(),a=function(){return pa()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof pn)?s=s.insert(l.key,l):f!==void 0?(o.set(l.key,f.mutation.getFieldMask()),ga(f.mutation,l,f.mutation.getFieldMask(),He.now())):o.set(l.key,xt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,f)=>o.set(l,f)),n.forEach((l,f)=>{var p;return a.set(l,new Xm(f,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=pa(),i=new Me((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||xt.empty();f=a.applyToLocalView(l,f),r.set(u,f);let p=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,f=u.value,p=iC();f.forEach(m=>{if(!s.has(m)){let I=lC(n.get(m),r.get(m));I!==null&&p.set(m,I),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Xb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(Zr()),a=-1,u=s;return o.next(l=>x.forEach(l,(f,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(f)?x.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,ue())).next(f=>({batchId:a,changes:rC(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=da();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=da();return this.indexManager.getCollectionParents(e,s).next(a=>x.forEach(a,u=>{let l=function(p,m){return new ii(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let f=l.getKey();o.get(f)===null&&(o=o.insert(f,zt.newInvalidDocument(f)))});let a=da();return o.forEach((u,l)=>{let f=s.get(u);f!==void 0&&ga(f.mutation,l,xt.empty(),He.now()),dd(n,l)&&(a=a.insert(u,l))}),a})}};var ty=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return x.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:hn(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:FV(i.bundledQuery),readTime:hn(i.readTime)}}(n)),x.resolve()}};var ny=class{constructor(){this.overlays=new Me(q.comparator),this.Ir=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Zr();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=Zr(),s=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Me((l,f)=>l-f),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=s.get(l.largestBatchId);f===null&&(f=Zr(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let a=Zr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>a.set(l,f)),!(a.size()>=i)););return x.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new jm(n,r));let s=this.Ir.get(n);s===void 0&&(s=ue(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var ry=class{constructor(){this.sessionToken=nt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var Ta=class{constructor(){this.Tr=new tt(Oe.Er),this.dr=new tt(Oe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Oe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Oe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new q(new Se([])),r=new Oe(n,e),i=new Oe(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new q(new Se([])),r=new Oe(n,e),i=new Oe(n,e+1),s=ue();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Oe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Oe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return q.comparator(e.key,n.key)||he(e.wr,n.wr)}static Ar(e,n){return he(e.wr,n.wr)||q.comparator(e.key,n.key)}};var iy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new tt(Oe.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Vm(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new Oe(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Oe(n,0),i=new Oe(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tt(he);return n.forEach(i=>{let s=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;q.isDocumentKey(s)||(s=s.child(""));let o=new Oe(new q(s),0),a=new tt(he);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),x.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ve(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(n.mutations,i=>{let s=new Oe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Oe(n,0),i=this.br.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var sy=class{constructor(e){this.Mr=e,this.docs=function(){return new Me(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let r=Fn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zt.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Fn(),o=n.path,a=new q(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||zL(HL(f),r)<=0||(i.has(f.key)||dd(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){W()}Or(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new oy(this)}getSize(e){return x.resolve(this.size)}},oy=class extends Zm{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var ay=class{constructor(e){this.persistence=e,this.Nr=new yr(n=>Qy(n),Yy),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ta,this.targetCount=0,this.kr=Ea.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),x.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Ea(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Kn(n),x.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Br.containsKey(n))}};var cy=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new qb(0),this.Kr=!1,this.Kr=!0,this.$r=new ry,this.referenceDelegate=e(this),this.Ur=new ay(this),this.indexManager=new Ym,this.remoteDocumentCache=function(i){return new sy(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Qm(n),this.Gr=new ty(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ny,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new iy(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new uy(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},uy=class extends Im{constructor(e){super(),this.currentSequenceNumber=e}},ly=class t{constructor(e){this.persistence=e,this.Jr=new Ta,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw W()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),x.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=q.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ee.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return x.or([()=>x.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var dy=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ue(),i=ue();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var hy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var fy=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return bD()?8:WL(It())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new hy;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(la()<=ce.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(la()<=ce.DEBUG&&V("QueryEngine","Query:",ls(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(la()<=ce.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ln(n))):x.resolve())}Yi(e,n){if(vb(n))return x.resolve(null);let r=ln(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=km(n,null,"F"),r=ln(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ue(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,km(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return vb(n)||i.isEqual(ee.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?x.resolve(null):(la()<=ce.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ls(n)),this.rs(e,o,n,qL(i,-1)).next(a=>a))})}ts(e,n){let r=new tt(tC(e));return n.forEach((i,s)=>{dd(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return la()<=ce.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",ls(n)),this.Ji.getDocumentsMatchingQuery(e,n,ni.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var py=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Me(he),this._s=new yr(s=>Qy(s),Yy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ey(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function LV(t,e,n,r){return new py(t,e,n,r)}function IC(t,e){return C(this,null,function*(){let n=Y(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=ue();for(let l of i){o.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of s){a.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function VV(t,e){let n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,f){let p=l.batch,m=p.keys(),I=x.resolve();return m.forEach(S=>{I=I.next(()=>f.getEntry(u,S)).next(R=>{let N=l.docVersions.get(S);ve(N!==null),R.version.compareTo(N)<0&&(p.applyToRemoteDocument(R,l),R.isValidDocument()&&(R.setReadTime(l.commitVersion),f.addEntry(R)))})}),I.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ue();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function wC(t){let e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function UV(t,e){let n=Y(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((f,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,p)));let I=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?I=I.withResumeToken(nt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):f.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(f.resumeToken,r)),i=i.insert(p,I),function(R,N,k){return R.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(m,I,f)&&a.push(n.Ur.updateTargetData(s,I))});let u=Fn(),l=ue();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(jV(s,o,e.documentUpdates).next(f=>{u=f.Ps,l=f.Is})),!r.isEqual(ee.min())){let f=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function jV(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Fn();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function BV(t,e){let n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $V(t,e){let n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new wa(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function gy(t,e,n){return C(this,null,function*(){let r=Y(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Na(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function Rb(t,e,n){let r=Y(t),i=ee.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,f){let p=Y(u),m=p._s.get(f);return m!==void 0?x.resolve(p.os.get(m)):p.Ur.getTargetData(l,f)}(r,o,ln(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ee.min(),n?s:ue())).next(a=>(qV(r,iV(e),a),{documents:a,Ts:s})))}function qV(t,e,n){let r=t.us.get(e)||ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var $l=class{constructor(){this.activeTargetIds=lV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var my=class{constructor(){this.so=new $l,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new $l,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var yy=class{_o(e){}shutdown(){}};var ql=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var bl=null;function um(){return bl===null?bl=function(){return 268435456+Math.round(2147483648*Math.random())}():bl++,"0x"+bl.toString(16)}var HV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var vy=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var et="WebChannelConnection",_y=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=um(),u=this.xo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(f=>(V("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw ms("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=HV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=um();return new Promise((o,a)=>{let u=new rm;u.setWithCredentials(!0),u.listenOnce(im.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ua.NO_ERROR:let f=u.getResponseJson();V(et,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case ua.TIMEOUT:V(et,`RPC '${e}' ${s} timed out`),a(new F(M.DEADLINE_EXCEEDED,"Request time out"));break;case ua.HTTP_ERROR:let p=u.getStatus();if(V(et,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let I=m?.error;if(I&&I.status&&I.message){let S=function(N){let k=N.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(k)>=0?k:M.UNKNOWN}(I.status);a(new F(S,I.message))}else a(new F(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new F(M.UNAVAILABLE,"Connection failed."));break;default:W()}}finally{V(et,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);V(et,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=um(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=am(),a=om(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=s.join("");V(et,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=o.createWebChannel(f,u),m=!1,I=!1,S=new vy({Io:N=>{I?V(et,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(m||(V(et,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),V(et,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},To:()=>p.close()}),R=(N,k,K)=>{N.listen(k,L=>{try{K(L)}catch(re){setTimeout(()=>{throw re},0)}})};return R(p,us.EventType.OPEN,()=>{I||(V(et,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),R(p,us.EventType.CLOSE,()=>{I||(I=!0,V(et,`RPC '${e}' stream ${i} transport closed`),S.So())}),R(p,us.EventType.ERROR,N=>{I||(I=!0,ms(et,`RPC '${e}' stream ${i} transport errored:`,N),S.So(new F(M.UNAVAILABLE,"The operation could not be completed")))}),R(p,us.EventType.MESSAGE,N=>{var k;if(!I){let K=N.data[0];ve(!!K);let L=K,re=L.error||((k=L[0])===null||k===void 0?void 0:k.error);if(re){V(et,`RPC '${e}' stream ${i} received error:`,re);let De=re.status,J=function(v){let w=Pe[v];if(w!==void 0)return hC(w)}(De),E=re.message;J===void 0&&(J=M.INTERNAL,E="Unknown error status: "+De+" with message "+re.message),I=!0,S.So(new F(J,E)),p.close()}else V(et,`RPC '${e}' stream ${i} received:`,K),S.bo(K)}}),R(a,sm.STAT_EVENT,N=>{N.stat===Tl.PROXY?V(et,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Tl.NOPROXY&&V(et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function lm(){return typeof document<"u"?document:null}function hd(t){return new Hm(t,!0)}var Hl=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var zl=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Hl(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return C(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return C(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return C(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(On(n.toString()),On("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new F(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>C(this,null,function*(){this.state=0,this.start()}))}I_(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Iy=class extends zl{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=bV(this.serializer,e),r=function(s){if(!("targetChange"in s))return ee.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?hn(o.readTime):ee.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Km(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=Pm(u)?{documents:AV(s,u)}:{query:RV(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=fC(s,o.resumeToken);let l=zm(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ee.min())>0){a.readTime=jl(s,o.snapshotVersion.toTimestamp());let l=zm(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=MV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Km(this.serializer),n.removeTarget=e,this.a_(n)}},wy=class extends zl{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ve(!!e.streamToken),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=SV(e.writeResults,e.commitTime),r=hn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Km(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>CV(this.serializer,r))};this.a_(n)}};var Ey=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new F(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Gm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(M.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Gm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(M.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Ty=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(On(n),this.D_=!1):V("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Dy=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>C(this,null,function*(){ui(this)&&(V("RemoteStore","Restarting streams for network reachability change."),yield function(u){return C(this,null,function*(){let l=Y(u);l.L_.add(4),yield Ma(l),l.q_.set("Unknown"),l.L_.delete(4),yield fd(l)})}(this))}))}),this.q_=new Ty(r,i)}};function fd(t){return C(this,null,function*(){if(ui(t))for(let e of t.B_)yield e(!0)})}function Ma(t){return C(this,null,function*(){for(let e of t.B_)yield e(!1)})}function EC(t,e){let n=Y(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),rv(n)?nv(n):Ns(n).r_()&&tv(n,e))}function ev(t,e){let n=Y(t),r=Ns(n);n.N_.delete(e),r.r_()&&TC(n,e),n.N_.size===0&&(r.r_()?r.o_():ui(n)&&n.q_.set("Unknown"))}function tv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ns(t).A_(e)}function TC(t,e){t.Q_.xe(e),Ns(t).R_(e)}function nv(t){t.Q_=new qm({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ns(t).start(),t.q_.v_()}function rv(t){return ui(t)&&!Ns(t).n_()&&t.N_.size>0}function ui(t){return Y(t).L_.size===0}function DC(t){t.Q_=void 0}function zV(t){return C(this,null,function*(){t.q_.set("Online")})}function GV(t){return C(this,null,function*(){t.N_.forEach((e,n)=>{tv(t,e)})})}function WV(t,e){return C(this,null,function*(){DC(t),rv(t)?(t.q_.M_(e),nv(t)):t.q_.set("Unknown")})}function KV(t,e,n){return C(this,null,function*(){if(t.q_.set("Online"),e instanceof Vl&&e.state===2&&e.cause)try{yield function(i,s){return C(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Gl(t,r)}else if(e instanceof ps?t.Q_.Ke(e):e instanceof Ll?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ee.min()))try{let r=yield wC(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=s.N_.get(l);f&&s.N_.set(l,f.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(nt.EMPTY_BYTE_STRING,f.snapshotVersion)),TC(s,u);let p=new wa(f.target,u,l,f.sequenceNumber);tv(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){V("RemoteStore","Failed to raise snapshot:",r),yield Gl(t,r)}})}function Gl(t,e,n){return C(this,null,function*(){if(!Na(e))throw e;t.L_.add(1),yield Ma(t),t.q_.set("Offline"),n||(n=()=>wC(t.localStore)),t.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){V("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield fd(t)}))})}function bC(t,e){return e().catch(n=>Gl(t,n,e))}function pd(t){return C(this,null,function*(){let e=Y(t),n=Ir(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;QV(e);)try{let i=yield BV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,YV(e,i)}catch(i){yield Gl(e,i)}CC(e)&&SC(e)})}function QV(t){return ui(t)&&t.O_.length<10}function YV(t,e){t.O_.push(e);let n=Ir(t);n.r_()&&n.V_&&n.m_(e.mutations)}function CC(t){return ui(t)&&!Ir(t).n_()&&t.O_.length>0}function SC(t){Ir(t).start()}function JV(t){return C(this,null,function*(){Ir(t).p_()})}function ZV(t){return C(this,null,function*(){let e=Ir(t);for(let n of t.O_)e.m_(n.mutations)})}function XV(t,e,n){return C(this,null,function*(){let r=t.O_.shift(),i=Um.from(r,e,n);yield bC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield pd(t)})}function eU(t,e){return C(this,null,function*(){e&&Ir(t).V_&&(yield function(r,i){return C(this,null,function*(){if(function(o){return yV(o)&&o!==M.ABORTED}(i.code)){let s=r.O_.shift();Ir(r).s_(),yield bC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield pd(r)}})}(t,e)),CC(t)&&SC(t)})}function Nb(t,e){return C(this,null,function*(){let n=Y(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");let r=ui(n);n.L_.add(3),yield Ma(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield fd(n)})}function tU(t,e){return C(this,null,function*(){let n=Y(t);e?(n.L_.delete(2),yield fd(n)):e||(n.L_.add(2),yield Ma(n),n.q_.set("Unknown"))})}function Ns(t){return t.K_||(t.K_=function(n,r,i){let s=Y(n);return s.w_(),new Iy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:zV.bind(null,t),Ro:GV.bind(null,t),mo:WV.bind(null,t),d_:KV.bind(null,t)}),t.B_.push(e=>C(this,null,function*(){e?(t.K_.s_(),rv(t)?nv(t):t.q_.set("Unknown")):(yield t.K_.stop(),DC(t))}))),t.K_}function Ir(t){return t.U_||(t.U_=function(n,r,i){let s=Y(n);return s.w_(),new wy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:JV.bind(null,t),mo:eU.bind(null,t),f_:ZV.bind(null,t),g_:XV.bind(null,t)}),t.B_.push(e=>C(this,null,function*(){e?(t.U_.s_(),yield pd(t)):(yield t.U_.stop(),t.O_.length>0&&(V("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var by=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function iv(t,e){if(On("AsyncQueue",`${e}: ${t}`),Na(t))return new F(M.UNAVAILABLE,`${e}: ${t}`);throw t}var Wl=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=da(),this.sortedSet=new Me(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Kl=class{constructor(){this.W_=new Me(q.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):W():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Cs=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Wl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ld(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Cy=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Sy=class{constructor(){this.queries=Mb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Y(n),s=i.queries;i.queries=Mb(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new F(M.ABORTED,"Firestore shutting down"))}};function Mb(){return new yr(t=>eC(t),ld)}function AC(t,e){return C(this,null,function*(){let n=Y(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Cy,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=iv(o,`Initialization of query '${ls(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&sv(n)})}function RC(t,e){return C(this,null,function*(){let n=Y(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function nU(t,e){let n=Y(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&sv(n)}function rU(t,e,n){let r=Y(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function sv(t){t.Y_.forEach(e=>{e.next()})}var Ay,xb;(xb=Ay||(Ay={})).ea="default",xb.Cache="cache";var Ql=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Cs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Cs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ay.Cache}};var Yl=class{constructor(e){this.key=e}},Jl=class{constructor(e){this.key=e}},Ry=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ue(),this.mutatedKeys=ue(),this.Aa=tC(e),this.Ra=new Wl(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Kl,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let m=i.get(f),I=dd(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),R=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),N=!1;m&&I?m.data.isEqual(I.data)?S!==R&&(r.track({type:3,doc:I}),N=!0):this.ga(m,I)||(r.track({type:2,doc:I}),N=!0,(u&&this.Aa(I,u)>0||l&&this.Aa(I,l)<0)&&(a=!0)):!m&&I?(r.track({type:0,doc:I}),N=!0):m&&!I&&(r.track({type:1,doc:m}),N=!0,(u||l)&&(a=!0)),N&&(I?(o=o.add(I),s=R?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((f,p)=>function(I,S){let R=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W()}};return R(I)-R(S)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new Cs(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Kl,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Jl(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Yl(r))}),n}ba(e){this.Ta=e.Ts,this.da=ue();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Cs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Ny=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},My=class{constructor(e){this.key=e,this.va=!1}},xy=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new yr(a=>eC(a),ld),this.Ma=new Map,this.xa=new Set,this.Oa=new Me(q.comparator),this.Na=new Map,this.La=new Ta,this.Ba={},this.ka=new Map,this.qa=Ea.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function iU(t,e,n=!0){return C(this,null,function*(){let r=kC(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield NC(r,e,n,!0),i})}function sU(t,e){return C(this,null,function*(){let n=kC(t);yield NC(n,e,!0,!1)})}function NC(t,e,n,r){return C(this,null,function*(){let i=yield $V(t.localStore,ln(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield oU(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&EC(t.remoteStore,i),a})}function oU(t,e,n,r,i){return C(this,null,function*(){t.Ka=(p,m,I)=>function(R,N,k,K){return C(this,null,function*(){let L=N.view.ma(k);L.ns&&(L=yield Rb(R.localStore,N.query,!1).then(({documents:E})=>N.view.ma(E,L)));let re=K&&K.targetChanges.get(N.targetId),De=K&&K.targetMismatches.get(N.targetId)!=null,J=N.view.applyChanges(L,R.isPrimaryClient,re,De);return Ob(R,N.targetId,J.wa),J.snapshot})}(t,p,m,I);let s=yield Rb(t.localStore,e,!0),o=new Ry(e,s.Ts),a=o.ma(s.documents),u=Ia.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);Ob(t,n,l.wa);let f=new Ny(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function aU(t,e,n){return C(this,null,function*(){let r=Y(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!ld(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield gy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ev(r.remoteStore,i.targetId),Py(r,i.targetId)}).catch(Ra))):(Py(r,i.targetId),yield gy(r.localStore,i.targetId,!0))})}function cU(t,e){return C(this,null,function*(){let n=Y(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ev(n.remoteStore,r.targetId))})}function uU(t,e,n){return C(this,null,function*(){let r=mU(t);try{let i=yield function(o,a){let u=Y(o),l=He.now(),f=a.reduce((I,S)=>I.add(S.key),ue()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let S=Fn(),R=ue();return u.cs.getEntries(I,f).next(N=>{S=N,S.forEach((k,K)=>{K.isValidDocument()||(R=R.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,S)).next(N=>{p=N;let k=[];for(let K of a){let L=mV(K,p.get(K.key).overlayedDocument);L!=null&&k.push(new pn(K.key,L,Wb(L.value.mapValue),dn.exists(!0)))}return u.mutationQueue.addMutationBatch(I,l,k,a)}).next(N=>{m=N;let k=N.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(I,N.batchId,k)})}).then(()=>({batchId:m.batchId,changes:rC(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Me(he)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield xa(r,i.changes),yield pd(r.remoteStore)}catch(i){let s=iv(i,"Failed to persist write");n.reject(s)}})}function MC(t,e){return C(this,null,function*(){let n=Y(t);try{let r=yield UV(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ve(o.va):i.removedDocuments.size>0&&(ve(o.va),o.va=!1))}),yield xa(n,r,e)}catch(r){yield Ra(r)}})}function Pb(t,e,n){let r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=Y(o);u.onlineState=a;let l=!1;u.queries.forEach((f,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&sv(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function lU(t,e,n){return C(this,null,function*(){let r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Me(q.comparator);o=o.insert(s,zt.newNoDocument(s,ee.min()));let a=ue().add(s),u=new Fl(ee.min(),new Map,new Me(he),o,a);yield MC(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),ov(r)}else yield gy(r.localStore,e,!1).then(()=>Py(r,e,n)).catch(Ra)})}function dU(t,e){return C(this,null,function*(){let n=Y(t),r=e.batch.batchId;try{let i=yield VV(n.localStore,e);PC(n,r,null),xC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield xa(n,i)}catch(i){yield Ra(i)}})}function hU(t,e,n){return C(this,null,function*(){let r=Y(t);try{let i=yield function(o,a){let u=Y(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(ve(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);PC(r,e,n),xC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield xa(r,i)}catch(i){yield Ra(i)}})}function xC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function PC(t,e,n){let r=Y(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Py(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||OC(t,r)})}function OC(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(ev(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),ov(t))}function Ob(t,e,n){for(let r of n)r instanceof Yl?(t.La.addReference(r.key,e),fU(t,r)):r instanceof Jl?(V("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||OC(t,r.key)):W()}function fU(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(V("SyncEngine","New document in limbo: "+n),t.xa.add(r),ov(t))}function ov(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new q(Se.fromString(e)),r=t.qa.next();t.Na.set(r,new My(n)),t.Oa=t.Oa.insert(n,r),EC(t.remoteStore,new wa(ln(Jy(n.path)),r,"TargetPurposeLimboResolution",qb.oe))}}function xa(t,e,n){return C(this,null,function*(){let r=Y(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=dy.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return C(this,null,function*(){let f=Y(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.$i,I=>f.persistence.referenceDelegate.addReference(p,m.targetId,I)).next(()=>x.forEach(m.Ui,I=>f.persistence.referenceDelegate.removeReference(p,m.targetId,I)))))}catch(p){if(!Na(p))throw p;V("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let I=f.os.get(m),S=I.snapshotVersion,R=I.withLastLimboFreeSnapshotVersion(S);f.os=f.os.insert(m,R)}}})}(r.localStore,s))})}function pU(t,e){return C(this,null,function*(){let n=Y(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());let r=yield IC(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new F(M.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield xa(n,r.hs)}})}function gU(t,e){let n=Y(t),r=n.Na.get(e);if(r&&r.va)return ue().add(r.key);{let i=ue(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function kC(t){let e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=MC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lU.bind(null,e),e.Ca.d_=nU.bind(null,e.eventManager),e.Ca.$a=rU.bind(null,e.eventManager),e}function mU(t){let e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hU.bind(null,e),e}var kb=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return C(this,null,function*(){this.serializer=hd(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return LV(this.persistence,new fy,n.initialUser,this.serializer)}Ga(n){return new cy(ly.Zr,this.serializer)}Wa(n){return new my}terminate(){return C(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var yU=(()=>{class t{initialize(n,r){return C(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Pb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=pU.bind(null,this.syncEngine),yield tU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Sy}()}createDatastore(n){let r=hd(n.databaseInfo.databaseId),i=function(o){return new _y(o)}(n.databaseInfo);return function(o,a,u,l){return new Ey(o,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,a,u){return new Dy(i,s,o,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>Pb(this.syncEngine,r,0),function(){return ql.D()?new ql:new yy}())}createSyncEngine(n,r){return function(s,o,a,u,l,f,p){let m=new xy(s,o,a,u,l,f);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return C(this,null,function*(){var n,r;yield function(s){return C(this,null,function*(){let o=Y(s);V("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Ma(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Zl=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):On("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Oy=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ue.UNAUTHENTICATED,this.clientId=Rl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>C(this,null,function*(){V("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(V("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=iv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function dm(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>C(this,null,function*(){r.isEqual(i)||(yield IC(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Fb(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield vU(t);V("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Nb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Nb(e.remoteStore,i)),t._onlineComponents=e})}function vU(t){return C(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield dm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ms("Error using user provided cache. Falling back to memory cache: "+n),yield dm(t,new kb)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield dm(t,new kb);return t._offlineComponents})}function FC(t){return C(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield Fb(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield Fb(t,new yU))),t._onlineComponents})}function _U(t){return FC(t).then(e=>e.syncEngine)}function ky(t){return C(this,null,function*(){let e=yield FC(t),n=e.eventManager;return n.onListen=iU.bind(null,e.syncEngine),n.onUnlisten=aU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cU.bind(null,e.syncEngine),n})}function IU(t,e,n={}){let r=new cn;return t.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(s,o,a,u,l){let f=new Zl({next:m=>{f.Za(),o.enqueueAndForget(()=>RC(s,p)),m.fromCache&&u.source==="server"?l.reject(new F(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Ql(a,f,{includeMetadataChanges:!0,_a:!0});return AC(s,p)}(yield ky(t),t.asyncQueue,e,n,r)})),r.promise}function LC(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Lb=new Map;function VC(t,e,n){if(!n)throw new F(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wU(t,e,n,r){if(e===!0&&r===!0)throw new F(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Vb(t){if(!q.isDocumentKey(t))throw new F(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ub(t){if(q.isDocumentKey(t))throw new F(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":W()}function Pt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=gd(t);throw new F(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Xl=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new F(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new F(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ss=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xl({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new F(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hm;switch(r.type){case"firstParty":return new mm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Lb.get(n);r&&(V("ComponentProvider","Removing Datastore"),Lb.delete(n),r.terminate())}(this),Promise.resolve()}};function UC(t,e,n,r={}){var i;let s=(t=Pt(t,Ss))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Ue.MOCK_USER;else{a=ID(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new F(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ue(l)}t._authCredentials=new fm(new Al(a,u))}}var oi=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ut=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},gr=class t extends oi{constructor(e,n,r){super(e,n,Jy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function jC(t,e,...n){if(t=Xe(t),VC("collection","path",e),t instanceof Ss){let r=Se.fromString(e,...n);return Ub(r),new gr(t,null,r)}{if(!(t instanceof ut||t instanceof gr))throw new F(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Se.fromString(e,...n));return Ub(r),new gr(t.firestore,null,r)}}function av(t,e,...n){if(t=Xe(t),arguments.length===1&&(e=Rl.newId()),VC("doc","path",e),t instanceof Ss){let r=Se.fromString(e,...n);return Vb(r),new ut(t,null,new q(r))}{if(!(t instanceof ut||t instanceof gr))throw new F(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Se.fromString(e,...n));return Vb(r),new ut(t.firestore,t instanceof gr?t.converter:null,new q(r))}}var ed=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Hl(this,"async_queue_retry"),this.Vu=()=>{let r=lm();r&&V("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=lm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new cn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return C(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Na(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw On("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=by.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&W()}verifyOperationInProgress(){}wu(){return C(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function jb(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var gn=class extends Ss{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ed,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ed(e),this._firestoreClient=void 0,yield e}})}};function BC(t,e){let n=typeof t=="object"?t:Xo(),r=typeof t=="string"?t:e||"(default)",i=Lg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=vD("firestore");s&&UC(i,...s)}return i}function cv(t){if(t._terminated)throw new F(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||EU(t),t._firestoreClient}function EU(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,f){return new wm(a,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,LC(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Oy(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Da=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(nt.fromBase64String(e))}catch(n){throw new F(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var As=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ai=class{constructor(e){this._methodName=e}};var ba=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}};var Ca=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var TU=/^__.*__$/,Fy=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pn(e,this.data,this.fieldMask,n,this.fieldTransforms):new si(e,this.data,n,this.fieldTransforms)}},td=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function $C(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W()}}var nd=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return id(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if($C(this.Cu)&&TU.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Ly=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||hd(e)}Qu(e,n,r,i=!1){return new nd({Cu:e,methodName:n,qu:r,path:Et.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function md(t){let e=t._freezeSettings(),n=hd(t._databaseId);return new Ly(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qC(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);uv("Data must be an object, but it was:",o,r);let a=zC(r,o),u,l;if(s.merge)u=new xt(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let p of s.mergeFields){let m=jy(e,p,n);if(!o.contains(m))throw new F(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);WC(f,m)||f.push(m)}u=new xt(f),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new Fy(new wt(a),u,l)}var rd=class t extends ai{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function HC(t,e,n){return new nd({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var Vy=class t extends ai{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){let n=HC(this,e,!0),r=this.Ku.map(s=>li(s,n)),i=new vr(r);return new kl(e.path,i)}isEqual(e){return e instanceof t&&ur(this.Ku,e.Ku)}},Uy=class t extends ai{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){let n=HC(this,e,!0),r=this.Ku.map(s=>li(s,n)),i=new _r(r);return new kl(e.path,i)}isEqual(e){return e instanceof t&&ur(this.Ku,e.Ku)}};function DU(t,e,n,r){let i=t.Qu(1,e,n);uv("Data must be an object, but it was:",i,r);let s=[],o=wt.empty();ci(r,(u,l)=>{let f=lv(e,u,n);l=Xe(l);let p=i.Nu(f);if(l instanceof rd)s.push(f);else{let m=li(l,p);m!=null&&(s.push(f),o.set(f,m))}});let a=new xt(s);return new td(o,a,i.fieldTransforms)}function bU(t,e,n,r,i,s){let o=t.Qu(1,e,n),a=[jy(e,r,n)],u=[i];if(s.length%2!=0)throw new F(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(jy(e,s[m])),u.push(s[m+1]);let l=[],f=wt.empty();for(let m=a.length-1;m>=0;--m)if(!WC(l,a[m])){let I=a[m],S=u[m];S=Xe(S);let R=o.Nu(I);if(S instanceof rd)l.push(I);else{let N=li(S,R);N!=null&&(l.push(I),f.set(I,N))}}let p=new xt(l);return new td(f,p,o.fieldTransforms)}function CU(t,e,n,r=!1){return li(n,t.Qu(r?4:3,e))}function li(t,e){if(GC(t=Xe(t)))return uv("Unsupported field value:",e,t),zC(t,e);if(t instanceof ai)return function(r,i){if(!$C(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=li(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=He.fromDate(r);return{timestampValue:jl(i.serializer,s)}}if(r instanceof He){let s=new He(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jl(i.serializer,s)}}if(r instanceof ba)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Da)return{bytesValue:fC(i.serializer,r._byteString)};if(r instanceof ut){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Xy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ca)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return Zy(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${gd(r)}`)}(t,e)}function zC(t,e){let n={};return Hb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ci(t,(r,i)=>{let s=li(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function GC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof He||t instanceof ba||t instanceof Da||t instanceof ut||t instanceof ai||t instanceof Ca)}function uv(t,e,n){if(!GC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=gd(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function jy(t,e,n){if((e=Xe(e))instanceof As)return e._internalPath;if(typeof e=="string")return lv(t,e);throw id("Field path arguments must be of type string or ",t,!1,void 0,n)}var SU=new RegExp("[~\\*/\\[\\]]");function lv(t,e,n){if(e.search(SU)>=0)throw id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new As(...e.split("."))._internalPath}catch{throw id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function id(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new F(M.INVALID_ARGUMENT,a+t+u)}function WC(t,e){return t.some(n=>n.isEqual(e))}var sd=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new By(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(dv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},By=class extends sd{data(){return super.data()}};function dv(t,e){return typeof e=="string"?lv(t,e):e instanceof As?e._internalPath:e._delegate._internalPath}function KC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Sa=class{},$y=class extends Sa{};function QC(t,e,...n){let r=[];e instanceof Sa&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof qy).length,a=s.filter(u=>u instanceof od).length;if(o>1||o>0&&a>0)throw new F(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var od=class t extends $y{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return JC(e._query,n),new oi(e.firestore,e.converter,Om(e._query,n))}_parse(e){let n=md(e.firestore);return function(s,o,a,u,l,f,p){let m;if(l.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new F(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){$b(p,f);let I=[];for(let S of p)I.push(Bb(u,s,S));m={arrayValue:{values:I}}}else m=Bb(u,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||$b(p,f),m=CU(a,o,p,f==="in"||f==="not-in");return ke.create(l,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function YC(t,e,n){let r=e,i=dv("where",t);return od._create(i,r,n)}var qy=class t extends Sa{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Gt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)JC(o,u),o=Om(o,u)}(e._query,n),new oi(e.firestore,e.converter,Om(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function Bb(t,e,n){if(typeof(n=Xe(n))=="string"){if(n==="")throw new F(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xb(e)&&n.indexOf("/")!==-1)throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Se.fromString(n));if(!q.isDocumentKey(r))throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hb(t,new q(r))}if(n instanceof ut)return hb(t,n._key);throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gd(n)}.`)}function $b(t,e){if(!Array.isArray(t)||t.length===0)throw new F(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JC(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new F(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Hy=class{convertValue(e,n="none"){switch(ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw W()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ci(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>be(o.doubleValue));return new Ca(s)}convertGeoPoint(e){return new ba(be(e.latitude),be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Wy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ya(e));default:return null}}convertTimestamp(e){let n=kn(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Se.fromString(e);ve(_C(r));let i=new Pl(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||On(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function ZC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var ei=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ad=class extends sd{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new gs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(dv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},gs=class extends ad{data(e={}){return super.data(e)}},cd=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ei(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gs(this._firestore,this._userDataWriter,r.key,r,new ei(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new gs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ei(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new gs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ei(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:AU(a.type),doc:u,oldIndex:l,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function AU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W()}}var Aa=class extends Hy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Da(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}};function XC(t){t=Pt(t,oi);let e=Pt(t.firestore,gn),n=cv(e),r=new Aa(e);return KC(t._query),IU(n,t._query).then(i=>new cd(e,r,t,i))}function e0(t,e,n){t=Pt(t,ut);let r=Pt(t.firestore,gn),i=ZC(t.converter,e,n);return yd(r,[qC(md(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,dn.none())])}function t0(t,e,n,...r){t=Pt(t,ut);let i=Pt(t.firestore,gn),s=md(i),o;return o=typeof(e=Xe(e))=="string"||e instanceof As?bU(s,"updateDoc",t._key,e,n,r):DU(s,"updateDoc",t._key,e),yd(i,[o.toMutation(t._key,dn.exists(!0))])}function n0(t){return yd(Pt(t.firestore,gn),[new _a(t._key,dn.none())])}function r0(t,e){let n=Pt(t.firestore,gn),r=av(t),i=ZC(t.converter,e);return yd(n,[qC(md(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,dn.exists(!1))]).then(()=>r)}function hv(t,...e){var n,r,i;t=Xe(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||jb(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(jb(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,f;if(t instanceof ut)l=Pt(t.firestore,gn),f=Jy(t._key.path),u={next:p=>{e[o]&&e[o](RU(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=Pt(t,oi);l=Pt(p.firestore,gn),f=p._query;let m=new Aa(l);u={next:I=>{e[o]&&e[o](new cd(l,m,p,I))},error:e[o+1],complete:e[o+2]},KC(t._query)}return function(m,I,S,R){let N=new Zl(R),k=new Ql(I,N,S);return m.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return AC(yield ky(m),k)})),()=>{N.Za(),m.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return RC(yield ky(m),k)}))}}(cv(l),f,a,u)}function yd(t,e){return function(r,i){let s=new cn;return r.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return uU(yield _U(r),i,s)})),s.promise}(cv(t),e)}function RU(t,e,n){let r=n.docs.get(e._key),i=new Aa(t);return new ad(t,i,e._key,r,new ei(n.hasPendingWrites,n.fromCache),e.converter)}function i0(...t){return new Vy("arrayUnion",t)}function s0(...t){return new Uy("arrayRemove",t)}(function(e,n=!0){(function(i){Rs=i})(os),hr(new Mt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new gn(new pm(r.getProvider("auth-internal")),new vm(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new F(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ve(cb,"4.7.3",e),Ve(cb,"4.7.3","esm2017")})();var vd=function(){return vd=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vd.apply(this,arguments)};var xU={includeMetadataChanges:!1};function o0(t,e){return e===void 0&&(e=xU),new Z(function(n){var r=hv(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function a0(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:vd(vd({},r),(n={},n[e.idField]=t.id,n))}function c0(t){return o0(t,{includeMetadataChanges:!0}).pipe(X(function(e){return e.docs}))}function u0(t,e){return e===void 0&&(e={}),c0(t).pipe(X(function(n){return n.map(function(r){return a0(r,e)})}))}var Pa=class{constructor(e){return e}},l0="firestore",fv=class{constructor(){return ta(l0)}};var pv=new z("angularfire2.firestore-instances");function PU(t,e){let n=jg(l0,t,e);return n&&new Pa(n)}function OU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Pa(r)}}var kU={provide:fv,deps:[[new yt,pv]]},FU={provide:Pa,useFactory:PU,deps:[[new yt,pv],Qr]};function O6(t,...e){return Ve("angularfire",cs.full,"fst"),tn([FU,kU,{provide:pv,useFactory:OU(t),multi:!0,deps:[me,Ct,na,ra,[new yt,wl],[new yt,ea],...e]}])}var k6=qe(u0,!0);var F6=qe(r0,!0);var L6=qe(s0,!0),V6=qe(i0,!0);var U6=qe(jC,!0);var j6=qe(n0,!0);var B6=qe(av,!0);var $6=qe(XC,!0);var q6=qe(BC,!0);var H6=qe(QC,!0);var z6=qe(e0,!0);var G6=qe(t0,!0);var W6=qe(YC,!0);export{Ce as a,Z as b,Qe as c,Be as d,dS as e,Ee as f,G as g,X as h,Js as i,hS as j,ih as k,_S as l,IS as m,ot as n,wS as o,wn as p,bc as q,dt as r,ah as s,xe as t,B as u,OI as v,j as w,Br as x,z as y,$ as z,P as A,Ut as B,QI as C,$r as D,$i as E,Ye as F,fo as G,Jz as H,Zz as I,Xz as J,e4 as K,Lf as L,go as M,Lt as N,St as O,t4 as P,$e as Q,Eu as R,me as S,Hi as T,wM as U,np as V,xM as W,op as X,HM as Y,zM as Z,OE as _,kE as $,ap as aa,s4 as ba,cp as ca,o4 as da,a4 as ea,c4 as fa,ux as ga,LE as ha,lx as ia,dx as ja,hx as ka,u4 as la,fx as ma,l4 as na,UE as oa,d4 as pa,h4 as qa,f4 as ra,p4 as sa,g4 as ta,yo as ua,zi as va,_o as wa,Io as xa,m4 as ya,Gi as za,Ze as Aa,j4 as Ba,B4 as Ca,$4 as Da,q4 as Ea,Kx as Fa,Yx as Ga,sP as Ha,nG as Ia,CG as Ja,mO as Ka,Nn as La,WG as Ma,KG as Na,QG as Oa,VW as Pa,UW as Qa,Pa as Ra,O6 as Sa,k6 as Ta,F6 as Ua,L6 as Va,V6 as Wa,U6 as Xa,j6 as Ya,B6 as Za,$6 as _a,q6 as $a,H6 as ab,z6 as bb,G6 as cb,W6 as db};
