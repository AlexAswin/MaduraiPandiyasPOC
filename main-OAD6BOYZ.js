import{a as ke}from"./chunk-FVED4J6A.js";import{e as Rt,f as Dt,g as At}from"./chunk-32KT7XXV.js";import"./chunk-FK6H3RFT.js";import{a as Ee,b as Ve,c as Pe,d as St,f as ze,g as Et,h as Pt,j as kt,k as It,o as Tt,p as Ft,q as We,r as qe}from"./chunk-UCXFX3FP.js";import{$ as B,$a as De,B as ce,Ba as Se,Ca as ht,Da as Le,Fa as mt,G as U,Ga as ft,H,Ha as xe,Ja as gt,Ka as _t,La as yt,Ma as Ct,Na as je,O as g,Oa as Ne,P as pe,Pa as bt,Qa as Be,Ra as xt,Sa as wt,Ta as vt,Ua as Mt,V as te,W as ge,X as W,Z as c,_ as u,aa as _e,ab as Ye,ba as X,ca as Y,cb as Ot,da as Ue,ea as _,eb as Ze,fa as re,ga as ve,ja as ye,ka as Ce,la as be,ma as pt,na as ue,oa as He,qa as Re,ra as Xe,sa as ut,v as lt,y as dt,z as ct}from"./chunk-I7XMEI44.js";import{c as Qt,d as Gt,e as de}from"./chunk-5FZOKLP6.js";var Ut=Qt((et,tt)=>{"use strict";((l,f)=>{typeof define=="function"&&define.amd?define([],f):typeof tt=="object"&&typeof et<"u"?tt.exports=f():l.Papa=f()})(et,function l(){var f=typeof self<"u"?self:typeof window<"u"?window:f!==void 0?f:{},n,i=!f.document&&!!f.postMessage,o=f.IS_PAPA_WORKER||!1,s={},w=0,a={};function q(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var r=Qe(t);r.chunkSize=parseInt(r.chunkSize),t.step||t.chunk||(r.chunkSize=null),this._handle=new it(r),(this._handle.streamer=this)._config=r}.call(this,e),this.parseChunk=function(t,r){var p=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<p){let C=this._config.newline;C||(d=this._config.quoteChar||'"',C=this._handle.guessLineEndings(t,d)),t=[...t.split(C).slice(p)].join(C)}this.isFirstChunk&&k(this._config.beforeFirstChunk)&&(d=this._config.beforeFirstChunk(t))!==void 0&&(t=d),this.isFirstChunk=!1,this._halted=!1;var p=this._partialLine+t,d=(this._partialLine="",this._handle.parse(p,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(t=d.meta.cursor,p=(this._finished||(this._partialLine=p.substring(t-this._baseIndex),this._baseIndex=t),d&&d.data&&(this._rowCount+=d.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)f.postMessage({results:d,workerId:a.WORKER_ID,finished:p});else if(k(this._config.chunk)&&!r){if(this._config.chunk(d,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=d=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(d.data),this._completeResults.errors=this._completeResults.errors.concat(d.errors),this._completeResults.meta=d.meta),this._completed||!p||!k(this._config.complete)||d&&d.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),p||d&&d.meta.paused||this._nextChunk(),d}this._halted=!0},this._sendError=function(t){k(this._config.error)?this._config.error(t):o&&this._config.error&&f.postMessage({workerId:a.WORKER_ID,error:t,finished:!1})}}function Z(e){var t;(e=e||{}).chunkSize||(e.chunkSize=a.RemoteChunkSize),q.call(this,e),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(r){this._input=r,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),i||(t.onload=fe(this._chunkLoaded,this),t.onerror=fe(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var r,p=this._config.downloadRequestHeaders;for(r in p)t.setRequestHeader(r,p[r])}var d;this._config.chunkSize&&(d=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+d));try{t.send(this._config.downloadRequestBody)}catch(C){this._chunkError(C.message)}i&&t.status===0&&this._chunkError()}},this._chunkLoaded=function(){t.readyState===4&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(r=>(r=r.getResponseHeader("Content-Range"))!==null?parseInt(r.substring(r.lastIndexOf("/")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(r){r=t.statusText||r,this._sendError(new Error(r))}}function K(e){(e=e||{}).chunkSize||(e.chunkSize=a.LocalChunkSize),q.call(this,e);var t,r,p=typeof FileReader<"u";this.stream=function(d){this._input=d,r=d.slice||d.webkitSlice||d.mozSlice,p?((t=new FileReader).onload=fe(this._chunkLoaded,this),t.onerror=fe(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var d=this._input,C=(this._config.chunkSize&&(C=Math.min(this._start+this._config.chunkSize,this._input.size),d=r.call(d,this._start,C)),t.readAsText(d,this._config.encoding));p||this._chunkLoaded({target:{result:C}})},this._chunkLoaded=function(d){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(d.target.result)},this._chunkError=function(){this._sendError(t.error)}}function we(e){var t;q.call(this,e=e||{}),this.stream=function(r){return t=r,this._nextChunk()},this._nextChunk=function(){var r,p;if(!this._finished)return r=this._config.chunkSize,t=r?(p=t.substring(0,r),t.substring(r)):(p=t,""),this._finished=!t,this.parseChunk(p)}}function me(e){q.call(this,e=e||{});var t=[],r=!0,p=!1;this.pause=function(){q.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){q.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(d){this._input=d,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){p&&t.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):r=!0},this._streamData=fe(function(d){try{t.push(typeof d=="string"?d:d.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(C){this._streamError(C)}},this),this._streamError=fe(function(d){this._streamCleanUp(),this._sendError(d)},this),this._streamEnd=fe(function(){this._streamCleanUp(),p=!0,this._streamData("")},this),this._streamCleanUp=fe(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function it(e){var t,r,p,d,C=Math.pow(2,53),L=-C,ne=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ie=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,v=this,R=0,m=0,J=!1,y=!1,M=[],h={data:[],errors:[],meta:{}};function j(O){return e.skipEmptyLines==="greedy"?O.join("").trim()==="":O.length===1&&O[0].length===0}function A(){if(h&&p&&(oe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),p=!1),e.skipEmptyLines&&(h.data=h.data.filter(function(I){return!j(I)})),$()){let I=function(V,T){k(e.transformHeader)&&(V=e.transformHeader(V,T)),M.push(V)};var b=I;if(h)if(Array.isArray(h.data[0])){for(var O=0;$()&&O<h.data.length;O++)h.data[O].forEach(I);h.data.splice(0,1)}else h.data.forEach(I)}function S(I,V){for(var T=e.header?{}:[],P=0;P<I.length;P++){var x=P,Q=I[P],Q=((E,F)=>(N=>(e.dynamicTypingFunction&&e.dynamicTyping[N]===void 0&&(e.dynamicTyping[N]=e.dynamicTypingFunction(N)),(e.dynamicTyping[N]||e.dynamicTyping)===!0))(E)?F==="true"||F==="TRUE"||F!=="false"&&F!=="FALSE"&&((N=>{if(ne.test(N)&&(N=parseFloat(N),L<N&&N<C))return 1})(F)?parseFloat(F):ie.test(F)?new Date(F):F===""?null:F):F)(x=e.header?P>=M.length?"__parsed_extra":M[P]:x,Q=e.transform?e.transform(Q,x):Q);x==="__parsed_extra"?(T[x]=T[x]||[],T[x].push(Q)):T[x]=Q}return e.header&&(P>M.length?oe("FieldMismatch","TooManyFields","Too many fields: expected "+M.length+" fields but parsed "+P,m+V):P<M.length&&oe("FieldMismatch","TooFewFields","Too few fields: expected "+M.length+" fields but parsed "+P,m+V)),T}var D;h&&(e.header||e.dynamicTyping||e.transform)&&(D=1,!h.data.length||Array.isArray(h.data[0])?(h.data=h.data.map(S),D=h.data.length):h.data=S(h.data,0),e.header&&h.meta&&(h.meta.fields=M),m+=D)}function $(){return e.header&&M.length===0}function oe(O,S,D,b){O={type:O,code:S,message:D},b!==void 0&&(O.row=b),h.errors.push(O)}k(e.step)&&(d=e.step,e.step=function(O){h=O,$()?A():(A(),h.data.length!==0&&(R+=O.data.length,e.preview&&R>e.preview?r.abort():(h.data=h.data[0],d(h,v))))}),this.parse=function(O,S,D){var b=e.quoteChar||'"',b=(e.newline||(e.newline=this.guessLineEndings(O,b)),p=!1,e.delimiter?k(e.delimiter)&&(e.delimiter=e.delimiter(O),h.meta.delimiter=e.delimiter):((b=((I,V,T,P,x)=>{var Q,E,F,N;x=x||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var Me=0;Me<x.length;Me++){for(var ae,Te=x[Me],G=0,se=0,z=0,ee=(F=void 0,new Je({comments:P,delimiter:Te,newline:V,preview:10}).parse(I)),he=0;he<ee.data.length;he++)T&&j(ee.data[he])?z++:(ae=ee.data[he].length,se+=ae,F===void 0?F=ae:0<ae&&(G+=Math.abs(ae-F),F=ae));0<ee.data.length&&(se/=ee.data.length-z),(E===void 0||G<=E)&&(N===void 0||N<se)&&1.99<se&&(E=G,Q=Te,N=se)}return{successful:!!(e.delimiter=Q),bestDelimiter:Q}})(O,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=b.bestDelimiter:(p=!0,e.delimiter=a.DefaultDelimiter),h.meta.delimiter=e.delimiter),Qe(e));return e.preview&&e.header&&b.preview++,t=O,r=new Je(b),h=r.parse(t,S,D),A(),J?{meta:{paused:!0}}:h||{meta:{paused:!1}}},this.paused=function(){return J},this.pause=function(){J=!0,r.abort(),t=k(e.chunk)?"":t.substring(r.getCharIndex())},this.resume=function(){v.streamer._halted?(J=!1,v.streamer.parseChunk(t,!0)):setTimeout(v.resume,3)},this.aborted=function(){return y},this.abort=function(){y=!0,r.abort(),h.meta.aborted=!0,k(e.complete)&&e.complete(h),t=""},this.guessLineEndings=function(I,b){I=I.substring(0,1048576);var b=new RegExp(Ie(b)+"([^]*?)"+Ie(b),"gm"),D=(I=I.replace(b,"")).split("\r"),b=I.split(`
`),I=1<b.length&&b[0].length<D[0].length;if(D.length===1||I)return`
`;for(var V=0,T=0;T<D.length;T++)D[T][0]===`
`&&V++;return V>=D.length/2?`\r
`:"\r"}}function Ie(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Je(e){var t=(e=e||{}).delimiter,r=e.newline,p=e.comments,d=e.step,C=e.preview,L=e.fastMode,ne=null,ie=!1,v=e.quoteChar==null?'"':e.quoteChar,R=v;if(e.escapeChar!==void 0&&(R=e.escapeChar),(typeof t!="string"||-1<a.BAD_DELIMITERS.indexOf(t))&&(t=","),p===t)throw new Error("Comment character same as delimiter");p===!0?p="#":(typeof p!="string"||-1<a.BAD_DELIMITERS.indexOf(p))&&(p=!1),r!==`
`&&r!=="\r"&&r!==`\r
`&&(r=`
`);var m=0,J=!1;this.parse=function(y,M,h){if(typeof y!="string")throw new Error("Input must be a string");var j=y.length,A=t.length,$=r.length,oe=p.length,O=k(d),S=[],D=[],b=[],I=m=0;if(!y)return G();if(L||L!==!1&&y.indexOf(v)===-1){for(var V=y.split(r),T=0;T<V.length;T++){if(b=V[T],m+=b.length,T!==V.length-1)m+=r.length;else if(h)return G();if(!p||b.substring(0,oe)!==p){if(O){if(S=[],N(b.split(t)),se(),J)return G()}else N(b.split(t));if(C&&C<=T)return S=S.slice(0,C),G(!0)}}return G()}for(var P=y.indexOf(t,m),x=y.indexOf(r,m),Q=new RegExp(Ie(R)+Ie(v),"g"),E=y.indexOf(v,m);;)if(y[m]===v)for(E=m,m++;;){if((E=y.indexOf(v,E+1))===-1)return h||D.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:S.length,index:m}),ae();if(E===j-1)return ae(y.substring(m,E).replace(Q,v));if(v===R&&y[E+1]===R)E++;else if(v===R||E===0||y[E-1]!==R){P!==-1&&P<E+1&&(P=y.indexOf(t,E+1));var F=Me((x=x!==-1&&x<E+1?y.indexOf(r,E+1):x)===-1?P:Math.min(P,x));if(y.substr(E+1+F,A)===t){b.push(y.substring(m,E).replace(Q,v)),y[m=E+1+F+A]!==v&&(E=y.indexOf(v,m)),P=y.indexOf(t,m),x=y.indexOf(r,m);break}if(F=Me(x),y.substring(E+1+F,E+1+F+$)===r){if(b.push(y.substring(m,E).replace(Q,v)),Te(E+1+F+$),P=y.indexOf(t,m),E=y.indexOf(v,m),O&&(se(),J))return G();if(C&&S.length>=C)return G(!0);break}D.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:S.length,index:m}),E++}}else if(p&&b.length===0&&y.substring(m,m+oe)===p){if(x===-1)return G();m=x+$,x=y.indexOf(r,m),P=y.indexOf(t,m)}else if(P!==-1&&(P<x||x===-1))b.push(y.substring(m,P)),m=P+A,P=y.indexOf(t,m);else{if(x===-1)break;if(b.push(y.substring(m,x)),Te(x+$),O&&(se(),J))return G();if(C&&S.length>=C)return G(!0)}return ae();function N(z){S.push(z),I=m}function Me(z){var ee=0;return ee=z!==-1&&(z=y.substring(E+1,z))&&z.trim()===""?z.length:ee}function ae(z){return h||(z===void 0&&(z=y.substring(m)),b.push(z),m=j,N(b),O&&se()),G()}function Te(z){m=z,N(b),b=[],x=y.indexOf(r,m)}function G(z){if(e.header&&!M&&S.length&&!ie){var ee=S[0],he=Object.create(null),Ge=new Set(ee);let at=!1;for(let Oe=0;Oe<ee.length;Oe++){let le=ee[Oe];if(he[le=k(e.transformHeader)?e.transformHeader(le,Oe):le]){let Fe,st=he[le];for(;Fe=le+"_"+st,st++,Ge.has(Fe););Ge.add(Fe),ee[Oe]=Fe,he[le]++,at=!0,(ne=ne===null?{}:ne)[Fe]=le}else he[le]=1,ee[Oe]=le;Ge.add(le)}at&&console.warn("Duplicate headers found and renamed."),ie=!0}return{data:S,errors:D,meta:{delimiter:t,linebreak:r,aborted:J,truncated:!!z,cursor:I+(M||0),renamedHeaders:ne}}}function se(){d(G()),S=[],D=[]}},this.abort=function(){J=!0},this.getCharIndex=function(){return m}}function Jt(e){var t=e.data,r=s[t.workerId],p=!1;if(t.error)r.userError(t.error,t.file);else if(t.results&&t.results.data){var d={abort:function(){p=!0,ot(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:rt,resume:rt};if(k(r.userStep)){for(var C=0;C<t.results.data.length&&(r.userStep({data:t.results.data[C],errors:t.results.errors,meta:t.results.meta},d),!p);C++);delete t.results}else k(r.userChunk)&&(r.userChunk(t.results,d,t.file),delete t.results)}t.finished&&!p&&ot(t.workerId,t.results)}function ot(e,t){var r=s[e];k(r.userComplete)&&r.userComplete(t),r.terminate(),delete s[e]}function rt(){throw new Error("Not implemented.")}function Qe(e){if(typeof e!="object"||e===null)return e;var t,r=Array.isArray(e)?[]:{};for(t in e)r[t]=Qe(e[t]);return r}function fe(e,t){return function(){e.apply(t,arguments)}}function k(e){return typeof e=="function"}return a.parse=function(e,t){var r=(t=t||{}).dynamicTyping||!1;if(k(r)&&(t.dynamicTypingFunction=r,r={}),t.dynamicTyping=r,t.transform=!!k(t.transform)&&t.transform,!t.worker||!a.WORKERS_SUPPORTED)return r=null,a.NODE_STREAM_INPUT,typeof e=="string"?(e=(p=>p.charCodeAt(0)!==65279?p:p.slice(1))(e),r=new(t.download?Z:we)(t)):e.readable===!0&&k(e.read)&&k(e.on)?r=new me(t):(f.File&&e instanceof File||e instanceof Object)&&(r=new K(t)),r.stream(e);(r=(()=>{var p;return!!a.WORKERS_SUPPORTED&&(p=(()=>{var d=f.URL||f.webkitURL||null,C=l.toString();return a.BLOB_URL||(a.BLOB_URL=d.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",C,")();"],{type:"text/javascript"})))})(),(p=new f.Worker(p)).onmessage=Jt,p.id=w++,s[p.id]=p)})()).userStep=t.step,r.userChunk=t.chunk,r.userComplete=t.complete,r.userError=t.error,t.step=k(t.step),t.chunk=k(t.chunk),t.complete=k(t.complete),t.error=k(t.error),delete t.worker,r.postMessage({input:e,config:t,workerId:r.id})},a.unparse=function(e,t){var r=!1,p=!0,d=",",C=`\r
`,L='"',ne=L+L,ie=!1,v=null,R=!1,m=((()=>{if(typeof t=="object"){if(typeof t.delimiter!="string"||a.BAD_DELIMITERS.filter(function(M){return t.delimiter.indexOf(M)!==-1}).length||(d=t.delimiter),typeof t.quotes!="boolean"&&typeof t.quotes!="function"&&!Array.isArray(t.quotes)||(r=t.quotes),typeof t.skipEmptyLines!="boolean"&&typeof t.skipEmptyLines!="string"||(ie=t.skipEmptyLines),typeof t.newline=="string"&&(C=t.newline),typeof t.quoteChar=="string"&&(L=t.quoteChar),typeof t.header=="boolean"&&(p=t.header),Array.isArray(t.columns)){if(t.columns.length===0)throw new Error("Option columns is empty");v=t.columns}t.escapeChar!==void 0&&(ne=t.escapeChar+L),t.escapeFormulae instanceof RegExp?R=t.escapeFormulae:typeof t.escapeFormulae=="boolean"&&t.escapeFormulae&&(R=/^[=+\-@\t\r].*$/)}})(),new RegExp(Ie(L),"g"));if(typeof e=="string"&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return J(null,e,ie);if(typeof e[0]=="object")return J(v||Object.keys(e[0]),e,ie)}else if(typeof e=="object")return typeof e.data=="string"&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||v),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:typeof e.data[0]=="object"?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||typeof e.data[0]=="object"||(e.data=[e.data])),J(e.fields||[],e.data||[],ie);throw new Error("Unable to serialize unrecognized input");function J(M,h,j){var A="",$=(typeof M=="string"&&(M=JSON.parse(M)),typeof h=="string"&&(h=JSON.parse(h)),Array.isArray(M)&&0<M.length),oe=!Array.isArray(h[0]);if($&&p){for(var O=0;O<M.length;O++)0<O&&(A+=d),A+=y(M[O],O);0<h.length&&(A+=C)}for(var S=0;S<h.length;S++){var D=($?M:h[S]).length,b=!1,I=$?Object.keys(h[S]).length===0:h[S].length===0;if(j&&!$&&(b=j==="greedy"?h[S].join("").trim()==="":h[S].length===1&&h[S][0].length===0),j==="greedy"&&$){for(var V=[],T=0;T<D;T++){var P=oe?M[T]:T;V.push(h[S][P])}b=V.join("").trim()===""}if(!b){for(var x=0;x<D;x++){0<x&&!I&&(A+=d);var Q=$&&oe?M[x]:x;A+=y(h[S][Q],x)}S<h.length-1&&(!j||0<D&&!I)&&(A+=C)}}return A}function y(M,h){var j,A;return M==null?"":M.constructor===Date?JSON.stringify(M).slice(1,25):(A=!1,R&&typeof M=="string"&&R.test(M)&&(M="'"+M,A=!0),j=M.toString().replace(m,ne),(A=A||r===!0||typeof r=="function"&&r(M,h)||Array.isArray(r)&&r[h]||(($,oe)=>{for(var O=0;O<oe.length;O++)if(-1<$.indexOf(oe[O]))return!0;return!1})(j,a.BAD_DELIMITERS)||-1<j.indexOf(d)||j.charAt(0)===" "||j.charAt(j.length-1)===" ")?L+j+L:j)}},a.RECORD_SEP="",a.UNIT_SEP="",a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!i&&!!f.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=Je,a.ParserHandle=it,a.NetworkStreamer=Z,a.FileStreamer=K,a.StringStreamer=we,a.ReadableStreamStreamer=me,f.jQuery&&((n=f.jQuery).fn.parse=function(e){var t=e.config||{},r=[];return this.each(function(C){if(!(n(this).prop("tagName").toUpperCase()==="INPUT"&&n(this).attr("type").toLowerCase()==="file"&&f.FileReader)||!this.files||this.files.length===0)return!0;for(var L=0;L<this.files.length;L++)r.push({file:this.files[L],inputElem:this,instanceConfig:n.extend({},t)})}),p(),this;function p(){if(r.length===0)k(e.complete)&&e.complete();else{var C,L,ne,ie,v=r[0];if(k(e.before)){var R=e.before(v.file,v.inputElem);if(typeof R=="object"){if(R.action==="abort")return C="AbortError",L=v.file,ne=v.inputElem,ie=R.reason,void(k(e.error)&&e.error({name:C},L,ne,ie));if(R.action==="skip")return void d();typeof R.config=="object"&&(v.instanceConfig=n.extend(v.instanceConfig,R.config))}else if(R==="skip")return void d()}var m=v.instanceConfig.complete;v.instanceConfig.complete=function(J){k(m)&&m(J,v.file,v.inputElem),d()},a.parse(v.file,v.instanceConfig)}}function d(){r.splice(0,1),p()}}),o&&(f.onmessage=function(e){e=e.data,a.WORKER_ID===void 0&&e&&(a.WORKER_ID=e.workerId),typeof e.input=="string"?f.postMessage({workerId:a.WORKER_ID,results:a.parse(e.input,e.config),finished:!0}):(f.File&&e.input instanceof File||e.input instanceof Object)&&(e=a.parse(e.input,e.config))&&f.postMessage({workerId:a.WORKER_ID,results:e,finished:!0})}),(Z.prototype=Object.create(q.prototype)).constructor=Z,(K.prototype=Object.create(q.prototype)).constructor=K,(we.prototype=Object.create(we.prototype)).constructor=we,(me.prototype=Object.create(q.prototype)).constructor=me,a})});var Nt=Gt(Ut());function Xt(l,f){l&1&&(c(0,"div",12),_(1," User ID is required "),u())}function Yt(l,f){l&1&&(c(0,"div",12),_(1," Password is required "),u())}var jt=(()=>{class l{constructor(n,i,o){this.fb=n,this.router=i,this.titlecasePipe=o}ngOnInit(){this.loginForm=this.fb.group({userId:["",Ve.required],password:["",[Ve.required,Ve.pattern("^[0-9]+$")]]})}onSubmit(){if(this.loginForm.invalid)return;let{userId:n,password:i}=this.loginForm.value,o=this.titlecasePipe.transform(n);o==="Madurai Pandiyas"&&i==="123456"?(localStorage.setItem("UserId",o),this.router.navigate(["/shipment"])):o==="Madurai Pandiyas Elite"&&i==="123456"?(localStorage.setItem("UserId",o),this.router.navigate(["/shipment"])):o==="Ram Madurai Pandiyas"&&i==="123456"?(localStorage.setItem("UserId",o),this.router.navigate(["/total-shipments"])):alert("Invalid User ID or Password")}static{this.\u0275fac=function(i){return new(i||l)(pe(Ft),pe(je),pe(Le))}}static{this.\u0275cmp=ce({type:l,selectors:[["app-log-in"]],standalone:!0,features:[pt([Le]),ue],decls:20,vars:4,consts:[[1,"parent-container"],["src","assets/Logo/MaduraiPandiyas.jpeg","alt",""],[1,"logIn-container"],[1,"mb-4","text-center"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","userId",1,"form-label"],["type","text","id","userId","formControlName","userId","placeholder","Enter your User ID",1,"form-control"],["class","text-danger",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","Enter your Password",1,"form-control"],["type","submit",1,"w-100",3,"disabled"],[1,"text-danger"]],template:function(i,o){if(i&1&&(B(0,"app-nav-bar"),c(1,"div",0)(2,"div"),B(3,"img",1),u(),c(4,"div",2)(5,"h3",3),_(6,"Login"),u(),c(7,"form",4),X("ngSubmit",function(){return o.onSubmit()}),c(8,"div",5)(9,"label",6),_(10,"User ID"),u(),B(11,"input",7),te(12,Xt,2,0,"div",8),u(),c(13,"div",5)(14,"label",9),_(15,"Password"),u(),B(16,"input",10),te(17,Yt,2,0,"div",8),u(),c(18,"button",11),_(19,"Sign In"),u()()()()),i&2){let s,w;g(7),W("formGroup",o.loginForm),g(5),W("ngIf",((s=o.loginForm.get("userId"))==null?null:s.invalid)&&((s=o.loginForm.get("userId"))==null?null:s.touched)),g(5),W("ngIf",((w=o.loginForm.get("password"))==null?null:w.invalid)&&((w=o.loginForm.get("password"))==null?null:w.touched)),g(),W("disabled",o.loginForm.invalid)}},dependencies:[qe,Et,Ee,Pe,St,kt,It,xe,ht,ke],styles:[".parent-container[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:row;justify-content:center;flex-wrap:nowrap;height:calc(100vh - 150px);overflow:auto;background:#d2d2d2;padding:2rem;border-radius:12px;box-shadow:0 4px 12px #0000004d}.parent-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-height:500px;image-rendering:auto;image-rendering:crisp-edges;image-rendering:high-quality;border-radius:10px}.parent-container[_ngcontent-%COMP%]   .logIn-container[_ngcontent-%COMP%]{min-width:500px;min-height:500px;display:flex;flex-direction:column;justify-content:center;padding:0 30px;background:#fff;border-radius:12px}button[_ngcontent-%COMP%]{background:#000;color:#fff;border:none;height:50px;border-radius:10px;margin-top:15px}@media (max-width: 576px){.parent-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.parent-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-height:400px;border-radius:15px}.parent-container[_ngcontent-%COMP%]   .logIn-container[_ngcontent-%COMP%]{min-height:400px;min-width:400px}app-nav-bar[_ngcontent-%COMP%]{display:none}}"]})}}return l})();function Zt(l,f){if(l&1&&(c(0,"tr")(1,"td"),_(2),u(),c(3,"td"),_(4),u(),c(5,"td"),_(6),u()()),l&2){let n=f.$implicit;g(2),re(n.ItemName),g(2),ve("$",n.Price,""),g(2),re(n.Availability)}}function en(l,f){if(l&1&&(c(0,"div",4)(1,"h2",5)(2,"button",6),_(3),u()(),c(4,"div",7)(5,"div",8)(6,"div",9)(7,"table",10)(8,"thead")(9,"tr")(10,"th",11),_(11,"Items"),u(),c(12,"th",11),_(13,"Price(cad)"),u(),c(14,"th",11),_(15,"Availability"),u()()(),c(16,"tbody"),te(17,Zt,7,3,"tr",12),u()()()()()()),l&2){let n=f.$implicit,i=f.index;g(),ge("id","flush-heading"+i),g(),ge("data-bs-target","#flush-collapse"+i)("aria-controls","flush-collapse"+i),g(),ve(" ",n.key," "),g(),ge("id","flush-collapse"+i),g(13),W("ngForOf",n.value)}}var Bt=(()=>{class l{constructor(n){this.http=n,this.menuItems=[],this.todayDate=0,this.groupedMenuItem={},this.originalOrder=(i,o)=>0,this.menuItemsURL="https://docs.google.com/spreadsheets/d/e/2PACX-1vTUlfPw6Rxh8AfTPDEeDjB18OADT3Shz2dZJtHQwcg1xE2ioYiYSN-t9t41eDB7XvXsV3vaKppw-7K-/pub?gid=0&single=true&output=csv"}ngOnInit(){this.getMenuItems(),this.todayDate=new Date().toLocaleDateString()}getMenuItems(){this.http.get(this.menuItemsURL,{responseType:"text"}).subscribe(i=>{let o=Nt.parse(i,{header:!0});this.menuItems=o.data,this.groupedMenuItem=this.menuItems.reduce((s,w)=>{let a=(w.Category?String(w.Category):"Uncategorized").trim();return s[a]||(s[a]=[]),s[a].push(w),s},{}),console.log(this.groupedMenuItem)});let n=(i,o)=>0}static{this.\u0275fac=function(i){return new(i||l)(pe(gt))}}static{this.\u0275cmp=ce({type:l,selectors:[["app-menu"]],standalone:!0,features:[ue],decls:6,vars:4,consts:[["src","assets/FoodItems/Food_Item1.png","alt",""],[1,"container-fluid"],["id","accordionFlushExample",1,"accordion","accordion-flush"],["class","accordion-item",4,"ngFor","ngForOf"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"accordion-button","collapsed"],["data-bs-parent","#accordionFlushExample",1,"accordion-collapse","collapse"],[1,"accordion-body"],[1,"menu-items"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(B(0,"app-nav-bar")(1,"img",0),c(2,"div",1)(3,"div",2),te(4,en,18,6,"div",3),Re(5,"keyvalue"),u()()),i&2&&(g(4),W("ngForOf",ut(5,1,o.groupedMenuItem,o.originalOrder)))},dependencies:[_t,Se,xe,mt,ke],styles:['@font-face{font-family:Montserrat;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/montserrat/v31/JTUHjIg1_i6t8kCHKm4532VJOt5-QNFgpCtr6Hw0aXpsog.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Montserrat;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/montserrat/v31/JTUHjIg1_i6t8kCHKm4532VJOt5-QNFgpCtr6Hw9aXpsog.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Montserrat;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/montserrat/v31/JTUHjIg1_i6t8kCHKm4532VJOt5-QNFgpCtr6Hw2aXpsog.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Montserrat;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/montserrat/v31/JTUHjIg1_i6t8kCHKm4532VJOt5-QNFgpCtr6Hw3aXpsog.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Montserrat;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/montserrat/v31/JTUHjIg1_i6t8kCHKm4532VJOt5-QNFgpCtr6Hw5aXo.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}img[_ngcontent-%COMP%]{width:100%;height:500px;overflow:hidden;object-fit:cover}h1[_ngcontent-%COMP%]{font-family:Montserrat;padding:20px 0}.container-fluid[_ngcontent-%COMP%]{width:70%;padding:50px 0}.container-fluid[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-family:Montserrat}.container-fluid[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-collapse[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px 0}.container-fluid[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-collapse[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]{font-family:Montserrat}.container-fluid[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-collapse[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(thead, tbody)[_ngcontent-%COMP%]{border-style:none!important}.container-fluid[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-collapse[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(thead, tbody)[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(tr, td)[_ngcontent-%COMP%]{border-style:none!important;text-align:center}.container-fluid[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-collapse[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(thead, tbody)[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(tr, td)[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-style:none!important;font-size:large;font-weight:bolder;font-family:Montserat}@media (max-width: 576px){.container-fluid[_ngcontent-%COMP%]{width:95%}}']})}}return l})();var Ke=(l,f)=>{let n=ct(je);return!localStorage.getItem("UserId")?(n.navigate(["/login"]),!1):!0};var $e=(()=>{class l{constructor(n){this.firestore=n}saveWeeklySchedule(n,i,o){let s=De(this.firestore,`stores/${n}/weeklySchedules/${i}`);return Ze(s,o,{merge:!0})}getWeeklySchedule(n,i){return de(this,null,function*(){let o=De(this.firestore,`stores/${n}/weeklySchedules/${i}`),s=yield Ye(o);return s.exists()?s.data():null})}saveTimeSheet(n,i,o,s,w,a){let q=De(this.firestore,`stores/${n}/timeSheets/${i}`);return Ze(q,{employees:o,hourlyRate:s,dateFrom:w,dateTo:a},{merge:!0})}getTimeSheet(n,i){return de(this,null,function*(){let o=De(this.firestore,`stores/${n}/timeSheets/${i}`),s=yield Ye(o);return s.exists()?s.data():null})}static{this.\u0275fac=function(i){return new(i||l)(dt(vt))}}static{this.\u0275prov=lt({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var tn=()=>["/shipment"];function nn(l,f){if(l&1&&(c(0,"th"),_(1),u()),l&2){let n=f.$implicit;g(),re(n)}}function on(l,f){if(l&1){let n=_e();c(0,"td")(1,"input",23),be("ngModelChange",function(o){let s=U(n).$implicit,w=Y().$implicit,a=Y();return Ce(a.schedule[w][s],o)||(a.schedule[w][s]=o),H(o)}),X("ngModelChange",function(){U(n);let o=Y().$implicit,s=Y();return H(s.updateTotalHours(o))}),u()()}if(l&2){let n=f.$implicit,i=Y().$implicit,o=Y();g(),ye("ngModel",o.schedule[i][n])}}function rn(l,f){if(l&1){let n=_e();c(0,"tr")(1,"td",20),_(2),c(3,"button",21),X("click",function(){let o=U(n).$implicit,s=Y();return H(s.deleteEmployee(o))}),B(4,"i",22),u()(),te(5,on,2,1,"td",10),c(6,"td"),_(7),u()()}if(l&2){let n=f.$implicit,i=Y();g(2),ve(" ",n," "),g(3),W("ngForOf",i.days),g(2),re(i.schedule[n].totalHours||0)}}var zt=(()=>{class l{constructor(n){this.scheduleService=n,this.days=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],this.employees=[],this.newEmployee="",this.TotalHours=0,this.TotalSalary=0,this.hourlyRate=15,this.storeId=null,this.schedule={}}ngOnInit(){return de(this,null,function*(){this.storeId=localStorage.getItem("UserId"),this.storeId&&(yield this.getWeeklySchedule(),this.initializeScheduleDefaults(),this.updateTotalHoursAllEmployees())})}addEmployee(){let n=this.newEmployee.trim();!n||this.employees.includes(n)||(this.employees.push(n),this.schedule[n]={totalHours:0},this.days.forEach(i=>this.schedule[n][i]=""),this.schedule[n].totalHours=0,this.saveScheduleToDB(),this.newEmployee="")}deleteEmployee(n){this.employees=this.employees.filter(i=>i!==n),delete this.schedule[n],this.updateTotalHoursAllEmployees(),this.saveScheduleToDB()}updateHourlyRate(n){let i=Number(n.value);isNaN(i)||i<=0||(this.hourlyRate=i,this.updateTotalHoursAllEmployees(),this.saveScheduleToDB(),n.value="")}resetSchedule(){this.employees.forEach(n=>{this.days.forEach(i=>this.schedule[n][i]=""),this.schedule[n].totalHours=0}),this.updateTotalHoursAllEmployees(),this.saveScheduleToDB()}saveSchedule(){this.updateTotalHoursAllEmployees(),this.saveScheduleToDB(!0)}calculateShiftHours(n){if(!n)return 0;let[i,o]=n.split("-").map(q=>q.trim());if(!i||!o)return 0;let s=q=>{let Z=q.match(/^(\d{1,2})(?::(\d{2}))?\s*(AM|PM)?$/i);if(!Z)return 0;let K=parseInt(Z[1],10),we=Z[2]?parseInt(Z[2],10):0,me=Z[3]?.toUpperCase();return me==="PM"&&K!==12&&(K+=12),me==="AM"&&K===12&&(K=0),me||(K<10||K>=17)&&(K+=12),K*60+we},w=s(i),a=s(o);return a<w&&(a+=24*60),(a-w)/60}updateTotalHours(n){let i=0;this.days.forEach(o=>{let s=this.schedule[n][o];i+=this.calculateShiftHours(s)}),this.schedule[n].totalHours=i,this.updateTotalHoursAllEmployees()}updateTotalHoursAllEmployees(){this.TotalHours=this.employees.reduce((n,i)=>n+(this.schedule[i]?.totalHours||0),0),this.TotalSalary=this.TotalHours*this.hourlyRate}saveScheduleToDB(n=!1){return de(this,null,function*(){if(!this.storeId)return;let i=this.getWeekId(),o={employees:this.employees,schedule:this.schedule,hourlyRate:this.hourlyRate,totalHours:this.TotalHours,totalSalary:this.TotalSalary,savedAt:new Date().toISOString(),weekId:i};try{yield this.scheduleService.saveWeeklySchedule(this.storeId,i,o),n&&alert("Schedule saved to database!")}catch(s){console.error("Error saving schedule:",s),n&&alert("Error saving schedule: "+(s.message||s))}})}getWeeklySchedule(){return de(this,null,function*(){if(!this.storeId)return;let n=this.getWeekId();try{let i=yield this.scheduleService.getWeeklySchedule(this.storeId,n);i&&(this.employees=i.employees||[],this.schedule=i.schedule||{},this.hourlyRate=i.hourlyRate||15)}catch(i){console.error("Error fetching weekly schedule:",i)}})}initializeScheduleDefaults(){this.employees.forEach(n=>{this.schedule[n]||(this.schedule[n]={totalHours:0}),this.days.forEach(i=>{this.schedule[n][i]||(this.schedule[n][i]="")}),this.schedule[n].totalHours||(this.schedule[n].totalHours=0)})}getWeekId(){let n=new Date,o=(n.getDay()+6)%7,s=new Date(n);return s.setDate(n.getDate()-o),s.toISOString().split("T")[0]}static{this.\u0275fac=function(i){return new(i||l)(pe($e))}}static{this.\u0275cmp=ce({type:l,selectors:[["app-employee-schedule"]],standalone:!0,features:[ue],decls:54,vars:15,consts:[["newRate",""],[1,"parent-container"],[1,"schedule-actions"],[1,"logOutBtn",3,"routerLink"],[1,"bi","bi-arrow-left-circle"],[1,"schedule-btn","reset-btn",3,"click"],[1,"schedule-btn","save-btn",3,"click"],[1,"table-responsive","schedule-table-container"],[1,"schedule-table"],[1,"emp-head"],[4,"ngFor","ngForOf"],[1,"fw-bold"],[1,"text-end"],[1,"inner-container"],[1,"employee-input-container"],[1,"mb-3","mt-5","d-flex","gap-5","justify-content-between","addemployee"],[1,"d-flex","justify-content-between","w-100","addemployee"],["id","empInput","type","text","placeholder","Enter Employee Name",1,"floating-input",3,"ngModelChange","ngModel"],[1,"add-btn",3,"click"],["type","text","placeholder","Update Hourly Rate",1,"floating-input"],[1,"employee-cell"],[1,"delete-btn",3,"click"],[1,"bi","bi-x-lg"],["type","text",1,"shift-input",3,"ngModelChange","ngModel"]],template:function(i,o){if(i&1){let s=_e();B(0,"app-nav-bar"),c(1,"div",1)(2,"h1"),_(3,"WEEKLY SCHEDULE"),u(),c(4,"div",2)(5,"div")(6,"button",3),B(7,"i",4),u()(),c(8,"div")(9,"button",5),X("click",function(){return U(s),H(o.resetSchedule())}),_(10,"Reset Schedule"),u(),c(11,"button",6),X("click",function(){return U(s),H(o.saveSchedule())}),_(12,"Save Schedule"),u()()(),c(13,"div",7)(14,"table",8)(15,"thead")(16,"tr")(17,"th",9),_(18,"Employee"),u(),te(19,nn,2,1,"th",10),c(20,"th"),_(21,"Total Hrs"),u()()(),c(22,"tbody"),te(23,rn,8,3,"tr",10),u(),c(24,"tfoot")(25,"tr",11)(26,"td",12),_(27,"Total Hours All Employees:"),u(),c(28,"td"),_(29),u()(),c(30,"tr",11)(31,"td",12),_(32,"Hourly Salary:"),u(),c(33,"td"),_(34),Re(35,"currency"),u()(),c(36,"tr",11)(37,"td",12),_(38,"Total Salary:"),u(),c(39,"td"),_(40),Re(41,"currency"),u()()()()(),c(42,"div",13)(43,"div",14)(44,"div",15)(45,"div",16)(46,"input",17),be("ngModelChange",function(a){return U(s),Ce(o.newEmployee,a)||(o.newEmployee=a),H(a)}),u(),c(47,"button",18),X("click",function(){return U(s),H(o.addEmployee())}),_(48,"Add Employee"),u()(),c(49,"div",16),B(50,"input",19,0),c(52,"button",18),X("click",function(){U(s);let a=Ue(51);return H(o.updateHourlyRate(a))}),_(53,"Update Rate"),u()()()()()()}i&2&&(g(6),W("routerLink",He(14,tn)),g(13),W("ngForOf",o.days),g(4),W("ngForOf",o.employees),g(3),ge("colspan",o.days.length+1),g(3),re(o.TotalHours),g(2),ge("colspan",o.days.length+1),g(3),re(Xe(35,10,o.hourlyRate)),g(3),ge("colspan",o.days.length+1),g(3),re(Xe(41,12,o.TotalSalary)),g(6),ye("ngModel",o.newEmployee))},dependencies:[Rt,Se,xe,ft,We,Ee,Pe,ze,ke,Be,Ne],styles:[".parent-container[_ngcontent-%COMP%]{margin:0 auto;padding:0 20px;font-family:Inter,sans-serif}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;margin-top:20px;font-weight:700}.schedule-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px;margin-bottom:15px}.schedule-btn[_ngcontent-%COMP%]{padding:8px 16px;font-size:14px;font-weight:600;border:none;border-radius:6px;cursor:pointer;transition:.2s}.reset-btn[_ngcontent-%COMP%]{background-color:#ffb300;color:#222}.reset-btn[_ngcontent-%COMP%]:hover{background-color:#ffa000}.save-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;margin-left:20px}.save-btn[_ngcontent-%COMP%]:hover{background-color:#218838}.logOutBtn[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;border:none;cursor:pointer;font-size:24px;transition:transform .2s,background-color .3s}.logOutBtn[_ngcontent-%COMP%]:hover{background-color:#e7e7e7;transform:scale(1.1)}.table-responsive.schedule-table-container[_ngcontent-%COMP%]{width:100%;overflow-x:auto;border-radius:8px;background:#fff;box-shadow:0 2px 6px #0000000d}.schedule-table[_ngcontent-%COMP%]{width:100%;min-width:800px;border-collapse:collapse;font-size:14px}.schedule-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .schedule-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #e0e0e0;text-align:center;vertical-align:middle;padding:6px 8px}.schedule-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#2b2d42;color:#fff;text-transform:uppercase;font-size:13px;position:sticky;top:0;z-index:20;min-width:125px}.schedule-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.emp-head[_ngcontent-%COMP%]{left:0;z-index:25}.employee-cell[_ngcontent-%COMP%]{position:sticky;left:0;z-index:10;background:#f8f9fa;min-width:120px;display:flex;justify-content:space-between;align-items:center;padding:0 8px;font-weight:600;min-height:45px;box-shadow:2px 0 5px -2px #0003}.delete-btn[_ngcontent-%COMP%]{background:#c00;border:none;color:#fff;font-size:12px;width:22px;height:22px;cursor:pointer;display:flex;justify-content:center;align-items:center;border-radius:4px;transition:.2s}.delete-btn[_ngcontent-%COMP%]:hover{background:#ff4d4d;transform:scale(1.1)}.schedule-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:none;text-align:center;transition:.2s;height:30px}.schedule-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#4a69ff;outline:none;box-shadow:0 0 3px #4a69ff80}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background:#f9f9f9}.schedule-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:600;background:#f1f1f1;text-align:right;padding:6px 10px;font-size:14px}.schedule-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   td.text-end[_ngcontent-%COMP%]{text-align:right;font-weight:600}.inner-container[_ngcontent-%COMP%]{display:flex;gap:20px;margin-top:20px;flex-wrap:wrap}.employee-input-container[_ngcontent-%COMP%], .shift-input-container[_ngcontent-%COMP%]{flex:1;min-width:220px}.floating-form[_ngcontent-%COMP%]{position:relative;display:flex;gap:10px;align-items:center}.floating-input[_ngcontent-%COMP%]{padding:10px;border:1.5px solid #ccc;border-radius:6px;outline:none;font-size:14px;width:70%}.floating-label[_ngcontent-%COMP%]{position:absolute;left:10px;top:10px;background:#fff;padding:0 5px;color:#777;font-size:13px;pointer-events:none;transition:.2s}.floating-input[_ngcontent-%COMP%]:focus + .floating-label[_ngcontent-%COMP%], .floating-input[_ngcontent-%COMP%]:not(:placeholder-shown) + .floating-label[_ngcontent-%COMP%]{top:-8px;left:8px;font-size:11px;color:#4a69ff;font-weight:500}.add-btn[_ngcontent-%COMP%]{padding:8px 12px;font-size:13px;border-radius:5px;border:none;cursor:pointer;background:#fff;color:#000;border:1px solid black;margin-left:15px}.add-btn[_ngcontent-%COMP%]:hover{background:#000;color:#fff;transition:background-color 2s ease}h5[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:10px}.d-flex.gap-2.mb-4[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background-color:#4a69ff;color:#fff;padding:6px 10px;font-size:12px;border-radius:6px;display:flex;align-items:center;gap:4px}@media (max-width: 768px){.inner-container[_ngcontent-%COMP%]{flex-direction:column}.logOutBtn[_ngcontent-%COMP%]{display:none}.employee-input-container[_ngcontent-%COMP%], .shift-input-container[_ngcontent-%COMP%], .floating-input[_ngcontent-%COMP%]{width:100%}.add-btn[_ngcontent-%COMP%]{margin-left:0;margin-top:5px}.schedule-table[_ngcontent-%COMP%]{font-size:12px;min-width:600px}.employee-cell[_ngcontent-%COMP%], .schedule-table[_ngcontent-%COMP%]   th.emp-head[_ngcontent-%COMP%]{min-width:100px}.save-btn[_ngcontent-%COMP%]{margin-left:0;margin-top:20px;min-height:50px}.reset-btn[_ngcontent-%COMP%]{min-height:50px}}@media (max-width: 576px){.schedule-actions[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.logOutBtn[_ngcontent-%COMP%]{display:none}.save-btn[_ngcontent-%COMP%]{margin-left:0}.schedule-btn[_ngcontent-%COMP%]{width:100%}.addemployee[_ngcontent-%COMP%]{flex-direction:column;gap:10px 0px}.save-btn[_ngcontent-%COMP%]{margin-left:0;margin-top:20px;min-height:50px}.reset-btn[_ngcontent-%COMP%], .add-btn[_ngcontent-%COMP%]{min-height:50px}}"]})}}return l})();var an=()=>["/shipment"];function sn(l,f){if(l&1&&(c(0,"th"),_(1),u()),l&2){let n=f.$implicit;g(),re(n)}}function ln(l,f){if(l&1){let n=_e();c(0,"td")(1,"input",22),be("ngModelChange",function(o){let s=U(n).index,w=Y().$implicit;return Ce(w.dailyHours[s],o)||(w.dailyHours[s]=o),H(o)}),X("input",function(){U(n);let o=Y(2);return H(o.updateShift())}),u()()}if(l&2){let n=f.index,i=Y().$implicit;g(),ye("ngModel",i.dailyHours[n])}}function dn(l,f){if(l&1){let n=_e();c(0,"tr")(1,"td",12)(2,"div",17),_(3),c(4,"button",18),X("click",function(){let o=U(n).index,s=Y();return H(s.deleteEmployee(o))}),B(5,"i",19),u(),c(6,"button",20),X("click",function(){let o=U(n).$implicit,s=Y();return H(s.downloadEmployeePDF(o))}),B(7,"i",21),u()()(),te(8,ln,2,1,"td",13),c(9,"td"),_(10),u()()}if(l&2){let n=f.$implicit,i=Y();g(3),ve(" ",n.name," "),g(5),W("ngForOf",i.days),g(2),re(i.getEmployeeTotal(n))}}var Wt=(()=>{class l{constructor(n){this.scheduleService=n,this.storeId=null,this.employees=[],this.days=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],this.newEmployeeName="",this.hourlyRate=15,this.totalAllHours=0,this.totalAllPay=0,this.dateFrom="",this.dateTo=""}ngOnInit(){this.storeId=localStorage.getItem("UserId"),this.storeId&&(this.getThisWeekRange(),this.loadEmployees(),this.calculateAllTotals())}getWeekId(){return this.dateFrom}saveEmployees(){return de(this,null,function*(){if(!this.storeId)return;let n=this.getWeekId();yield this.scheduleService.saveTimeSheet(this.storeId,n,this.employees,this.hourlyRate,this.dateFrom,this.dateTo)})}loadEmployees(){return de(this,null,function*(){if(!this.storeId)return;let n=this.getWeekId(),i=yield this.scheduleService.getTimeSheet(this.storeId,n);i&&(this.employees=i.employees||[],this.hourlyRate=i.hourlyRate||15,this.dateFrom=i.dateFrom||this.dateFrom,this.dateTo=i.dateTo||this.dateTo)})}addEmployee(){let n=this.newEmployeeName.trim();n&&(this.employees.push({name:n,dailyHours:[0,0,0,0,0,0,0]}),this.newEmployeeName="",this.saveEmployees(),this.calculateAllTotals())}updateShift(){this.calculateAllTotals(),this.saveEmployees()}deleteEmployee(n){this.employees.splice(n,1),this.saveEmployees(),this.calculateAllTotals()}resetAll(){this.employees.forEach(n=>n.dailyHours=[0,0,0,0,0,0,0]),this.saveEmployees(),this.calculateAllTotals()}calculateAllTotals(){return this.totalAllHours=this.employees.reduce((n,i)=>n+i.dailyHours.reduce((o,s)=>o+s,0),0),this.totalAllPay=this.totalAllHours*this.hourlyRate,this.totalAllHours}getEmployeeTotal(n){return n.dailyHours.reduce((i,o)=>i+o,0)}updateHourlyRate(n){let i=Number(n.value);isNaN(i)||i<=0||(this.hourlyRate=i,this.saveEmployees(),n.value="")}getThisWeekRange(){let n=new Date,i=n.getDay()||7,o=new Date(n);o.setDate(n.getDate()-i+1),o.setHours(0,0,0,0);let s=new Date(o);s.setDate(o.getDate()+6),s.setHours(23,59,59,999),this.dateFrom=o.toISOString().slice(0,10),this.dateTo=s.toISOString().slice(0,10)}downloadEmployeePDF(n){let i=new Dt,o=15,s=new Image;s.src="assets/Logo/MaduraiPandiyas.jpeg",s.onload=()=>{i.addImage(s,"JPEG",155,10,40,30),i.setFontSize(16),i.text("Weekly Time Sheet",14,o),o+=10,i.setFontSize(12),i.text(`Employee: ${n.name}`,14,o),o+=6,i.text(`Hourly Rate: CAD${this.hourlyRate}`,14,o),o+=6,i.text(`Week: ${this.dateFrom} to ${this.dateTo}`,14,o),o+=10;let w=n.dailyHours.map((Z,K)=>[this.days[K],Z]),a=n.dailyHours.reduce((Z,K)=>Z+K,0),q=a*this.hourlyRate;w.push(["Total Hours",a]),w.push(["Total Pay",q.toFixed(2)]),At(i,{head:[["Day","Hours"]],body:w,startY:o,margin:{left:14,right:14},styles:{fontSize:10,halign:"center",cellPadding:6},theme:"grid",headStyles:{fillColor:[22,160,133]}}),o=i.lastAutoTable.finalY+10,i.setFontSize(10),i.text("Generated by Madurai Pandiyas",14,290),i.save(`${n.name}-Weekly-TimeSheet.pdf`)},s.onerror=()=>{console.error("Logo not found! Make sure the path is correct.")}}static{this.\u0275fac=function(i){return new(i||l)(pe($e))}}static{this.\u0275cmp=ce({type:l,selectors:[["app-time-sheet"]],standalone:!0,features:[ue],decls:33,vars:7,consts:[["newRate",""],[1,"container","mt-4"],[1,"d-flex","justify-content-between"],[1,"logOutBtn",3,"routerLink"],[1,"bi","bi-arrow-left-circle"],[1,"d-flex","date-range-container","align-items-center"],["type","date",1,"form-control","me-2",3,"ngModelChange","ngModel"],[1,"mx-2","fw-bold"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],[1,"reset-btn",3,"click"],[1,"table-responsive"],[1,"table","table-bordered","table-striped"],[1,"sticky-col"],[4,"ngFor","ngForOf"],[1,"mb-3","mt-5","d-flex","justify-content-between"],["type","text","placeholder","Enter Employee Name",1,"add-employee",3,"ngModelChange","ngModel"],["type","text","placeholder","Update Hourly Rate",1,"add-employee"],[1,"employee-cell"],[1,"btn","btn-sm","btn-danger","ms-2",3,"click"],[1,"bi","bi-x-lg"],[1,"btn","btn-sm","btn-primary","ms-2",3,"click"],[1,"bi","bi-download"],["type","number","min","0",1,"form-control",3,"ngModelChange","input","ngModel"]],template:function(i,o){if(i&1){let s=_e();c(0,"div",1)(1,"h2"),_(2,"Employee Time Sheet"),u(),c(3,"div",2)(4,"div")(5,"button",3),B(6,"i",4),u()(),c(7,"div",5)(8,"input",6),be("ngModelChange",function(a){return U(s),Ce(o.dateFrom,a)||(o.dateFrom=a),H(a)}),u(),c(9,"span",7),_(10,"TO"),u(),c(11,"input",8),be("ngModelChange",function(a){return U(s),Ce(o.dateTo,a)||(o.dateTo=a),H(a)}),u()(),c(12,"button",9),X("click",function(){return U(s),H(o.resetAll())}),_(13,"Reset All"),u()(),c(14,"div",10)(15,"table",11)(16,"thead")(17,"tr")(18,"th",12),_(19,"Employee"),u(),te(20,sn,2,1,"th",13),c(21,"th"),_(22,"Total Hours"),u()()(),c(23,"tbody"),te(24,dn,11,3,"tr",13),u()()(),c(25,"div",14)(26,"input",15),be("ngModelChange",function(a){return U(s),Ce(o.newEmployeeName,a)||(o.newEmployeeName=a),H(a)}),u(),c(27,"button",9),X("click",function(){return U(s),H(o.addEmployee())}),_(28,"Add Employee"),u(),B(29,"input",16,0),c(31,"button",9),X("click",function(){U(s);let a=Ue(30);return H(o.updateHourlyRate(a))}),_(32,"Update Rate"),u()()()}i&2&&(g(5),W("routerLink",He(6,an)),g(3),ye("ngModel",o.dateFrom),g(3),ye("ngModel",o.dateTo),g(9),W("ngForOf",o.days),g(4),W("ngForOf",o.employees),g(2),ye("ngModel",o.newEmployeeName))},dependencies:[We,Ee,Pt,Pe,Tt,ze,qe,xe,Se,Be,Ne],styles:[".table-responsive[_ngcontent-%COMP%]{overflow-x:auto;margin-top:40px}h2[_ngcontent-%COMP%]{width:100%;text-align:center;padding:25px 0}.sticky-col[_ngcontent-%COMP%]{position:sticky;left:0;background:#fff;z-index:5;min-width:200px;box-shadow:2px 0 5px -2px #0003}.employee-cell[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.3rem .5rem}.logOutBtn[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;border:none;cursor:pointer;font-size:24px;transition:transform .2s,background-color .3s}.logOutBtn[_ngcontent-%COMP%]:hover{background-color:#e7e7e7;transform:scale(1.1)}.reset-btn[_ngcontent-%COMP%]{width:15%;min-height:50px;background:#fff;border-radius:5px;font-family:Montserrat,sans-serif;margin-top:0}.reset-btn[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff;transform:translateY(-2px);box-shadow:0 6px 12px #00000026}.add-employee[_ngcontent-%COMP%]{min-width:30%;height:50px;border-top:0px;border-right:0px;border-left:0px}@media (max-width: 768px){table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.4rem .6rem;font-size:.85rem}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80px;max-width:100%}button.btn-sm[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.75rem}}@media (max-width: 1024px){table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90px}}"]})}}return l})();var qt=[{path:"",component:jt},{path:"shipment",canActivate:[Ke],loadComponent:()=>import("./chunk-YVDXO6TS.js").then(l=>l.ShipmentsComponent)},{path:"dispatch-details",canActivate:[Ke],loadComponent:()=>import("./chunk-BPEJU6N3.js").then(l=>l.RequestComponent)},{path:"total-shipments",canActivate:[Ke],loadComponent:()=>import("./chunk-PVJKGSBB.js").then(l=>l.TotalShipmentsComponent)},{path:"menu",component:Bt},{path:"employeeSchedule",component:zt},{path:"timeSheet",component:Wt}];var Kt={providers:[bt(qt),xt(()=>wt({apiKey:"AIzaSyAViDR1Ng61PZF4hNl_BwCRx4QG2fAktwo",authDomain:"maduraipandiyasshipmentpoc.firebaseapp.com",projectId:"maduraipandiyasshipmentpoc",storageBucket:"maduraipandiyasshipmentpoc.firebasestorage.app",messagingSenderId:"134451260435",appId:"1:134451260435:web:1ef72d0b9c4983fb4c23e6",measurementId:"G-YJ66XK83P8"})),Mt(()=>Ot())]};var $t=(()=>{class l{constructor(){this.title="MaduraiPandiyas"}static{this.\u0275fac=function(i){return new(i||l)}}static{this.\u0275cmp=ce({type:l,selectors:[["app-root"]],standalone:!0,features:[ue],decls:1,vars:0,template:function(i,o){i&1&&B(0,"router-outlet")},dependencies:[Ct]})}}return l})();yt($t,Kt).catch(l=>console.error(l));
