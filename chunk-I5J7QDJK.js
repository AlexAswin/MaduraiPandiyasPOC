import{g as p,j as y,la as I,na as l,oa as R,pa as i,qa as f,ra as a,sa as m,ua as h,va as g,wa as u}from"./chunk-4UYCYSSX.js";import{e as n}from"./chunk-5FZOKLP6.js";var F=(()=>{class s{constructor(e){this.firestore=e}submitShipment(e,t){return n(this,null,function*(){try{let r=i(this.firestore,t);return(yield R(r,e)).id}catch(r){throw console.error("Error adding shipment:",r),r}})}getAllShipmentDetails(e){let t=e==="Madurai Pandiyas"?"Madurai Pandiyas":"Madurai Pandiyas Elite",r=i(this.firestore,t);return l(r,{idField:"id"})}getAllItemsDetails(e){let t=i(this.firestore,e);return l(t,{idField:"id"})}deleteShipmentById(e,t){let r=a(this.firestore,e,t);return f(r)}updateItemPrice(e,t){let r=i(this.firestore,"Items"),c=h(r,u("itemName","==",e));m(c).then(o=>{o.empty||o.forEach(d=>n(this,null,function*(){let w=a(this.firestore,"Items",d.id);yield g(w,{unitPrice:t})}))}).catch(o=>{console.error("Error updating item price:",o)})}deleteItem(e){return n(this,null,function*(){try{let t=i(this.firestore,"Items"),r=h(t,u("itemName","==",e)),c=yield m(r);c.empty?console.log("No item found with that name."):c.forEach(o=>n(this,null,function*(){let d=a(this.firestore,"Items",o.id);yield f(d),console.log(`Deleted item: ${e}`)}))}catch(t){console.error("Error deleting item:",t)}})}static{this.\u0275fac=function(t){return new(t||s)(y(I))}}static{this.\u0275prov=p({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();export{F as a};
