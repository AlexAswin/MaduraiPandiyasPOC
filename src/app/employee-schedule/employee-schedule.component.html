<app-nav-bar></app-nav-bar>


<div class="container mt-3">

  <h1>WEEKLY SCHEDULE</h1>

  <table class="table table-bordered text-center">
    <thead class="table-dark">
      <tr>
        <th>Employee</th>
        <th *ngFor="let day of days">{{day}}</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let emp of employees">
        <!-- <td class="fw-bold">{{emp}}</td> -->
        <td class="fw-bold d-flex justify-content-between align-items-center px-2">
          {{emp}}
          <button class="delete-btn" (click)="deleteEmployee(emp)">âœ•</button>
        </td>
        <td *ngFor="let day of days">
          <div cdkDropList [id]="day + emp" [cdkDropListData]="schedule[emp][day]"
            [cdkDropListConnectedTo]="allDropListIds" class="dropBox p-1"
            style="min-height:50px; border:1px dashed #aaa; border-radius:4px" (cdkDropListDropped)="drop($event)">
            <div *ngFor="let shift of schedule[emp][day]" cdkDrag class="shift-box badge bg-success m-1">
              {{shift}}
            </div>
          </div>
        </td>
      </tr>
    </tbody>
  </table>

  <h5>Available Shifts</h5>
  <div class="d-flex gap-2 mb-4" cdkDropList id="shiftList" [cdkDropListData]="shifts"
    [cdkDropListConnectedTo]="connectedDropLists" (cdkDropListDropped)="drop($event)">
    <div *ngFor="let s of shifts" cdkDrag class="badge p-2">{{s}}</div>
  </div>

  <div class="inner-container">
    <div class="employee-input-container">
      <div class="floating-form">

        <input id="empInput" type="text" class="floating-input" placeholder=" " [(ngModel)]="newEmployee" />

        <label class="floating-label" for="empInput">Enter Employee Name</label>

        <button class="add-btn" (click)="addEmployee()">Add</button>

      </div>
    </div>

    <div class="shift-input-container">
      <div class="floating-form">

        <input id="shiftInput" type="text" class="floating-input" placeholder=" " [(ngModel)]="newShift" />

        <label class="floating-label" for="shiftInput">Enter Shift Timing</label>

        <button class="add-btn" (click)="addShift()">Add Shift</button>

      </div>
    </div>
  </div>
</div>