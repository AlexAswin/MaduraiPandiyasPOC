import{a as Me}from"./chunk-FVED4J6A.js";import{e as Ut,f as Ht,g as Lt}from"./chunk-32KT7XXV.js";import"./chunk-FK6H3RFT.js";import{a as Pe,b as Be,c as ke,d as St,f as ze,g as Et,h as Pt,j as kt,k as Tt,l as It,m as Ft,n as Rt,o as Dt,p as At,q as We,r as qe}from"./chunk-UCXFX3FP.js";import{$ as V,$a as De,B as ce,Ba as Ee,Ca as ht,Da as Le,Fa as mt,G as A,Ga as ft,H as U,Ha as we,Ja as gt,Ka as _t,La as yt,Ma as Ct,Na as Ve,O as m,Oa as je,P as pe,Pa as bt,Qa as Ne,Ra as xt,Sa as wt,Ta as Mt,Ua as vt,V as Y,W as Ce,X as H,Z as d,_ as c,aa as be,ab as Ye,ba as X,ca as Z,cb as Ot,da as Ue,ea as f,eb as Ze,fa as re,ga as xe,ja as me,ka as fe,la as ge,ma as pt,na as ue,oa as He,qa as Re,ra as Xe,sa as ut,v as lt,y as dt,z as ct}from"./chunk-I7XMEI44.js";import{c as Yt,d as Zt,e as de}from"./chunk-5FZOKLP6.js";var Vt=Yt((et,tt)=>{"use strict";((l,g)=>{typeof define=="function"&&define.amd?define([],g):typeof tt=="object"&&typeof et<"u"?tt.exports=g():l.Papa=g()})(et,function l(){var g=typeof self<"u"?self:typeof window<"u"?window:g!==void 0?g:{},n,i=!g.document&&!!g.postMessage,o=g.IS_PAPA_WORKER||!1,s={},C=0,a={};function q(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var r=Qe(t);r.chunkSize=parseInt(r.chunkSize),t.step||t.chunk||(r.chunkSize=null),this._handle=new it(r),(this._handle.streamer=this)._config=r}.call(this,e),this.parseChunk=function(t,r){var u=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<u){let b=this._config.newline;b||(p=this._config.quoteChar||'"',b=this._handle.guessLineEndings(t,p)),t=[...t.split(b).slice(u)].join(b)}this.isFirstChunk&&k(this._config.beforeFirstChunk)&&(p=this._config.beforeFirstChunk(t))!==void 0&&(t=p),this.isFirstChunk=!1,this._halted=!1;var u=this._partialLine+t,p=(this._partialLine="",this._handle.parse(u,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(t=p.meta.cursor,u=(this._finished||(this._partialLine=u.substring(t-this._baseIndex),this._baseIndex=t),p&&p.data&&(this._rowCount+=p.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)g.postMessage({results:p,workerId:a.WORKER_ID,finished:u});else if(k(this._config.chunk)&&!r){if(this._config.chunk(p,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=p=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(p.data),this._completeResults.errors=this._completeResults.errors.concat(p.errors),this._completeResults.meta=p.meta),this._completed||!u||!k(this._config.complete)||p&&p.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),u||p&&p.meta.paused||this._nextChunk(),p}this._halted=!0},this._sendError=function(t){k(this._config.error)?this._config.error(t):o&&this._config.error&&g.postMessage({workerId:a.WORKER_ID,error:t,finished:!1})}}function ee(e){var t;(e=e||{}).chunkSize||(e.chunkSize=a.RemoteChunkSize),q.call(this,e),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(r){this._input=r,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),i||(t.onload=ye(this._chunkLoaded,this),t.onerror=ye(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var r,u=this._config.downloadRequestHeaders;for(r in u)t.setRequestHeader(r,u[r])}var p;this._config.chunkSize&&(p=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+p));try{t.send(this._config.downloadRequestBody)}catch(b){this._chunkError(b.message)}i&&t.status===0&&this._chunkError()}},this._chunkLoaded=function(){t.readyState===4&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(r=>(r=r.getResponseHeader("Content-Range"))!==null?parseInt(r.substring(r.lastIndexOf("/")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(r){r=t.statusText||r,this._sendError(new Error(r))}}function K(e){(e=e||{}).chunkSize||(e.chunkSize=a.LocalChunkSize),q.call(this,e);var t,r,u=typeof FileReader<"u";this.stream=function(p){this._input=p,r=p.slice||p.webkitSlice||p.mozSlice,u?((t=new FileReader).onload=ye(this._chunkLoaded,this),t.onerror=ye(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var p=this._input,b=(this._config.chunkSize&&(b=Math.min(this._start+this._config.chunkSize,this._input.size),p=r.call(p,this._start,b)),t.readAsText(p,this._config.encoding));u||this._chunkLoaded({target:{result:b}})},this._chunkLoaded=function(p){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(p.target.result)},this._chunkError=function(){this._sendError(t.error)}}function ve(e){var t;q.call(this,e=e||{}),this.stream=function(r){return t=r,this._nextChunk()},this._nextChunk=function(){var r,u;if(!this._finished)return r=this._config.chunkSize,t=r?(u=t.substring(0,r),t.substring(r)):(u=t,""),this._finished=!t,this.parseChunk(u)}}function _e(e){q.call(this,e=e||{});var t=[],r=!0,u=!1;this.pause=function(){q.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){q.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(p){this._input=p,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){u&&t.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):r=!0},this._streamData=ye(function(p){try{t.push(typeof p=="string"?p:p.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(b){this._streamError(b)}},this),this._streamError=ye(function(p){this._streamCleanUp(),this._sendError(p)},this),this._streamEnd=ye(function(){this._streamCleanUp(),u=!0,this._streamData("")},this),this._streamCleanUp=ye(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function it(e){var t,r,u,p,b=Math.pow(2,53),j=-b,ne=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ie=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,M=this,R=0,_=0,J=!1,y=!1,v=[],h={data:[],errors:[],meta:{}};function N(O){return e.skipEmptyLines==="greedy"?O.join("").trim()==="":O.length===1&&O[0].length===0}function L(){if(h&&u&&(oe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),u=!1),e.skipEmptyLines&&(h.data=h.data.filter(function(T){return!N(T)})),$()){let T=function(z,I){k(e.transformHeader)&&(z=e.transformHeader(z,I)),v.push(z)};var x=T;if(h)if(Array.isArray(h.data[0])){for(var O=0;$()&&O<h.data.length;O++)h.data[O].forEach(T);h.data.splice(0,1)}else h.data.forEach(T)}function S(T,z){for(var I=e.header?{}:[],P=0;P<T.length;P++){var w=P,Q=T[P],Q=((E,F)=>(B=>(e.dynamicTypingFunction&&e.dynamicTyping[B]===void 0&&(e.dynamicTyping[B]=e.dynamicTypingFunction(B)),(e.dynamicTyping[B]||e.dynamicTyping)===!0))(E)?F==="true"||F==="TRUE"||F!=="false"&&F!=="FALSE"&&((B=>{if(ne.test(B)&&(B=parseFloat(B),j<B&&B<b))return 1})(F)?parseFloat(F):ie.test(F)?new Date(F):F===""?null:F):F)(w=e.header?P>=v.length?"__parsed_extra":v[P]:w,Q=e.transform?e.transform(Q,w):Q);w==="__parsed_extra"?(I[w]=I[w]||[],I[w].push(Q)):I[w]=Q}return e.header&&(P>v.length?oe("FieldMismatch","TooManyFields","Too many fields: expected "+v.length+" fields but parsed "+P,_+z):P<v.length&&oe("FieldMismatch","TooFewFields","Too few fields: expected "+v.length+" fields but parsed "+P,_+z)),I}var D;h&&(e.header||e.dynamicTyping||e.transform)&&(D=1,!h.data.length||Array.isArray(h.data[0])?(h.data=h.data.map(S),D=h.data.length):h.data=S(h.data,0),e.header&&h.meta&&(h.meta.fields=v),_+=D)}function $(){return e.header&&v.length===0}function oe(O,S,D,x){O={type:O,code:S,message:D},x!==void 0&&(O.row=x),h.errors.push(O)}k(e.step)&&(p=e.step,e.step=function(O){h=O,$()?L():(L(),h.data.length!==0&&(R+=O.data.length,e.preview&&R>e.preview?r.abort():(h.data=h.data[0],p(h,M))))}),this.parse=function(O,S,D){var x=e.quoteChar||'"',x=(e.newline||(e.newline=this.guessLineEndings(O,x)),u=!1,e.delimiter?k(e.delimiter)&&(e.delimiter=e.delimiter(O),h.meta.delimiter=e.delimiter):((x=((T,z,I,P,w)=>{var Q,E,F,B;w=w||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var Oe=0;Oe<w.length;Oe++){for(var ae,Ie=w[Oe],G=0,se=0,W=0,te=(F=void 0,new Je({comments:P,delimiter:Ie,newline:z,preview:10}).parse(T)),he=0;he<te.data.length;he++)I&&N(te.data[he])?W++:(ae=te.data[he].length,se+=ae,F===void 0?F=ae:0<ae&&(G+=Math.abs(ae-F),F=ae));0<te.data.length&&(se/=te.data.length-W),(E===void 0||G<=E)&&(B===void 0||B<se)&&1.99<se&&(E=G,Q=Ie,B=se)}return{successful:!!(e.delimiter=Q),bestDelimiter:Q}})(O,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=x.bestDelimiter:(u=!0,e.delimiter=a.DefaultDelimiter),h.meta.delimiter=e.delimiter),Qe(e));return e.preview&&e.header&&x.preview++,t=O,r=new Je(x),h=r.parse(t,S,D),L(),J?{meta:{paused:!0}}:h||{meta:{paused:!1}}},this.paused=function(){return J},this.pause=function(){J=!0,r.abort(),t=k(e.chunk)?"":t.substring(r.getCharIndex())},this.resume=function(){M.streamer._halted?(J=!1,M.streamer.parseChunk(t,!0)):setTimeout(M.resume,3)},this.aborted=function(){return y},this.abort=function(){y=!0,r.abort(),h.meta.aborted=!0,k(e.complete)&&e.complete(h),t=""},this.guessLineEndings=function(T,x){T=T.substring(0,1048576);var x=new RegExp(Te(x)+"([^]*?)"+Te(x),"gm"),D=(T=T.replace(x,"")).split("\r"),x=T.split(`
`),T=1<x.length&&x[0].length<D[0].length;if(D.length===1||T)return`
`;for(var z=0,I=0;I<D.length;I++)D[I][0]===`
`&&z++;return z>=D.length/2?`\r
`:"\r"}}function Te(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Je(e){var t=(e=e||{}).delimiter,r=e.newline,u=e.comments,p=e.step,b=e.preview,j=e.fastMode,ne=null,ie=!1,M=e.quoteChar==null?'"':e.quoteChar,R=M;if(e.escapeChar!==void 0&&(R=e.escapeChar),(typeof t!="string"||-1<a.BAD_DELIMITERS.indexOf(t))&&(t=","),u===t)throw new Error("Comment character same as delimiter");u===!0?u="#":(typeof u!="string"||-1<a.BAD_DELIMITERS.indexOf(u))&&(u=!1),r!==`
`&&r!=="\r"&&r!==`\r
`&&(r=`
`);var _=0,J=!1;this.parse=function(y,v,h){if(typeof y!="string")throw new Error("Input must be a string");var N=y.length,L=t.length,$=r.length,oe=u.length,O=k(p),S=[],D=[],x=[],T=_=0;if(!y)return G();if(j||j!==!1&&y.indexOf(M)===-1){for(var z=y.split(r),I=0;I<z.length;I++){if(x=z[I],_+=x.length,I!==z.length-1)_+=r.length;else if(h)return G();if(!u||x.substring(0,oe)!==u){if(O){if(S=[],B(x.split(t)),se(),J)return G()}else B(x.split(t));if(b&&b<=I)return S=S.slice(0,b),G(!0)}}return G()}for(var P=y.indexOf(t,_),w=y.indexOf(r,_),Q=new RegExp(Te(R)+Te(M),"g"),E=y.indexOf(M,_);;)if(y[_]===M)for(E=_,_++;;){if((E=y.indexOf(M,E+1))===-1)return h||D.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:S.length,index:_}),ae();if(E===N-1)return ae(y.substring(_,E).replace(Q,M));if(M===R&&y[E+1]===R)E++;else if(M===R||E===0||y[E-1]!==R){P!==-1&&P<E+1&&(P=y.indexOf(t,E+1));var F=Oe((w=w!==-1&&w<E+1?y.indexOf(r,E+1):w)===-1?P:Math.min(P,w));if(y.substr(E+1+F,L)===t){x.push(y.substring(_,E).replace(Q,M)),y[_=E+1+F+L]!==M&&(E=y.indexOf(M,_)),P=y.indexOf(t,_),w=y.indexOf(r,_);break}if(F=Oe(w),y.substring(E+1+F,E+1+F+$)===r){if(x.push(y.substring(_,E).replace(Q,M)),Ie(E+1+F+$),P=y.indexOf(t,_),E=y.indexOf(M,_),O&&(se(),J))return G();if(b&&S.length>=b)return G(!0);break}D.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:S.length,index:_}),E++}}else if(u&&x.length===0&&y.substring(_,_+oe)===u){if(w===-1)return G();_=w+$,w=y.indexOf(r,_),P=y.indexOf(t,_)}else if(P!==-1&&(P<w||w===-1))x.push(y.substring(_,P)),_=P+L,P=y.indexOf(t,_);else{if(w===-1)break;if(x.push(y.substring(_,w)),Ie(w+$),O&&(se(),J))return G();if(b&&S.length>=b)return G(!0)}return ae();function B(W){S.push(W),T=_}function Oe(W){var te=0;return te=W!==-1&&(W=y.substring(E+1,W))&&W.trim()===""?W.length:te}function ae(W){return h||(W===void 0&&(W=y.substring(_)),x.push(W),_=N,B(x),O&&se()),G()}function Ie(W){_=W,B(x),x=[],w=y.indexOf(r,_)}function G(W){if(e.header&&!v&&S.length&&!ie){var te=S[0],he=Object.create(null),Ge=new Set(te);let at=!1;for(let Se=0;Se<te.length;Se++){let le=te[Se];if(he[le=k(e.transformHeader)?e.transformHeader(le,Se):le]){let Fe,st=he[le];for(;Fe=le+"_"+st,st++,Ge.has(Fe););Ge.add(Fe),te[Se]=Fe,he[le]++,at=!0,(ne=ne===null?{}:ne)[Fe]=le}else he[le]=1,te[Se]=le;Ge.add(le)}at&&console.warn("Duplicate headers found and renamed."),ie=!0}return{data:S,errors:D,meta:{delimiter:t,linebreak:r,aborted:J,truncated:!!W,cursor:T+(v||0),renamedHeaders:ne}}}function se(){p(G()),S=[],D=[]}},this.abort=function(){J=!0},this.getCharIndex=function(){return _}}function Xt(e){var t=e.data,r=s[t.workerId],u=!1;if(t.error)r.userError(t.error,t.file);else if(t.results&&t.results.data){var p={abort:function(){u=!0,ot(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:rt,resume:rt};if(k(r.userStep)){for(var b=0;b<t.results.data.length&&(r.userStep({data:t.results.data[b],errors:t.results.errors,meta:t.results.meta},p),!u);b++);delete t.results}else k(r.userChunk)&&(r.userChunk(t.results,p,t.file),delete t.results)}t.finished&&!u&&ot(t.workerId,t.results)}function ot(e,t){var r=s[e];k(r.userComplete)&&r.userComplete(t),r.terminate(),delete s[e]}function rt(){throw new Error("Not implemented.")}function Qe(e){if(typeof e!="object"||e===null)return e;var t,r=Array.isArray(e)?[]:{};for(t in e)r[t]=Qe(e[t]);return r}function ye(e,t){return function(){e.apply(t,arguments)}}function k(e){return typeof e=="function"}return a.parse=function(e,t){var r=(t=t||{}).dynamicTyping||!1;if(k(r)&&(t.dynamicTypingFunction=r,r={}),t.dynamicTyping=r,t.transform=!!k(t.transform)&&t.transform,!t.worker||!a.WORKERS_SUPPORTED)return r=null,a.NODE_STREAM_INPUT,typeof e=="string"?(e=(u=>u.charCodeAt(0)!==65279?u:u.slice(1))(e),r=new(t.download?ee:ve)(t)):e.readable===!0&&k(e.read)&&k(e.on)?r=new _e(t):(g.File&&e instanceof File||e instanceof Object)&&(r=new K(t)),r.stream(e);(r=(()=>{var u;return!!a.WORKERS_SUPPORTED&&(u=(()=>{var p=g.URL||g.webkitURL||null,b=l.toString();return a.BLOB_URL||(a.BLOB_URL=p.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",b,")();"],{type:"text/javascript"})))})(),(u=new g.Worker(u)).onmessage=Xt,u.id=C++,s[u.id]=u)})()).userStep=t.step,r.userChunk=t.chunk,r.userComplete=t.complete,r.userError=t.error,t.step=k(t.step),t.chunk=k(t.chunk),t.complete=k(t.complete),t.error=k(t.error),delete t.worker,r.postMessage({input:e,config:t,workerId:r.id})},a.unparse=function(e,t){var r=!1,u=!0,p=",",b=`\r
`,j='"',ne=j+j,ie=!1,M=null,R=!1,_=((()=>{if(typeof t=="object"){if(typeof t.delimiter!="string"||a.BAD_DELIMITERS.filter(function(v){return t.delimiter.indexOf(v)!==-1}).length||(p=t.delimiter),typeof t.quotes!="boolean"&&typeof t.quotes!="function"&&!Array.isArray(t.quotes)||(r=t.quotes),typeof t.skipEmptyLines!="boolean"&&typeof t.skipEmptyLines!="string"||(ie=t.skipEmptyLines),typeof t.newline=="string"&&(b=t.newline),typeof t.quoteChar=="string"&&(j=t.quoteChar),typeof t.header=="boolean"&&(u=t.header),Array.isArray(t.columns)){if(t.columns.length===0)throw new Error("Option columns is empty");M=t.columns}t.escapeChar!==void 0&&(ne=t.escapeChar+j),t.escapeFormulae instanceof RegExp?R=t.escapeFormulae:typeof t.escapeFormulae=="boolean"&&t.escapeFormulae&&(R=/^[=+\-@\t\r].*$/)}})(),new RegExp(Te(j),"g"));if(typeof e=="string"&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return J(null,e,ie);if(typeof e[0]=="object")return J(M||Object.keys(e[0]),e,ie)}else if(typeof e=="object")return typeof e.data=="string"&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||M),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:typeof e.data[0]=="object"?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||typeof e.data[0]=="object"||(e.data=[e.data])),J(e.fields||[],e.data||[],ie);throw new Error("Unable to serialize unrecognized input");function J(v,h,N){var L="",$=(typeof v=="string"&&(v=JSON.parse(v)),typeof h=="string"&&(h=JSON.parse(h)),Array.isArray(v)&&0<v.length),oe=!Array.isArray(h[0]);if($&&u){for(var O=0;O<v.length;O++)0<O&&(L+=p),L+=y(v[O],O);0<h.length&&(L+=b)}for(var S=0;S<h.length;S++){var D=($?v:h[S]).length,x=!1,T=$?Object.keys(h[S]).length===0:h[S].length===0;if(N&&!$&&(x=N==="greedy"?h[S].join("").trim()==="":h[S].length===1&&h[S][0].length===0),N==="greedy"&&$){for(var z=[],I=0;I<D;I++){var P=oe?v[I]:I;z.push(h[S][P])}x=z.join("").trim()===""}if(!x){for(var w=0;w<D;w++){0<w&&!T&&(L+=p);var Q=$&&oe?v[w]:w;L+=y(h[S][Q],w)}S<h.length-1&&(!N||0<D&&!T)&&(L+=b)}}return L}function y(v,h){var N,L;return v==null?"":v.constructor===Date?JSON.stringify(v).slice(1,25):(L=!1,R&&typeof v=="string"&&R.test(v)&&(v="'"+v,L=!0),N=v.toString().replace(_,ne),(L=L||r===!0||typeof r=="function"&&r(v,h)||Array.isArray(r)&&r[h]||(($,oe)=>{for(var O=0;O<oe.length;O++)if(-1<$.indexOf(oe[O]))return!0;return!1})(N,a.BAD_DELIMITERS)||-1<N.indexOf(p)||N.charAt(0)===" "||N.charAt(N.length-1)===" ")?j+N+j:N)}},a.RECORD_SEP="",a.UNIT_SEP="",a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!i&&!!g.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=Je,a.ParserHandle=it,a.NetworkStreamer=ee,a.FileStreamer=K,a.StringStreamer=ve,a.ReadableStreamStreamer=_e,g.jQuery&&((n=g.jQuery).fn.parse=function(e){var t=e.config||{},r=[];return this.each(function(b){if(!(n(this).prop("tagName").toUpperCase()==="INPUT"&&n(this).attr("type").toLowerCase()==="file"&&g.FileReader)||!this.files||this.files.length===0)return!0;for(var j=0;j<this.files.length;j++)r.push({file:this.files[j],inputElem:this,instanceConfig:n.extend({},t)})}),u(),this;function u(){if(r.length===0)k(e.complete)&&e.complete();else{var b,j,ne,ie,M=r[0];if(k(e.before)){var R=e.before(M.file,M.inputElem);if(typeof R=="object"){if(R.action==="abort")return b="AbortError",j=M.file,ne=M.inputElem,ie=R.reason,void(k(e.error)&&e.error({name:b},j,ne,ie));if(R.action==="skip")return void p();typeof R.config=="object"&&(M.instanceConfig=n.extend(M.instanceConfig,R.config))}else if(R==="skip")return void p()}var _=M.instanceConfig.complete;M.instanceConfig.complete=function(J){k(_)&&_(J,M.file,M.inputElem),p()},a.parse(M.file,M.instanceConfig)}}function p(){r.splice(0,1),u()}}),o&&(g.onmessage=function(e){e=e.data,a.WORKER_ID===void 0&&e&&(a.WORKER_ID=e.workerId),typeof e.input=="string"?g.postMessage({workerId:a.WORKER_ID,results:a.parse(e.input,e.config),finished:!0}):(g.File&&e.input instanceof File||e.input instanceof Object)&&(e=a.parse(e.input,e.config))&&g.postMessage({workerId:a.WORKER_ID,results:e,finished:!0})}),(ee.prototype=Object.create(q.prototype)).constructor=ee,(K.prototype=Object.create(q.prototype)).constructor=K,(ve.prototype=Object.create(ve.prototype)).constructor=ve,(_e.prototype=Object.create(q.prototype)).constructor=_e,a})});var zt=Zt(Vt());function en(l,g){l&1&&(d(0,"div",12),f(1," User ID is required "),c())}function tn(l,g){l&1&&(d(0,"div",12),f(1," Password is required "),c())}var Bt=(()=>{class l{constructor(n,i,o){this.fb=n,this.router=i,this.titlecasePipe=o}ngOnInit(){this.loginForm=this.fb.group({userId:["",Be.required],password:["",[Be.required,Be.pattern("^[0-9]+$")]]})}onSubmit(){if(this.loginForm.invalid)return;let{userId:n,password:i}=this.loginForm.value,o=this.titlecasePipe.transform(n);o==="Madurai Pandiyas"&&i==="123456"?(localStorage.setItem("UserId",o),this.router.navigate(["/shipment"])):o==="Madurai Pandiyas Elite"&&i==="123456"?(localStorage.setItem("UserId",o),this.router.navigate(["/shipment"])):o==="Ram Madurai Pandiyas"&&i==="123456"?(localStorage.setItem("UserId",o),this.router.navigate(["/total-shipments"])):alert("Invalid User ID or Password")}static{this.\u0275fac=function(i){return new(i||l)(pe(At),pe(Ve),pe(Le))}}static{this.\u0275cmp=ce({type:l,selectors:[["app-log-in"]],standalone:!0,features:[pt([Le]),ue],decls:20,vars:4,consts:[[1,"parent-container"],["src","assets/Logo/MaduraiPandiyas.jpeg","alt",""],[1,"logIn-container"],[1,"mb-4","text-center"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","userId",1,"form-label"],["type","text","id","userId","formControlName","userId","placeholder","Enter your User ID",1,"form-control"],["class","text-danger",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","Enter your Password",1,"form-control"],["type","submit",1,"w-100",3,"disabled"],[1,"text-danger"]],template:function(i,o){if(i&1&&(V(0,"app-nav-bar"),d(1,"div",0)(2,"div"),V(3,"img",1),c(),d(4,"div",2)(5,"h3",3),f(6,"Login"),c(),d(7,"form",4),X("ngSubmit",function(){return o.onSubmit()}),d(8,"div",5)(9,"label",6),f(10,"User ID"),c(),V(11,"input",7),Y(12,en,2,0,"div",8),c(),d(13,"div",5)(14,"label",9),f(15,"Password"),c(),V(16,"input",10),Y(17,tn,2,0,"div",8),c(),d(18,"button",11),f(19,"Sign In"),c()()()()),i&2){let s,C;m(7),H("formGroup",o.loginForm),m(5),H("ngIf",((s=o.loginForm.get("userId"))==null?null:s.invalid)&&((s=o.loginForm.get("userId"))==null?null:s.touched)),m(5),H("ngIf",((C=o.loginForm.get("password"))==null?null:C.invalid)&&((C=o.loginForm.get("password"))==null?null:C.touched)),m(),H("disabled",o.loginForm.invalid)}},dependencies:[qe,Et,Pe,ke,St,kt,Tt,we,ht,Me],styles:[".parent-container[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:row;justify-content:center;flex-wrap:nowrap;height:calc(100vh - 150px);overflow:auto;background:#d2d2d2;padding:2rem;border-radius:12px;box-shadow:0 4px 12px #0000004d}.parent-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-height:500px;image-rendering:auto;image-rendering:crisp-edges;image-rendering:high-quality;border-radius:10px}.parent-container[_ngcontent-%COMP%]   .logIn-container[_ngcontent-%COMP%]{min-width:500px;min-height:500px;display:flex;flex-direction:column;justify-content:center;padding:0 30px;background:#fff;border-radius:12px}button[_ngcontent-%COMP%]{background:#000;color:#fff;border:none;height:50px;border-radius:10px;margin-top:15px}@media (max-width: 576px){.parent-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.parent-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-height:400px;border-radius:15px}.parent-container[_ngcontent-%COMP%]   .logIn-container[_ngcontent-%COMP%]{min-height:400px;min-width:400px}app-nav-bar[_ngcontent-%COMP%]{display:none}}"]})}}return l})();function nn(l,g){if(l&1&&(d(0,"tr")(1,"td"),f(2),c(),d(3,"td"),f(4),c(),d(5,"td"),f(6),c()()),l&2){let n=g.$implicit;m(2),re(n.ItemName),m(2),xe("$",n.Price,""),m(2),re(n.Availability)}}function on(l,g){if(l&1&&(d(0,"div",4)(1,"h2",5)(2,"button",6),f(3),c()(),d(4,"div",7)(5,"div",8)(6,"div",9)(7,"table",10)(8,"thead")(9,"tr")(10,"th",11),f(11,"Items"),c(),d(12,"th",11),f(13,"Price(cad)"),c(),d(14,"th",11),f(15,"Availability"),c()()(),d(16,"tbody"),Y(17,nn,7,3,"tr",12),c()()()()()()),l&2){let n=g.$implicit,i=g.index;m(),Ce("id","flush-heading"+i),m(),Ce("data-bs-target","#flush-collapse"+i)("aria-controls","flush-collapse"+i),m(),xe(" ",n.key," "),m(),Ce("id","flush-collapse"+i),m(13),H("ngForOf",n.value)}}var Wt=(()=>{class l{constructor(n){this.http=n,this.menuItems=[],this.todayDate=0,this.groupedMenuItem={},this.originalOrder=(i,o)=>0,this.menuItemsURL="https://docs.google.com/spreadsheets/d/e/2PACX-1vTUlfPw6Rxh8AfTPDEeDjB18OADT3Shz2dZJtHQwcg1xE2ioYiYSN-t9t41eDB7XvXsV3vaKppw-7K-/pub?gid=0&single=true&output=csv"}ngOnInit(){this.getMenuItems(),this.todayDate=new Date().toLocaleDateString()}getMenuItems(){this.http.get(this.menuItemsURL,{responseType:"text"}).subscribe(i=>{let o=zt.parse(i,{header:!0});this.menuItems=o.data,this.groupedMenuItem=this.menuItems.reduce((s,C)=>{let a=(C.Category?String(C.Category):"Uncategorized").trim();return s[a]||(s[a]=[]),s[a].push(C),s},{}),console.log(this.groupedMenuItem)});let n=(i,o)=>0}static{this.\u0275fac=function(i){return new(i||l)(pe(gt))}}static{this.\u0275cmp=ce({type:l,selectors:[["app-menu"]],standalone:!0,features:[ue],decls:6,vars:4,consts:[["src","assets/FoodItems/Food_Item1.png","alt",""],[1,"container-fluid"],["id","accordionFlushExample",1,"accordion","accordion-flush"],["class","accordion-item",4,"ngFor","ngForOf"],[1,"accordion-item"],[1,"accordion-header"],["type","button","data-bs-toggle","collapse","aria-expanded","false",1,"accordion-button","collapsed"],["data-bs-parent","#accordionFlushExample",1,"accordion-collapse","collapse"],[1,"accordion-body"],[1,"menu-items"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"]],template:function(i,o){i&1&&(V(0,"app-nav-bar")(1,"img",0),d(2,"div",1)(3,"div",2),Y(4,on,18,6,"div",3),Re(5,"keyvalue"),c()()),i&2&&(m(4),H("ngForOf",ut(5,1,o.groupedMenuItem,o.originalOrder)))},dependencies:[_t,Ee,we,mt,Me],styles:['@font-face{font-family:Montserrat;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/montserrat/v31/JTUHjIg1_i6t8kCHKm4532VJOt5-QNFgpCtr6Hw0aXpsog.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Montserrat;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/montserrat/v31/JTUHjIg1_i6t8kCHKm4532VJOt5-QNFgpCtr6Hw9aXpsog.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Montserrat;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/montserrat/v31/JTUHjIg1_i6t8kCHKm4532VJOt5-QNFgpCtr6Hw2aXpsog.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Montserrat;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/montserrat/v31/JTUHjIg1_i6t8kCHKm4532VJOt5-QNFgpCtr6Hw3aXpsog.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Montserrat;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/montserrat/v31/JTUHjIg1_i6t8kCHKm4532VJOt5-QNFgpCtr6Hw5aXo.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}img[_ngcontent-%COMP%]{width:100%;height:500px;overflow:hidden;object-fit:cover}h1[_ngcontent-%COMP%]{font-family:Montserrat;padding:20px 0}.container-fluid[_ngcontent-%COMP%]{width:70%;padding:50px 0}.container-fluid[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{font-family:Montserrat}.container-fluid[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-collapse[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:10px 0}.container-fluid[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-collapse[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]{font-family:Montserrat}.container-fluid[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-collapse[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(thead, tbody)[_ngcontent-%COMP%]{border-style:none!important}.container-fluid[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-collapse[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(thead, tbody)[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(tr, td)[_ngcontent-%COMP%]{border-style:none!important;text-align:center}.container-fluid[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-collapse[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(thead, tbody)[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(tr, td)[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-style:none!important;font-size:large;font-weight:bolder;font-family:Montserat}@media (max-width: 576px){.container-fluid[_ngcontent-%COMP%]{width:95%}}']})}}return l})();var Ke=(l,g)=>{let n=ct(Ve);return!localStorage.getItem("UserId")?(n.navigate(["/login"]),!1):!0};var $e=(()=>{class l{constructor(n){this.firestore=n}saveWeeklySchedule(n,i,o){let s=De(this.firestore,`stores/${n}/weeklySchedules/${i}`);return Ze(s,o,{merge:!0})}getWeeklySchedule(n,i){return de(this,null,function*(){let o=De(this.firestore,`stores/${n}/weeklySchedules/${i}`),s=yield Ye(o);return s.exists()?s.data():null})}saveTimeSheet(n,i,o,s,C,a){let q=De(this.firestore,`stores/${n}/timeSheets/${i}`);return Ze(q,{employees:o,hourlyRate:s,dateFrom:C,dateTo:a},{merge:!0})}getTimeSheet(n,i){return de(this,null,function*(){let o=De(this.firestore,`stores/${n}/timeSheets/${i}`),s=yield Ye(o);return s.exists()?s.data():null})}static{this.\u0275fac=function(i){return new(i||l)(dt(Mt))}}static{this.\u0275prov=lt({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var rn=()=>["/shipment"];function an(l,g){if(l&1&&(d(0,"th"),f(1),c()),l&2){let n=g.$implicit;m(),re(n)}}function sn(l,g){if(l&1){let n=be();d(0,"td")(1,"input",23),ge("ngModelChange",function(o){let s=A(n).$implicit,C=Z().$implicit,a=Z();return fe(a.schedule[C][s],o)||(a.schedule[C][s]=o),U(o)}),X("ngModelChange",function(){A(n);let o=Z().$implicit,s=Z();return U(s.updateTotalHours(o))}),c()()}if(l&2){let n=g.$implicit,i=Z().$implicit,o=Z();m(),me("ngModel",o.schedule[i][n])}}function ln(l,g){if(l&1){let n=be();d(0,"tr")(1,"td",20),f(2),d(3,"button",21),X("click",function(){let o=A(n).$implicit,s=Z();return U(s.deleteEmployee(o))}),V(4,"i",22),c()(),Y(5,sn,2,1,"td",10),d(6,"td"),f(7),c()()}if(l&2){let n=g.$implicit,i=Z();m(2),xe(" ",n," "),m(3),H("ngForOf",i.days),m(2),re(i.schedule[n].totalHours||0)}}var Kt=(()=>{class l{constructor(n){this.scheduleService=n,this.days=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],this.employees=[],this.newEmployee="",this.TotalHours=0,this.TotalSalary=0,this.hourlyRate=15,this.storeId=null,this.schedule={}}ngOnInit(){return de(this,null,function*(){this.storeId=localStorage.getItem("UserId"),this.storeId&&(yield this.getWeeklySchedule(),this.initializeScheduleDefaults(),this.updateTotalHoursAllEmployees())})}addEmployee(){let n=this.newEmployee.trim();!n||this.employees.includes(n)||(this.employees.push(n),this.schedule[n]={totalHours:0},this.days.forEach(i=>this.schedule[n][i]=""),this.schedule[n].totalHours=0,this.saveScheduleToDB(),this.newEmployee="")}deleteEmployee(n){this.employees=this.employees.filter(i=>i!==n),delete this.schedule[n],this.updateTotalHoursAllEmployees(),this.saveScheduleToDB()}updateHourlyRate(n){let i=Number(n.value);isNaN(i)||i<=0||(this.hourlyRate=i,this.updateTotalHoursAllEmployees(),this.saveScheduleToDB(),n.value="")}resetSchedule(){this.employees.forEach(n=>{this.days.forEach(i=>this.schedule[n][i]=""),this.schedule[n].totalHours=0}),this.updateTotalHoursAllEmployees(),this.saveScheduleToDB()}saveSchedule(){this.updateTotalHoursAllEmployees(),this.saveScheduleToDB(!0)}calculateShiftHours(n){if(!n)return 0;let[i,o]=n.split("-").map(q=>q.trim());if(!i||!o)return 0;let s=q=>{let ee=q.match(/^(\d{1,2})(?::(\d{2}))?\s*(AM|PM)?$/i);if(!ee)return 0;let K=parseInt(ee[1],10),ve=ee[2]?parseInt(ee[2],10):0,_e=ee[3]?.toUpperCase();return _e==="PM"&&K!==12&&(K+=12),_e==="AM"&&K===12&&(K=0),_e||(K<10||K>=17)&&(K+=12),K*60+ve},C=s(i),a=s(o);return a<C&&(a+=24*60),(a-C)/60}updateTotalHours(n){let i=0;this.days.forEach(o=>{let s=this.schedule[n][o];i+=this.calculateShiftHours(s)}),this.schedule[n].totalHours=i,this.updateTotalHoursAllEmployees()}updateTotalHoursAllEmployees(){this.TotalHours=this.employees.reduce((n,i)=>n+(this.schedule[i]?.totalHours||0),0),this.TotalSalary=this.TotalHours*this.hourlyRate}saveScheduleToDB(n=!1){return de(this,null,function*(){if(!this.storeId)return;let i=this.getWeekId(),o={employees:this.employees,schedule:this.schedule,hourlyRate:this.hourlyRate,totalHours:this.TotalHours,totalSalary:this.TotalSalary,savedAt:new Date().toISOString(),weekId:i};try{yield this.scheduleService.saveWeeklySchedule(this.storeId,i,o),n&&alert("Schedule saved to database!")}catch(s){console.error("Error saving schedule:",s),n&&alert("Error saving schedule: "+(s.message||s))}})}getWeeklySchedule(){return de(this,null,function*(){if(!this.storeId)return;let n=this.getWeekId();try{let i=yield this.scheduleService.getWeeklySchedule(this.storeId,n);i&&(this.employees=i.employees||[],this.schedule=i.schedule||{},this.hourlyRate=i.hourlyRate||15)}catch(i){console.error("Error fetching weekly schedule:",i)}})}initializeScheduleDefaults(){this.employees.forEach(n=>{this.schedule[n]||(this.schedule[n]={totalHours:0}),this.days.forEach(i=>{this.schedule[n][i]||(this.schedule[n][i]="")}),this.schedule[n].totalHours||(this.schedule[n].totalHours=0)})}getWeekId(){let n=new Date,o=(n.getDay()+6)%7,s=new Date(n);return s.setDate(n.getDate()-o),s.toISOString().split("T")[0]}static{this.\u0275fac=function(i){return new(i||l)(pe($e))}}static{this.\u0275cmp=ce({type:l,selectors:[["app-employee-schedule"]],standalone:!0,features:[ue],decls:54,vars:15,consts:[["newRate",""],[1,"parent-container"],[1,"schedule-actions"],[1,"logOutBtn",3,"routerLink"],[1,"bi","bi-arrow-left-circle"],[1,"schedule-btn","reset-btn",3,"click"],[1,"schedule-btn","save-btn",3,"click"],[1,"table-responsive","schedule-table-container"],[1,"schedule-table"],[1,"emp-head"],[4,"ngFor","ngForOf"],[1,"fw-bold"],[1,"text-end"],[1,"inner-container"],[1,"employee-input-container"],[1,"mb-3","mt-5","d-flex","gap-5","justify-content-between","addemployee"],[1,"d-flex","justify-content-between","w-100","addemployee"],["id","empInput","type","text","placeholder","Enter Employee Name",1,"floating-input",3,"ngModelChange","ngModel"],[1,"add-btn",3,"click"],["type","text","placeholder","Update Hourly Rate",1,"floating-input"],[1,"employee-cell"],[1,"delete-btn",3,"click"],[1,"bi","bi-x-lg"],["type","text",1,"shift-input",3,"ngModelChange","ngModel"]],template:function(i,o){if(i&1){let s=be();V(0,"app-nav-bar"),d(1,"div",1)(2,"h1"),f(3,"WEEKLY SCHEDULE"),c(),d(4,"div",2)(5,"div")(6,"button",3),V(7,"i",4),c()(),d(8,"div")(9,"button",5),X("click",function(){return A(s),U(o.resetSchedule())}),f(10,"Reset Schedule"),c(),d(11,"button",6),X("click",function(){return A(s),U(o.saveSchedule())}),f(12,"Save Schedule"),c()()(),d(13,"div",7)(14,"table",8)(15,"thead")(16,"tr")(17,"th",9),f(18,"Employee"),c(),Y(19,an,2,1,"th",10),d(20,"th"),f(21,"Total Hrs"),c()()(),d(22,"tbody"),Y(23,ln,8,3,"tr",10),c(),d(24,"tfoot")(25,"tr",11)(26,"td",12),f(27,"Total Hours All Employees:"),c(),d(28,"td"),f(29),c()(),d(30,"tr",11)(31,"td",12),f(32,"Hourly Salary:"),c(),d(33,"td"),f(34),Re(35,"currency"),c()(),d(36,"tr",11)(37,"td",12),f(38,"Total Salary:"),c(),d(39,"td"),f(40),Re(41,"currency"),c()()()()(),d(42,"div",13)(43,"div",14)(44,"div",15)(45,"div",16)(46,"input",17),ge("ngModelChange",function(a){return A(s),fe(o.newEmployee,a)||(o.newEmployee=a),U(a)}),c(),d(47,"button",18),X("click",function(){return A(s),U(o.addEmployee())}),f(48,"Add Employee"),c()(),d(49,"div",16),V(50,"input",19,0),d(52,"button",18),X("click",function(){A(s);let a=Ue(51);return U(o.updateHourlyRate(a))}),f(53,"Update Rate"),c()()()()()()}i&2&&(m(6),H("routerLink",He(14,rn)),m(13),H("ngForOf",o.days),m(4),H("ngForOf",o.employees),m(3),Ce("colspan",o.days.length+1),m(3),re(o.TotalHours),m(2),Ce("colspan",o.days.length+1),m(3),re(Xe(35,10,o.hourlyRate)),m(3),Ce("colspan",o.days.length+1),m(3),re(Xe(41,12,o.TotalSalary)),m(6),me("ngModel",o.newEmployee))},dependencies:[Ut,Ee,we,ft,We,Pe,ke,ze,Me,Ne,je],styles:[".parent-container[_ngcontent-%COMP%]{margin:0 auto;padding:0 20px;font-family:Inter,sans-serif}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;margin-top:20px;font-weight:700}.schedule-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:10px;margin-bottom:15px}.schedule-btn[_ngcontent-%COMP%]{padding:8px 16px;font-size:14px;font-weight:600;border:none;border-radius:6px;cursor:pointer;transition:.2s}.reset-btn[_ngcontent-%COMP%]{background-color:#ffb300;color:#222}.reset-btn[_ngcontent-%COMP%]:hover{background-color:#ffa000}.save-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;margin-left:20px}.save-btn[_ngcontent-%COMP%]:hover{background-color:#218838}.logOutBtn[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;border:none;cursor:pointer;font-size:24px;transition:transform .2s,background-color .3s}.logOutBtn[_ngcontent-%COMP%]:hover{background-color:#e7e7e7;transform:scale(1.1)}.table-responsive.schedule-table-container[_ngcontent-%COMP%]{width:100%;overflow-x:auto;border-radius:8px;background:#fff;box-shadow:0 2px 6px #0000000d}.schedule-table[_ngcontent-%COMP%]{width:100%;min-width:800px;border-collapse:collapse;font-size:14px}.schedule-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .schedule-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #e0e0e0;text-align:center;vertical-align:middle;padding:6px 8px}.schedule-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#2b2d42;color:#fff;text-transform:uppercase;font-size:13px;position:sticky;top:0;z-index:20;min-width:125px}.schedule-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th.emp-head[_ngcontent-%COMP%]{left:0;z-index:25}.employee-cell[_ngcontent-%COMP%]{position:sticky;left:0;z-index:10;background:#f8f9fa;min-width:120px;display:flex;justify-content:space-between;align-items:center;padding:0 8px;font-weight:600;min-height:45px;box-shadow:2px 0 5px -2px #0003}.delete-btn[_ngcontent-%COMP%]{background:#c00;border:none;color:#fff;font-size:12px;width:22px;height:22px;cursor:pointer;display:flex;justify-content:center;align-items:center;border-radius:4px;transition:.2s}.delete-btn[_ngcontent-%COMP%]:hover{background:#ff4d4d;transform:scale(1.1)}.schedule-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:none;text-align:center;transition:.2s;height:30px}.schedule-table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#4a69ff;outline:none;box-shadow:0 0 3px #4a69ff80}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background:#f9f9f9}.schedule-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:600;background:#f1f1f1;text-align:right;padding:6px 10px;font-size:14px}.schedule-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%]   td.text-end[_ngcontent-%COMP%]{text-align:right;font-weight:600}.inner-container[_ngcontent-%COMP%]{display:flex;gap:20px;margin-top:20px;flex-wrap:wrap}.employee-input-container[_ngcontent-%COMP%], .shift-input-container[_ngcontent-%COMP%]{flex:1;min-width:220px}.floating-form[_ngcontent-%COMP%]{position:relative;display:flex;gap:10px;align-items:center}.floating-input[_ngcontent-%COMP%]{padding:10px;border:1.5px solid #ccc;border-radius:6px;outline:none;font-size:14px;width:70%}.floating-label[_ngcontent-%COMP%]{position:absolute;left:10px;top:10px;background:#fff;padding:0 5px;color:#777;font-size:13px;pointer-events:none;transition:.2s}.floating-input[_ngcontent-%COMP%]:focus + .floating-label[_ngcontent-%COMP%], .floating-input[_ngcontent-%COMP%]:not(:placeholder-shown) + .floating-label[_ngcontent-%COMP%]{top:-8px;left:8px;font-size:11px;color:#4a69ff;font-weight:500}.add-btn[_ngcontent-%COMP%]{padding:8px 12px;font-size:13px;border-radius:5px;border:none;cursor:pointer;background:#fff;color:#000;border:1px solid black;margin-left:15px}.add-btn[_ngcontent-%COMP%]:hover{background:#000;color:#fff;transition:background-color 2s ease}h5[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:10px}.d-flex.gap-2.mb-4[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background-color:#4a69ff;color:#fff;padding:6px 10px;font-size:12px;border-radius:6px;display:flex;align-items:center;gap:4px}@media (max-width: 768px){.inner-container[_ngcontent-%COMP%]{flex-direction:column}.logOutBtn[_ngcontent-%COMP%]{display:none}.employee-input-container[_ngcontent-%COMP%], .shift-input-container[_ngcontent-%COMP%], .floating-input[_ngcontent-%COMP%]{width:100%}.add-btn[_ngcontent-%COMP%]{margin-left:0;margin-top:5px}.schedule-table[_ngcontent-%COMP%]{font-size:12px;min-width:600px}.employee-cell[_ngcontent-%COMP%], .schedule-table[_ngcontent-%COMP%]   th.emp-head[_ngcontent-%COMP%]{min-width:100px}.save-btn[_ngcontent-%COMP%]{margin-left:0;margin-top:20px;min-height:50px}.reset-btn[_ngcontent-%COMP%]{min-height:50px}}@media (max-width: 576px){.schedule-actions[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.logOutBtn[_ngcontent-%COMP%]{display:none}.save-btn[_ngcontent-%COMP%]{margin-left:0}.schedule-btn[_ngcontent-%COMP%]{width:100%}.addemployee[_ngcontent-%COMP%]{flex-direction:column;gap:10px 0px}.save-btn[_ngcontent-%COMP%]{margin-left:0;margin-top:20px;min-height:50px}.reset-btn[_ngcontent-%COMP%], .add-btn[_ngcontent-%COMP%]{min-height:50px}}"]})}}return l})();var dn=()=>["/shipment"];function cn(l,g){if(l&1&&(d(0,"th"),f(1),c()),l&2){let n=g.$implicit;m(),re(n)}}function pn(l,g){if(l&1){let n=be();d(0,"td")(1,"input",28),ge("ngModelChange",function(o){let s=A(n).index,C=Z().$implicit;return fe(C.dailyHours[s],o)||(C.dailyHours[s]=o),U(o)}),X("input",function(){A(n);let o=Z(2);return U(o.updateShift())}),c()()}if(l&2){let n=g.index,i=Z().$implicit;m(),me("ngModel",i.dailyHours[n])}}function un(l,g){if(l&1){let n=be();d(0,"tr")(1,"td",12)(2,"div",25),f(3),d(4,"button",26),X("click",function(){let o=A(n).index,s=Z();return U(s.deleteEmployee(o))}),V(5,"i",27),c()()(),Y(6,pn,2,1,"td",13),d(7,"td"),f(8),c()()}if(l&2){let n=g.$implicit,i=Z();m(3),xe(" ",n.name," "),m(3),H("ngForOf",i.days),m(2),re(i.getEmployeeTotal(n))}}function hn(l,g){if(l&1&&(d(0,"option",29),f(1),c()),l&2){let n=g.$implicit;H("ngValue",n),m(),xe(" ",n.name," ")}}var $t=(()=>{class l{constructor(n){this.scheduleService=n,this.storeId=null,this.employees=[],this.days=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],this.newEmployeeName="",this.selectedEmployee=null,this.hourlyRate=15,this.totalAllHours=0,this.totalAllPay=0,this.dateFrom="",this.dateTo=""}ngOnInit(){this.storeId=localStorage.getItem("UserId"),this.storeId&&(this.getThisWeekRange(),this.loadEmployees(),this.calculateAllTotals())}getWeekId(){return this.dateFrom}saveEmployees(){return de(this,null,function*(){if(!this.storeId)return;let n=this.getWeekId();yield this.scheduleService.saveTimeSheet(this.storeId,n,this.employees,this.hourlyRate,this.dateFrom,this.dateTo)})}loadEmployees(){return de(this,null,function*(){if(!this.storeId)return;let n=this.getWeekId(),i=yield this.scheduleService.getTimeSheet(this.storeId,n);i&&(this.employees=i.employees||[],this.hourlyRate=i.hourlyRate||15,this.dateFrom=i.dateFrom||this.dateFrom,this.dateTo=i.dateTo||this.dateTo)})}addEmployee(){let n=this.newEmployeeName.trim();n&&(this.employees.push({name:n,dailyHours:[0,0,0,0,0,0,0]}),this.newEmployeeName="",this.saveEmployees(),this.calculateAllTotals())}updateShift(){this.calculateAllTotals(),this.saveEmployees()}deleteEmployee(n){this.employees.splice(n,1),this.saveEmployees(),this.calculateAllTotals()}resetAll(){this.employees.forEach(n=>n.dailyHours=[0,0,0,0,0,0,0]),this.saveEmployees(),this.calculateAllTotals()}calculateAllTotals(){return this.totalAllHours=this.employees.reduce((n,i)=>n+i.dailyHours.reduce((o,s)=>o+s,0),0),this.totalAllPay=this.totalAllHours*this.hourlyRate,this.totalAllHours}getEmployeeTotal(n){return n.dailyHours.reduce((i,o)=>i+o,0)}updateHourlyRate(n){let i=Number(n.value);isNaN(i)||i<=0||(this.hourlyRate=i,this.saveEmployees(),n.value="")}getThisWeekRange(){let n=new Date,i=n.getDay()||7,o=new Date(n);o.setDate(n.getDate()-i+1),o.setHours(0,0,0,0);let s=new Date(o);s.setDate(o.getDate()+6),s.setHours(23,59,59,999),this.dateFrom=o.toISOString().slice(0,10),this.dateTo=s.toISOString().slice(0,10)}downloadEmployeePDF(n){if(!n){alert("Please select an employee");return}let i=new Ht,o=15,s=new Image;s.src="assets/Logo/MaduraiPandiyas.jpeg",s.onload=()=>{i.addImage(s,"JPEG",155,10,40,30),i.setFontSize(16),i.text("Weekly Time Sheet",14,o),o+=10,i.setFontSize(12),i.text(`Employee: ${n.name}`,14,o),o+=6,i.text(`Hourly Rate: CAD${this.hourlyRate}`,14,o),o+=6,i.text(`Week: ${this.dateFrom} to ${this.dateTo}`,14,o),o+=10;let C=n.dailyHours.map((ee,K)=>[this.days[K],ee]),a=n.dailyHours.reduce((ee,K)=>ee+K,0),q=a*this.hourlyRate;C.push(["Total Hours",a]),C.push(["Total Pay",q.toFixed(2)]),Lt(i,{head:[["Day","Hours"]],body:C,startY:o,margin:{left:14,right:14},styles:{fontSize:10,halign:"center",cellPadding:6},theme:"grid",headStyles:{fillColor:[22,160,133]}}),o=i.lastAutoTable.finalY+10,i.setFontSize(10),i.text("Generated by Madurai Pandiyas",14,290),i.save(`${n.name}-Weekly-TimeSheet.pdf`)},s.onerror=()=>{console.error("Logo not found! Make sure the path is correct.")}}static{this.\u0275fac=function(i){return new(i||l)(pe($e))}}static{this.\u0275cmp=ce({type:l,selectors:[["app-time-sheet"]],standalone:!0,features:[ue],decls:45,vars:10,consts:[["newRate",""],[1,"container","mt-4"],[1,"d-flex","justify-content-between"],[1,"logOutBtn",3,"routerLink"],[1,"bi","bi-arrow-left-circle"],[1,"d-flex","date-range-container","align-items-center"],["type","date",1,"form-control","me-2",3,"ngModelChange","ngModel"],[1,"mx-2","fw-bold"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],[1,"reset-btn",3,"click"],[1,"table-responsive"],[1,"table","table-bordered","table-striped"],[1,"sticky-col"],[4,"ngFor","ngForOf"],[1,"employee-actions-container"],[1,"employee-left"],["type","text","placeholder","Enter Employee Name",1,"add-employee",3,"ngModelChange","ngModel"],[1,"btn","reset-btn",3,"click"],["type","text","placeholder","Update Hourly Rate",1,"add-employee","mt-2"],[1,"employee-right"],[1,"form-select",3,"ngModelChange","ngModel"],["disabled","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"btn","mt-2",3,"click"],[1,"bi","bi-download"],[1,"employee-cell"],[1,"btn","btn-sm","btn-danger","ms-2",3,"click"],[1,"bi","bi-x-lg"],["type","number","min","0",1,"form-control",3,"ngModelChange","input","ngModel"],[3,"ngValue"]],template:function(i,o){if(i&1){let s=be();V(0,"app-nav-bar"),d(1,"div",1)(2,"h2"),f(3,"Employee Time Sheet"),c(),d(4,"div",2)(5,"div")(6,"button",3),V(7,"i",4),c()(),d(8,"div",5)(9,"input",6),ge("ngModelChange",function(a){return A(s),fe(o.dateFrom,a)||(o.dateFrom=a),U(a)}),c(),d(10,"span",7),f(11,"TO"),c(),d(12,"input",8),ge("ngModelChange",function(a){return A(s),fe(o.dateTo,a)||(o.dateTo=a),U(a)}),c()(),d(13,"button",9),X("click",function(){return A(s),U(o.resetAll())}),f(14,"Reset All"),c()(),d(15,"div",10)(16,"table",11)(17,"thead")(18,"tr")(19,"th",12),f(20,"Employee"),c(),Y(21,cn,2,1,"th",13),d(22,"th"),f(23,"Total Hours"),c()()(),d(24,"tbody"),Y(25,un,9,3,"tr",13),c()()(),d(26,"div",14)(27,"div",15)(28,"div",2)(29,"input",16),ge("ngModelChange",function(a){return A(s),fe(o.newEmployeeName,a)||(o.newEmployeeName=a),U(a)}),c(),d(30,"button",17),X("click",function(){return A(s),U(o.addEmployee())}),f(31,"Add Employee"),c()(),d(32,"div",2),V(33,"input",18,0),d(35,"button",17),X("click",function(){A(s);let a=Ue(34);return U(o.updateHourlyRate(a))}),f(36,"Update Rate"),c()()(),d(37,"div",19)(38,"select",20),ge("ngModelChange",function(a){return A(s),fe(o.selectedEmployee,a)||(o.selectedEmployee=a),U(a)}),d(39,"option",21),f(40,"Select Employee"),c(),Y(41,hn,2,2,"option",22),c(),d(42,"button",23),X("click",function(){return A(s),U(o.downloadEmployeePDF(o.selectedEmployee))}),f(43," Download PDF "),V(44,"i",24),c()()()()}i&2&&(m(6),H("routerLink",He(9,dn)),m(3),me("ngModel",o.dateFrom),m(3),me("ngModel",o.dateTo),m(9),H("ngForOf",o.days),m(4),H("ngForOf",o.employees),m(4),me("ngModel",o.newEmployeeName),m(9),me("ngModel",o.selectedEmployee),m(),H("ngValue",null),m(2),H("ngForOf",o.employees))},dependencies:[We,Ft,Rt,Pe,Pt,It,ke,Dt,ze,qe,we,Ee,Ne,je,Me],styles:[".table-responsive[_ngcontent-%COMP%]{overflow-x:auto;margin-top:40px}h2[_ngcontent-%COMP%]{width:100%;text-align:center;padding:25px 0}.sticky-col[_ngcontent-%COMP%]{position:sticky;left:0;background:#fff;z-index:5;min-width:200px;box-shadow:2px 0 5px -2px #0003}.employee-cell[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.3rem .5rem}.logOutBtn[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;border:none;cursor:pointer;font-size:24px;transition:transform .2s,background-color .3s}.logOutBtn[_ngcontent-%COMP%]:hover{background-color:#e7e7e7;transform:scale(1.1)}.reset-btn[_ngcontent-%COMP%]{width:15%;min-height:50px;background:#fff;border-radius:5px;font-family:Montserrat,sans-serif;margin-top:0}.reset-btn[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff;transform:translateY(-2px);box-shadow:0 6px 12px #00000026}.employee-actions-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;margin-top:30px}.employee-left[_ngcontent-%COMP%], .employee-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:10px;gap:20px;min-width:45%}[_ngcontent-%COMP%]:is(.employee-left, .employee-right)[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{min-width:60%;min-height:50px;border-radius:5px;border-width:1px 1px 1px 1px}[_ngcontent-%COMP%]:is(.employee-left, .employee-right)[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:30%;border:1px solid black;min-height:50px}[_ngcontent-%COMP%]:is(.employee-left, .employee-right)[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{min-width:60%;min-height:50px}@media (max-width: 768px){table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.4rem .6rem;font-size:.85rem}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80px;max-width:100%}button.btn-sm[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.75rem}}@media (max-width: 1024px){table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90px}}"]})}}return l})();var Jt=[{path:"",component:Bt},{path:"shipment",canActivate:[Ke],loadComponent:()=>import("./chunk-YVDXO6TS.js").then(l=>l.ShipmentsComponent)},{path:"dispatch-details",canActivate:[Ke],loadComponent:()=>import("./chunk-BPEJU6N3.js").then(l=>l.RequestComponent)},{path:"total-shipments",canActivate:[Ke],loadComponent:()=>import("./chunk-PVJKGSBB.js").then(l=>l.TotalShipmentsComponent)},{path:"menu",component:Wt},{path:"employeeSchedule",component:Kt},{path:"timeSheet",component:$t}];var Qt={providers:[bt(Jt),xt(()=>wt({apiKey:"AIzaSyAViDR1Ng61PZF4hNl_BwCRx4QG2fAktwo",authDomain:"maduraipandiyasshipmentpoc.firebaseapp.com",projectId:"maduraipandiyasshipmentpoc",storageBucket:"maduraipandiyasshipmentpoc.firebasestorage.app",messagingSenderId:"134451260435",appId:"1:134451260435:web:1ef72d0b9c4983fb4c23e6",measurementId:"G-YJ66XK83P8"})),vt(()=>Ot())]};var Gt=(()=>{class l{constructor(){this.title="MaduraiPandiyas"}static{this.\u0275fac=function(i){return new(i||l)}}static{this.\u0275cmp=ce({type:l,selectors:[["app-root"]],standalone:!0,features:[ue],decls:1,vars:0,template:function(i,o){i&1&&V(0,"router-outlet")},dependencies:[Ct]})}}return l})();yt(Gt,Qt).catch(l=>console.error(l));
