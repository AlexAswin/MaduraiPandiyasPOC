import{a as U,b as Re,e as S}from"./chunk-5FZOKLP6.js";function G(t){return typeof t=="function"}function vi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ic=vi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Sr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ce=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(G(r))try{r()}catch(s){e=s instanceof ic?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{R_(s)}catch(o){e=e??[],o instanceof ic?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ic(e)}}add(e){var n;if(e&&e!==this)if(this.closed)R_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Sr(n,e)}remove(e){let{_finalizers:n}=this;n&&Sr(n,e),e instanceof t&&e._removeParent(this)}};Ce.EMPTY=(()=>{let t=new Ce;return t.closed=!0,t})();var rh=Ce.EMPTY;function sc(t){return t instanceof Ce||t&&"closed"in t&&G(t.remove)&&G(t.add)&&G(t.unsubscribe)}function R_(t){G(t)?t():t.unsubscribe()}var Ft={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var _i={setTimeout(t,e,...n){let{delegate:r}=_i;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=_i;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function oc(t){_i.setTimeout(()=>{let{onUnhandledError:e}=Ft;if(e)e(t);else throw t})}function Xs(){}var N_=ih("C",void 0,void 0);function M_(t){return ih("E",void 0,t)}function x_(t){return ih("N",t,void 0)}function ih(t,e,n){return{kind:t,value:e,error:n}}var Ar=null;function Ii(t){if(Ft.useDeprecatedSynchronousErrorHandling){let e=!Ar;if(e&&(Ar={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ar;if(Ar=null,n)throw r}}else t()}function P_(t){Ft.useDeprecatedSynchronousErrorHandling&&Ar&&(Ar.errorThrown=!0,Ar.error=t)}var Rr=class extends Ce{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sc(e)&&e.add(this)):this.destination=pS}static create(e,n,r){return new wi(e,n,r)}next(e){this.isStopped?oh(x_(e),this):this._next(e)}error(e){this.isStopped?oh(M_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?oh(N_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},hS=Function.prototype.bind;function sh(t,e){return hS.call(t,e)}var ah=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ac(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ac(r)}else ac(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ac(n)}}},wi=class extends Rr{constructor(e,n,r){super();let i;if(G(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ft.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&sh(e.next,s),error:e.error&&sh(e.error,s),complete:e.complete&&sh(e.complete,s)}):i=e}this.destination=new ah(i)}};function ac(t){Ft.useDeprecatedSynchronousErrorHandling?P_(t):oc(t)}function fS(t){throw t}function oh(t,e){let{onStoppedNotification:n}=Ft;n&&_i.setTimeout(()=>n(t,e))}var pS={closed:!0,next:Xs,error:fS,complete:Xs};var Ei=typeof Symbol=="function"&&Symbol.observable||"@@observable";function yt(t){return t}function cc(...t){return ch(t)}function ch(t){return t.length===0?yt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var X=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=mS(n)?n:new wi(n,r,i);return Ii(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=O_(r),new r((i,s)=>{let o=new wi({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ei](){return this}pipe(...n){return ch(n)(this)}toPromise(n){return n=O_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function O_(t){var e;return(e=t??Ft.Promise)!==null&&e!==void 0?e:Promise}function gS(t){return t&&G(t.next)&&G(t.error)&&G(t.complete)}function mS(t){return t&&t instanceof Rr||gS(t)&&sc(t)}var{isArray:yS}=Array,{getPrototypeOf:vS,prototype:_S,keys:IS}=Object;function uc(t){if(t.length===1){let e=t[0];if(yS(e))return{args:e,keys:null};if(wS(e)){let n=IS(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function wS(t){return t&&typeof t=="object"&&vS(t)===_S}function uh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function F_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function k_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nr(t){return this instanceof Nr?(this.v=t,this):new Nr(t)}function L_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(v){return function(C){return Promise.resolve(C).then(v,p)}}function a(v,C){r[v]&&(i[v]=function(N){return new Promise(function(R,P){s.push([v,N,R,P])>1||u(v,N)})},C&&(i[v]=C(i[v])))}function u(v,C){try{l(r[v](C))}catch(N){m(s[0][3],N)}}function l(v){v.value instanceof Nr?Promise.resolve(v.value.v).then(h,p):m(s[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function m(v,C){v(C),s.shift(),s.length&&u(s[0][0],s[0][1])}}function V_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof k_=="function"?k_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var Ti=t=>t&&typeof t.length=="number"&&typeof t!="function";function lc(t){return G(t?.then)}function dc(t){return G(t[Ei])}function hc(t){return Symbol.asyncIterator&&G(t?.[Symbol.asyncIterator])}function fc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ES(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var pc=ES();function gc(t){return G(t?.[pc])}function mc(t){return L_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Nr(n.read());if(i)return yield Nr(void 0);yield yield Nr(r)}}finally{n.releaseLock()}})}function yc(t){return G(t?.getReader)}function Ee(t){if(t instanceof X)return t;if(t!=null){if(dc(t))return TS(t);if(Ti(t))return DS(t);if(lc(t))return bS(t);if(hc(t))return U_(t);if(gc(t))return CS(t);if(yc(t))return SS(t)}throw fc(t)}function TS(t){return new X(e=>{let n=t[Ei]();if(G(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function DS(t){return new X(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function bS(t){return new X(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,oc)})}function CS(t){return new X(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function U_(t){return new X(e=>{AS(t,e).catch(n=>e.error(n))})}function SS(t){return U_(mc(t))}function AS(t,e){var n,r,i,s;return F_(this,void 0,void 0,function*(){try{for(n=V_(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function lt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function lh(t){return G(t?.lift)}function oe(t){return e=>{if(lh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ie(t,e,n,r,i){return new dh(t,e,n,r,i)}var dh=class extends Rr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function qn(t,e=0){return oe((n,r)=>{n.subscribe(ie(r,i=>lt(r,t,()=>r.next(i),e),()=>lt(r,t,()=>r.complete(),e),i=>lt(r,t,()=>r.error(i),e)))})}function Hn(t,e=0){return oe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function j_(t,e){return Ee(t).pipe(Hn(e),qn(e))}function B_(t,e){return Ee(t).pipe(Hn(e),qn(e))}function $_(t,e){return new X(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function q_(t,e){return new X(n=>{let r;return lt(n,e,()=>{r=t[pc](),lt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>G(r?.return)&&r.return()})}function vc(t,e){if(!t)throw new Error("Iterable cannot be null");return new X(n=>{lt(n,e,()=>{let r=t[Symbol.asyncIterator]();lt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function H_(t,e){return vc(mc(t),e)}function z_(t,e){if(t!=null){if(dc(t))return j_(t,e);if(Ti(t))return $_(t,e);if(lc(t))return B_(t,e);if(hc(t))return vc(t,e);if(gc(t))return q_(t,e);if(yc(t))return H_(t,e)}throw fc(t)}function Te(t,e){return e?z_(t,e):Ee(t)}function ee(t,e){return oe((n,r)=>{let i=0;n.subscribe(ie(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:RS}=Array;function NS(t,e){return RS(e)?t(...e):t(e)}function Di(t){return ee(e=>NS(t,e))}function _c(t){return t&&G(t.schedule)}function hh(t){return t[t.length-1]}function Ic(t){return G(hh(t))?t.pop():void 0}function Yt(t){return _c(hh(t))?t.pop():void 0}function G_(t,e){return typeof hh(t)=="number"?t.pop():e}function wc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function eo(...t){let e=Yt(t),n=Ic(t),{args:r,keys:i}=uc(t);if(r.length===0)return Te([],e);let s=new X(MS(r,e,i?o=>wc(i,o):yt));return n?s.pipe(Di(n)):s}function MS(t,e,n=yt){return r=>{W_(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)W_(e,()=>{let l=Te(t[u],e),h=!1;l.subscribe(ie(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function W_(t,e,n){t?lt(n,t,e):e()}function bi(){return oe((t,e)=>{let n=null;t._refCount++;let r=ie(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ci=class extends X{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,lh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ce;let n=this.getSubject();e.add(this.source.subscribe(ie(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ce.EMPTY)}return e}refCount(){return bi()(this)}};var Si={schedule(t){let e=requestAnimationFrame,n=cancelAnimationFrame,{delegate:r}=Si;r&&(e=r.requestAnimationFrame,n=r.cancelAnimationFrame);let i=e(s=>{n=void 0,t(s)});return new Ce(()=>n?.(i))},requestAnimationFrame(...t){let{delegate:e}=Si;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:e}=Si;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var K_=vi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Qe=(()=>{class t extends X{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ec(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new K_}next(n){Ii(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ii(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ii(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?rh:(this.currentObservers=null,s.push(n),new Ce(()=>{this.currentObservers=null,Sr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new X;return n.source=this,n}}return t.create=(e,n)=>new Ec(e,n),t})(),Ec=class extends Qe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:rh}};var qe=class extends Qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var fh={now(){return(fh.delegate||Date).now()},delegate:void 0};var Tc=class extends Ce{constructor(e,n){super()}schedule(e,n=0){return this}};var to={setInterval(t,e,...n){let{delegate:r}=to;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=to;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var zn=class extends Tc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return to.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&to.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Sr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ai=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ai.now=fh.now;var Gn=class extends Ai{constructor(e,n=Ai.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Wn=new Gn(zn),ph=Wn;var Dc=class extends zn{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var bc=class extends Gn{};var gh=new bc(Dc);var Cc=class extends zn{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return r!==null&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=Si.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);let{actions:s}=e;n!=null&&n===e._scheduled&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==n&&(Si.cancelAnimationFrame(n),e._scheduled=void 0)}};var Sc=class extends Gn{flush(e){this._active=!0;let n;e?n=e.id:(n=this._scheduled,this._scheduled=void 0);let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw i}}};var xS=new Sc(Cc);var ot=new X(t=>t.complete());function W(...t){let e=Yt(t);return Te(t,e)}function Ri(t,e){let n=G(t)?t:()=>t,r=i=>i.error(n());return new X(e?i=>e.schedule(r,0,i):r)}function mh(t){return!!t&&(t instanceof X||G(t.lift)&&G(t.subscribe))}var In=vi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Q_(t){return t instanceof Date&&!isNaN(t)}function Y_(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=N=>l<r?C(N):u.push(N),C=N=>{s&&e.next(N),l++;let R=!1;Ee(n(N,h++)).subscribe(ie(e,P=>{i?.(P),s?v(P):e.next(P)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let P=u.shift();o?lt(e,o,()=>C(P)):C(P)}m()}catch(P){e.error(P)}}))};return t.subscribe(ie(e,v,()=>{p=!0,m()})),()=>{a?.()}}function Ne(t,e,n=1/0){return G(e)?Ne((r,i)=>ee((s,o)=>e(r,s,i,o))(Ee(t(r,i))),n):(typeof e=="number"&&(n=e),oe((r,i)=>Y_(r,i,t,n)))}function Kn(t=1/0){return Ne(yt,t)}function J_(){return Kn(1)}function Ni(...t){return J_()(Te(t,Yt(t)))}function Ac(t){return new X(e=>{Ee(t()).subscribe(e)})}function PS(...t){let e=Ic(t),{args:n,keys:r}=uc(t),i=new X(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;Ee(n[h]).subscribe(ie(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?wc(r,a):a),s.complete())}))}});return e?i.pipe(Di(e)):i}var OS=["addListener","removeListener"],kS=["addEventListener","removeEventListener"],FS=["on","off"];function yh(t,e,n,r){if(G(n)&&(r=n,n=void 0),r)return yh(t,e,n).pipe(Di(r));let[i,s]=US(t)?kS.map(o=>a=>t[o](e,a,n)):LS(t)?OS.map(Z_(t,e)):VS(t)?FS.map(Z_(t,e)):[];if(!i&&Ti(t))return Ne(o=>yh(o,e,n))(Ee(t));if(!i)throw new TypeError("Invalid event target");return new X(o=>{let a=(...u)=>o.next(1<u.length?u:u[0]);return i(a),()=>s(a)})}function Z_(t,e){return n=>r=>t[n](e,r)}function LS(t){return G(t.addListener)&&G(t.removeListener)}function VS(t){return G(t.on)&&G(t.off)}function US(t){return G(t.addEventListener)&&G(t.removeEventListener)}function Rc(t=0,e,n=ph){let r=-1;return e!=null&&(_c(e)?n=e:r=e),new X(i=>{let s=Q_(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function jS(t=0,e=Wn){return t<0&&(t=0),Rc(t,t,e)}function BS(...t){let e=Yt(t),n=G_(t,1/0),r=t;return r.length?r.length===1?Ee(r[0]):Kn(n)(Te(r,e)):ot}function at(t,e){return oe((n,r)=>{let i=0;n.subscribe(ie(r,s=>t.call(e,s,i++)&&r.next(s)))})}function X_(t){return oe((e,n)=>{let r=!1,i=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;let l=i;i=null,n.next(l)}o&&n.complete()},u=()=>{s=null,o&&n.complete()};e.subscribe(ie(n,l=>{r=!0,i=l,s||Ee(t(l)).subscribe(s=ie(n,a,u))},()=>{o=!0,(!r||!s||s.closed)&&n.complete()}))})}function $S(t,e=Wn){return X_(()=>Rc(t,e))}function Qn(t){return oe((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ie(n,void 0,void 0,o=>{s=Ee(t(o,Qn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function eI(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(ie(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function wn(t,e){return G(e)?Ne(t,e,1):Ne(t,1)}function Yn(t){return oe((e,n)=>{let r=!1;e.subscribe(ie(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function En(t){return t<=0?()=>ot:oe((e,n)=>{let r=0;e.subscribe(ie(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function vh(t){return ee(()=>t)}function Nc(t=qS){return oe((e,n)=>{let r=!1;e.subscribe(ie(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function qS(){return new In}function Jn(t){return oe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Jt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?at((i,s)=>t(i,s,r)):yt,En(1),n?Yn(e):Nc(()=>new In))}function Mi(t){return t<=0?()=>ot:oe((e,n)=>{let r=[];e.subscribe(ie(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function _h(t,e){let n=arguments.length>=2;return r=>r.pipe(t?at((i,s)=>t(i,s,r)):yt,Mi(1),n?Yn(e):Nc(()=>new In))}function Mc(t,e){return oe(eI(t,e,arguments.length>=2,!0))}function xc(...t){let e=Yt(t);return oe((n,r)=>{(e?Ni(t,n,e):Ni(t,n)).subscribe(r)})}function dt(t,e){return oe((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ie(r,u=>{i?.unsubscribe();let l=0,h=s++;Ee(t(u,h)).subscribe(i=ie(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Ih(t){return oe((e,n)=>{Ee(t).subscribe(ie(n,()=>n.complete(),Xs)),!n.closed&&e.subscribe(n)})}function xe(t,e,n){let r=G(t)||e||n?{next:t,error:e,complete:n}:t;return r?oe((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ie(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):yt}var tI=null;var wh=1,Eh=Symbol("SIGNAL");function pe(t){let e=tI;return tI=t,e}var nI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function HS(t){if(!(bh(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===wh)){if(!t.producerMustRecompute(t)&&!Th(t)){t.dirty=!1,t.lastCleanEpoch=wh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=wh}}function rI(t){return t&&(t.nextProducerIndex=0),pe(t)}function iI(t,e){if(pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(bh(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Dh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Th(t){Pc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(HS(n),r!==n.version))return!0}return!1}function sI(t){if(Pc(t),bh(t))for(let e=0;e<t.producerNode.length;e++)Dh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Dh(t,e){if(zS(t),Pc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Dh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Pc(i),i.producerIndexOfThis[r]=e}}function bh(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Pc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function zS(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function GS(){throw new Error}var WS=GS;function oI(t){WS=t}var GI="https://g.co/ng/security#xss",j=class extends Error{constructor(e,n){super(du(e,n)),this.code=e}};function du(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function po(t){return{toString:t}.toString()}var Oc="__parameters__";function KS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function WI(t,e,n){return po(()=>{let r=KS(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(Oc)?u[Oc]:Object.defineProperty(u,Oc,{value:[]})[Oc];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Vt=globalThis;function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function QS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ut(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ut).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function aI(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var YS=we({__forward_ref__:we});function KI(t){return t.__forward_ref__=KI,t.toString=function(){return ut(this())},t}function ct(t){return QI(t)?t():t}function QI(t){return typeof t=="function"&&t.hasOwnProperty(YS)&&t.__forward_ref__===KI}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function qr(t){return{providers:t.providers||[],imports:t.imports||[]}}function hu(t){return cI(t,JI)||cI(t,ZI)}function YI(t){return hu(t)!==null}function cI(t,e){return t.hasOwnProperty(e)?t[e]:null}function JS(t){let e=t&&(t[JI]||t[ZI]);return e||null}function uI(t){return t&&(t.hasOwnProperty(lI)||t.hasOwnProperty(ZS))?t[lI]:null}var JI=we({\u0275prov:we}),lI=we({\u0275inj:we}),ZI=we({ngInjectableDef:we}),ZS=we({ngInjectorDef:we}),q=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function XI(t){return t&&!!t.\u0275providers}var XS=we({\u0275cmp:we}),eA=we({\u0275dir:we}),tA=we({\u0275pipe:we}),nA=we({\u0275mod:we}),qc=we({\u0275fac:we}),no=we({__NG_ELEMENT_ID__:we}),dI=we({__NG_ENV_ID__:we});function Tn(t){return typeof t=="string"?t:t==null?"":String(t)}function rA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Tn(t)}function iA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new j(-200,t)}function Pf(t,e){throw new j(-201,!1)}var se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(se||{}),$h;function ew(){return $h}function ht(t){let e=$h;return $h=t,e}function tw(t,e,n){let r=hu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&se.Optional)return null;if(e!==void 0)return e;Pf(t,"Injector")}var sA={},ro=sA,qh="__NG_DI_FLAG__",Hc="ngTempTokenPath",oA="ngTokenPath",aA=/\n/gm,cA="\u0275",hI="__source",Fi;function uA(){return Fi}function Zn(t){let e=Fi;return Fi=t,e}function lA(t,e=se.Default){if(Fi===void 0)throw new j(-203,!1);return Fi===null?tw(t,void 0,e):Fi.get(t,e&se.Optional?null:void 0,e)}function H(t,e=se.Default){return(ew()||lA)(ct(t),e)}function O(t,e=se.Default){return H(t,fu(e))}function fu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Hh(t){let e=[];for(let n=0;n<t.length;n++){let r=ct(t[n]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,s=se.Default;for(let o=0;o<r.length;o++){let a=r[o],u=dA(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(H(i,s))}else e.push(H(r))}return e}function nw(t,e){return t[qh]=e,t.prototype[qh]=e,t}function dA(t){return t[qh]}function hA(t,e,n,r){let i=t[Hc];throw e[hI]&&i.unshift(e[hI]),t.message=fA(`
`+t.message,i,n,r),t[oA]=i,t[Hc]=null,t}function fA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==cA?t.slice(2):t;let i=ut(e);if(Array.isArray(e))i=e.map(ut).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ut(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(aA,`
  `)}`}var vt=nw(WI("Optional"),8);var pu=nw(WI("SkipSelf"),4);function Or(t,e){let n=t.hasOwnProperty(qc);return n?t[qc]:null}function Of(t,e){t.forEach(n=>Array.isArray(n)?Of(n,e):e(n))}function rw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function zc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function gA(t,e,n){let r=go(t,e);return r>=0?t[r|1]=n:(r=~r,pA(t,r,e,n)),r}function Ch(t,e){let n=go(t,e);if(n>=0)return t[n|1]}function go(t,e){return mA(t,e,1)}function mA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Vi={},Dt=[],Ui=new q(""),iw=new q("",-1),sw=new q(""),Gc=class{get(e,n=ro){if(n===ro){let r=new Error(`NullInjectorError: No provider for ${ut(e)}!`);throw r.name="NullInjectorError",r}return n}},ow=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ow||{}),en=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(en||{}),Bt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Bt||{});function yA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function zh(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];vA(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function aw(t){return t===3||t===4||t===6}function vA(t){return t.charCodeAt(0)===64}function io(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?fI(t,n,i,null,e[++r]):fI(t,n,i,null,null))}}return t}function fI(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var cw="ng-template";function _A(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&yA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(kf(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function kf(t){return t.type===4&&t.value!==cw}function IA(t,e,n){let r=t.type===4&&!n?cw:t.value;return e===r}function wA(t,e,n){let r=4,i=t.attrs,s=i!==null?DA(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Lt(r)&&!Lt(u))return!1;if(o&&Lt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!IA(t,u,n)||u===""&&e.length===1){if(Lt(r))return!1;o=!0}}else if(r&8){if(i===null||!_A(t,i,u,n)){if(Lt(r))return!1;o=!0}}else{let l=e[++a],h=EA(u,i,kf(t),n);if(h===-1){if(Lt(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Lt(r))return!1;o=!0}}}}return Lt(r)||o}function Lt(t){return(t&1)===0}function EA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return bA(e,t)}function TA(t,e,n=!1){for(let r=0;r<e.length;r++)if(wA(t,e[r],n))return!0;return!1}function DA(t){for(let e=0;e<t.length;e++){let n=t[e];if(aw(n))return e}return t.length}function bA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function pI(t,e){return t?":not("+e.trim()+")":e}function CA(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Lt(o)&&(e+=pI(s,i),i=""),r=o,s=s||!Lt(r);n++}return i!==""&&(e+=pI(s,i)),e}function SA(t){return t.map(CA).join(",")}function AA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Lt(i))break;i=s}r++}return{attrs:e,classes:n}}function uw(t){return po(()=>{let e=pw(t),n=Re(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ow.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||en.Emulated,styles:t.styles||Dt,_:null,schemas:t.schemas||null,tView:null,id:""});gw(n);let r=t.dependencies;return n.directiveDefs=mI(r,!1),n.pipeDefs=mI(r,!0),n.id=MA(n),n})}function RA(t){return Dn(t)||lw(t)}function NA(t){return t!==null}function Hr(t){return po(()=>({type:t.type,bootstrap:t.bootstrap||Dt,declarations:t.declarations||Dt,imports:t.imports||Dt,exports:t.exports||Dt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function gI(t,e){if(t==null)return Vi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Bt.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Bt.None?[r,a]:r,e[s]=o):n[s]=r}return n}function zi(t){return po(()=>{let e=pw(t);return gw(e),e})}function gu(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Dn(t){return t[XS]||null}function lw(t){return t[eA]||null}function dw(t){return t[tA]||null}function hw(t){let e=Dn(t)||lw(t)||dw(t);return e!==null?e.standalone:!1}function fw(t,e){let n=t[nA]||null;if(!n&&e===!0)throw new Error(`Type ${ut(t)} does not have '\u0275mod' property.`);return n}function pw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Vi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Dt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gI(t.inputs,e),outputs:gI(t.outputs),debugInfo:null}}function gw(t){t.features?.forEach(e=>e(t))}function mI(t,e){if(!t)return null;let n=e?dw:RA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(NA)}function MA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function sn(t){return{\u0275providers:t}}function xA(...t){return{\u0275providers:mw(!0,t),\u0275fromNgModule:!0}}function mw(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Of(e,o=>{let a=o;Gh(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&yw(i,s),n}function yw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Ff(i,s=>{e(s,r)})}}function Gh(t,e,n,r){if(t=ct(t),!t)return!1;let i=null,s=uI(t),o=!s&&Dn(t);if(!s&&!o){let u=t.ngModule;if(s=uI(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)Gh(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Of(s.imports,h=>{Gh(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&yw(l,e)}if(!a){let l=Or(i)||(()=>new i);e({provide:i,useFactory:l,deps:Dt},i),e({provide:sw,useValue:i,multi:!0},i),e({provide:Ui,useValue:()=>H(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;Ff(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Ff(t,e){for(let n of t)XI(n)&&(n=n.\u0275providers),Array.isArray(n)?Ff(n,e):e(n)}var PA=we({provide:String,useValue:we});function vw(t){return t!==null&&typeof t=="object"&&PA in t}function OA(t){return!!(t&&t.useExisting)}function kA(t){return!!(t&&t.useFactory)}function ji(t){return typeof t=="function"}function FA(t){return!!t.useClass}var mu=new q(""),Vc={},LA={},Sh;function yu(){return Sh===void 0&&(Sh=new Gc),Sh}var Ye=class{},so=class extends Ye{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kh(e,o=>this.processProvider(o)),this.records.set(iw,xi(void 0,this)),i.has("environment")&&this.records.set(Ye,xi(void 0,this));let s=this.records.get(mu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(sw,Dt,se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Zn(this),r=ht(void 0),i;try{return e()}finally{Zn(n),ht(r)}}get(e,n=ro,r=se.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(dI))return e[dI](this);r=fu(r);let i,s=Zn(this),o=ht(void 0);try{if(!(r&se.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=$A(e)&&hu(e);l&&this.injectableDefInScope(l)?u=xi(Wh(e),Vc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&se.Self?yu():this.parent;return n=r&se.Optional&&n===ro?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Hc]=a[Hc]||[]).unshift(ut(e)),s)throw a;return hA(a,e,"R3InjectorError",this.source)}else throw a}finally{ht(o),Zn(s)}}resolveInjectorInitializers(){let e=pe(null),n=Zn(this),r=ht(void 0),i;try{let s=this.get(Ui,Dt,se.Self);for(let o of s)o()}finally{Zn(n),ht(r),pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){e=ct(e);let n=ji(e)?e:ct(e&&e.provide),r=UA(e);if(!ji(e)&&e.multi===!0){let i=this.records.get(n);i||(i=xi(void 0,Vc,!0),i.factory=()=>Hh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=pe(null);try{return n.value===Vc&&(n.value=LA,n.value=n.factory()),typeof n.value=="object"&&n.value&&BA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ct(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Wh(t){let e=hu(t),n=e!==null?e.factory:Or(t);if(n!==null)return n;if(t instanceof q)throw new j(204,!1);if(t instanceof Function)return VA(t);throw new j(204,!1)}function VA(t){if(t.length>0)throw new j(204,!1);let n=JS(t);return n!==null?()=>n.factory(t):()=>new t}function UA(t){if(vw(t))return xi(void 0,t.useValue);{let e=_w(t);return xi(e,Vc)}}function _w(t,e,n){let r;if(ji(t)){let i=ct(t);return Or(i)||Wh(i)}else if(vw(t))r=()=>ct(t.useValue);else if(kA(t))r=()=>t.useFactory(...Hh(t.deps||[]));else if(OA(t))r=()=>H(ct(t.useExisting));else{let i=ct(t&&(t.useClass||t.provide));if(jA(t))r=()=>new i(...Hh(t.deps));else return Or(i)||Wh(i)}return r}function xi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function jA(t){return!!t.deps}function BA(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function $A(t){return typeof t=="function"||typeof t=="object"&&t instanceof q}function Kh(t,e){for(let n of t)Array.isArray(n)?Kh(n,e):n&&XI(n)?Kh(n.\u0275providers,e):e(n)}function Ht(t,e){t instanceof so&&t.assertNotDestroyed();let n,r=Zn(t),i=ht(void 0);try{return e()}finally{Zn(r),ht(i)}}function Iw(){return ew()!==void 0||uA()!=null}function qA(t){if(!Iw())throw new j(-203,!1)}function HA(t){return typeof t=="function"}var Sn=0,ae=1,Q=2,Je=3,jt=4,zt=5,Wc=6,oo=7,$t=8,Bi=9,qt=10,Fe=11,ao=12,yI=13,Gi=14,tn=15,vu=16,Pi=17,$i=18,_u=19,ww=20,Xn=21,Ah=22,kr=23,Ct=25,Ew=1;var Fr=7,Kc=8,Qc=9,bt=10,Lf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Lf||{});function xr(t){return Array.isArray(t)&&typeof t[Ew]=="object"}function An(t){return Array.isArray(t)&&t[Ew]===!0}function Tw(t){return(t.flags&4)!==0}function Iu(t){return t.componentOffset>-1}function Vf(t){return(t.flags&1)===1}function er(t){return!!t.template}function zA(t){return(t[Q]&512)!==0}var Qh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Dw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function mo(){return bw}function bw(t){return t.type.prototype.ngOnChanges&&(t.setInput=WA),GA}mo.ngInherit=!0;function GA(){let t=Sw(this),e=t?.current;if(e){let n=t.previous;if(n===Vi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function WA(t,e,n,r,i){let s=this.declaredInputs[r],o=Sw(t)||KA(t,{previous:Vi,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new Qh(l&&l.currentValue,n,u===Vi),Dw(t,e,i,n)}var Cw="__ngSimpleChanges__";function Sw(t){return t[Cw]||null}function KA(t,e){return t[Cw]=e}var vI=null;var Zt=function(t,e,n){vI?.(t,e,n)},Aw="svg",QA="math",YA=!1;function JA(){return YA}function nn(t){for(;Array.isArray(t);)t=t[Sn];return t}function Rw(t,e){return nn(e[t])}function St(t,e){return nn(e[t.index])}function Nw(t,e){return t.data[e]}function Uf(t,e){return t[e]}function rr(t,e){let n=e[t];return xr(n)?n:n[Sn]}function jf(t){return(t[Q]&128)===128}function ZA(t){return An(t[Je])}function Yc(t,e){return e==null?null:t[e]}function Mw(t){t[Pi]=0}function XA(t){t[Q]&1024||(t[Q]|=1024,jf(t)&&co(t))}function eR(t,e){for(;t>0;)e=e[Gi],t--;return e}function Bf(t){return!!(t[Q]&9216||t[kr]?.dirty)}function Yh(t){t[qt].changeDetectionScheduler?.notify(1),Bf(t)?co(t):t[Q]&64&&(JA()?(t[Q]|=1024,co(t)):t[qt].changeDetectionScheduler?.notify())}function co(t){t[qt].changeDetectionScheduler?.notify();let e=uo(t);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!jf(e)));)e=uo(e)}function xw(t,e){if((t[Q]&256)===256)throw new j(911,!1);t[Xn]===null&&(t[Xn]=[]),t[Xn].push(e)}function tR(t,e){if(t[Xn]===null)return;let n=t[Xn].indexOf(e);n!==-1&&t[Xn].splice(n,1)}function uo(t){let e=t[Je];return An(e)?e[Je]:e}var ne={lFrame:jw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function nR(){return ne.lFrame.elementDepthCount}function rR(){ne.lFrame.elementDepthCount++}function iR(){ne.lFrame.elementDepthCount--}function Pw(){return ne.bindingsEnabled}function sR(){return ne.skipHydrationRootTNode!==null}function oR(t){return ne.skipHydrationRootTNode===t}function aR(){ne.skipHydrationRootTNode=null}function he(){return ne.lFrame.lView}function ft(){return ne.lFrame.tView}function k4(t){return ne.lFrame.contextLView=t,t[$t]}function F4(t){return ne.lFrame.contextLView=null,t}function pt(){let t=Ow();for(;t!==null&&t.type===64;)t=t.parent;return t}function Ow(){return ne.lFrame.currentTNode}function cR(){let t=ne.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function yo(t,e){let n=ne.lFrame;n.currentTNode=t,n.isParent=e}function kw(){return ne.lFrame.isParent}function uR(){ne.lFrame.isParent=!1}function lR(){return ne.lFrame.contextLView}function wu(){let t=ne.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Fw(){return ne.lFrame.bindingIndex}function dR(t){return ne.lFrame.bindingIndex=t}function Eu(){return ne.lFrame.bindingIndex++}function $f(t){let e=ne.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function hR(){return ne.lFrame.inI18n}function fR(t,e){let n=ne.lFrame;n.bindingIndex=n.bindingRootIndex=t,Jh(e)}function pR(){return ne.lFrame.currentDirectiveIndex}function Jh(t){ne.lFrame.currentDirectiveIndex=t}function gR(t){let e=ne.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Lw(t){ne.lFrame.currentQueryIndex=t}function mR(t){let e=t[ae];return e.type===2?e.declTNode:e.type===1?t[zt]:null}function Vw(t,e,n){if(n&se.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&se.Host);)if(i=mR(s),i===null||(s=s[Gi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ne.lFrame=Uw();return r.currentTNode=e,r.lView=t,!0}function qf(t){let e=Uw(),n=t[ae];ne.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Uw(){let t=ne.lFrame,e=t===null?null:t.child;return e===null?jw(t):e}function jw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Bw(){let t=ne.lFrame;return ne.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var $w=Bw;function Hf(){let t=Bw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function yR(t){return(ne.lFrame.contextLView=eR(t,ne.lFrame.contextLView))[$t]}function ir(){return ne.lFrame.selectedIndex}function Lr(t){ne.lFrame.selectedIndex=t}function zf(){let t=ne.lFrame;return Nw(t.tView,t.selectedIndex)}function L4(){ne.lFrame.currentNamespace=Aw}function V4(){vR()}function vR(){ne.lFrame.currentNamespace=null}function _R(){return ne.lFrame.currentNamespace}var qw=!0;function Gf(){return qw}function Wf(t){qw=t}function IR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=bw(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Kf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Uc(t,e,n){Hw(t,e,3,n)}function jc(t,e,n,r){(t[Q]&3)===n&&Hw(t,e,n,r)}function Rh(t,e){let n=t[Q];(n&3)===e&&(n&=16383,n+=1,t[Q]=n)}function Hw(t,e,n,r){let i=r!==void 0?t[Pi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Pi]+=65536),(a<s||s==-1)&&(wR(t,n,e,u),t[Pi]=(t[Pi]&4294901760)+u+2),u++}function _I(t,e){Zt(4,t,e);let n=pe(null);try{e.call(t)}finally{pe(n),Zt(5,t,e)}}function wR(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[Q]>>14<t[Pi]>>16&&(t[Q]&3)===e&&(t[Q]+=16384,_I(a,s)):_I(a,s)}var Li=-1,Vr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function ER(t){return t instanceof Vr}function TR(t){return(t.flags&8)!==0}function DR(t){return(t.flags&16)!==0}function zw(t){return t!==Li}function Jc(t){return t&32767}function bR(t){return t>>16}function Zc(t,e){let n=bR(t),r=e;for(;n>0;)r=r[Gi],n--;return r}var Zh=!0;function Xc(t){let e=Zh;return Zh=t,e}var CR=256,Gw=CR-1,Ww=5,SR=0,Xt={};function AR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(no)&&(r=n[no]),r==null&&(r=n[no]=SR++);let i=r&Gw,s=1<<i;e.data[t+(i>>Ww)]|=s}function eu(t,e){let n=Kw(t,e);if(n!==-1)return n;let r=e[ae];r.firstCreatePass&&(t.injectorIndex=e.length,Nh(r.data,t),Nh(e,null),Nh(r.blueprint,null));let i=Qf(t,e),s=t.injectorIndex;if(zw(i)){let o=Jc(i),a=Zc(i,e),u=a[ae].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Nh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Kw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Qf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Xw(i),r===null)return Li;if(n++,i=i[Gi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Li}function Xh(t,e,n){AR(t,e,n)}function RR(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(aw(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function Qw(t,e,n){if(n&se.Optional||t!==void 0)return t;Pf(e,"NodeInjector")}function Yw(t,e,n,r){if(n&se.Optional&&r===void 0&&(r=null),!(n&(se.Self|se.Host))){let i=t[Bi],s=ht(void 0);try{return i?i.get(e,r,n&se.Optional):tw(e,r,n&se.Optional)}finally{ht(s)}}return Qw(r,e,n)}function Jw(t,e,n,r=se.Default,i){if(t!==null){if(e[Q]&2048&&!(r&se.Self)){let o=OR(t,e,n,r,Xt);if(o!==Xt)return o}let s=Zw(t,e,n,r,Xt);if(s!==Xt)return s}return Yw(e,n,r,i)}function Zw(t,e,n,r,i){let s=xR(n);if(typeof s=="function"){if(!Vw(e,t,r))return r&se.Host?Qw(i,n,r):Yw(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&se.Optional))Pf(n);else return o}finally{$w()}}else if(typeof s=="number"){let o=null,a=Kw(t,e),u=Li,l=r&se.Host?e[tn][zt]:null;for((a===-1||r&se.SkipSelf)&&(u=a===-1?Qf(t,e):e[a+8],u===Li||!wI(r,!1)?a=-1:(o=e[ae],a=Jc(u),e=Zc(u,e)));a!==-1;){let h=e[ae];if(II(s,a,h.data)){let p=NR(a,e,n,o,r,l);if(p!==Xt)return p}u=e[a+8],u!==Li&&wI(r,e[ae].data[a+8]===l)&&II(s,a,e)?(o=h,a=Jc(u),e=Zc(u,e)):a=-1}}return i}function NR(t,e,n,r,i,s){let o=e[ae],a=o.data[t+8],u=r==null?Iu(a)&&Zh:r!=o&&(a.type&3)!==0,l=i&se.Host&&s===a,h=MR(a,o,n,u,l);return h!==null?qi(e,o,h,a):Xt}function MR(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let v=p;v<m;v++){let C=o[v];if(v<u&&n===C||v>=u&&C.type===n)return v}if(i){let v=o[u];if(v&&er(v)&&v.type===n)return u}return null}function qi(t,e,n,r){let i=t[n],s=e.data;if(ER(i)){let o=i;o.resolving&&iA(rA(s[n]));let a=Xc(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?ht(o.injectImpl):null,h=Vw(t,r,se.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&IR(n,s[n],e)}finally{l!==null&&ht(l),Xc(a),o.resolving=!1,$w()}}return i}function xR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(no)?t[no]:void 0;return typeof e=="number"?e>=0?e&Gw:PR:e}function II(t,e,n){let r=1<<t;return!!(n[e+(t>>Ww)]&r)}function wI(t,e){return!(t&se.Self)&&!(t&se.Host&&e)}var Pr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Jw(this._tNode,this._lView,e,fu(r),n)}};function PR(){return new Pr(pt(),he())}function Yf(t){return po(()=>{let e=t.prototype.constructor,n=e[qc]||ef(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[qc]||ef(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ef(t){return QI(t)?()=>{let e=ef(ct(t));return e&&e()}:Or(t)}function OR(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[Q]&2048&&!(o[Q]&512);){let a=Zw(s,o,n,r|se.Self,Xt);if(a!==Xt)return a;let u=s.parent;if(!u){let l=o[ww];if(l){let h=l.get(n,Xt,r);if(h!==Xt)return h}u=Xw(o),o=o[Gi]}s=u}return i}function Xw(t){let e=t[ae],n=e.type;return n===2?e.declTNode:n===1?t[zt]:null}function Jf(t){return RR(pt(),t)}function EI(t,e=null,n=null,r){let i=eE(t,e,n,r);return i.resolveInjectorInitializers(),i}function eE(t,e=null,n=null,r,i=new Set){let s=[n||Dt,xA(t)];return r=r||(typeof t=="object"?void 0:ut(t)),new so(s,e||yu(),r||null,i)}var At=(()=>{class t{static{this.THROW_IF_NOT_FOUND=ro}static{this.NULL=new Gc}static create(n,r){if(Array.isArray(n))return EI({name:""},r,n,"");{let i=n.name??"";return EI({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=B({token:t,providedIn:"any",factory:()=>H(iw)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();var kR="ngOriginalError";function Mh(t){return t[kR]}var rn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Mh(e);for(;n&&Mh(n);)n=Mh(n);return n||null}},tE=new q("",{providedIn:"root",factory:()=>O(rn).handleError.bind(void 0)}),Zf=(()=>{class t{static{this.__NG_ELEMENT_ID__=FR}static{this.__NG_ENV_ID__=n=>n}}return t})(),tf=class extends Zf{constructor(e){super(),this._lView=e}onDestroy(e){return xw(this._lView,e),()=>tR(this._lView,e)}};function FR(){return new tf(he())}function LR(){return Tu(pt(),he())}function Tu(t,e){return new vo(St(t,e))}var vo=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=LR}}return t})();var nf=class extends Qe{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Iw()&&(this.destroyRef=O(Zf,{optional:!0})??void 0)}emit(e){let n=pe(null);try{super.next(e)}finally{pe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=xh(s),i&&(i=xh(i)),o&&(o=xh(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ce&&e.add(a),a}};function xh(t){return e=>{setTimeout(t,void 0,e)}}var Ut=nf;function nE(t){return(t.flags&128)===128}var rE=new Map,VR=0;function UR(){return VR++}function jR(t){rE.set(t[_u],t)}function BR(t){rE.delete(t[_u])}var TI="__ngContext__";function Ur(t,e){xr(e)?(t[TI]=e[_u],jR(e)):t[TI]=e}function iE(t){return oE(t[ao])}function sE(t){return oE(t[jt])}function oE(t){for(;t!==null&&!An(t);)t=t[jt];return t}var rf;function aE(t){rf=t}function $R(){if(rf!==void 0)return rf;if(typeof document<"u")return document;throw new j(210,!1)}var Xf=new q("",{providedIn:"root",factory:()=>qR}),qR="ng",ep=new q(""),Rt=new q("",{providedIn:"platform",factory:()=>"unknown"});var tp=new q("",{providedIn:"root",factory:()=>$R().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var HR="h",zR="b";var GR=()=>null;function np(t,e,n=!1){return GR(t,e,n)}var cE=!1,WR=new q("",{providedIn:"root",factory:()=>cE});var kc;function KR(){if(kc===void 0&&(kc=null,Vt.trustedTypes))try{kc=Vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return kc}function DI(t){return KR()?.createScriptURL(t)||t}var tu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${GI})`}};function _o(t){return t instanceof tu?t.changingThisBreaksApplicationSecurity:t}function rp(t,e){let n=QR(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${GI})`)}return n===e}function QR(t){return t instanceof tu&&t.getTypeName()||null}var YR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function uE(t){return t=String(t),t.match(YR)?t:"unsafe:"+t}var Du=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Du||{});function JR(t){let e=dE();return e?e.sanitize(Du.URL,t)||"":rp(t,"URL")?_o(t):uE(Tn(t))}function ZR(t){let e=dE();if(e)return DI(e.sanitize(Du.RESOURCE_URL,t)||"");if(rp(t,"ResourceURL"))return DI(_o(t));throw new j(904,!1)}function XR(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?ZR:JR}function lE(t,e,n){return XR(e,n)(t)}function dE(){let t=he();return t&&t[qt].sanitizer}function hE(t){return t instanceof Function?t():t}function eN(t){return(t??O(At)).get(Rt)==="browser"}var bn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(bn||{}),tN;function ip(t,e){return tN(t,e)}function Oi(t,e,n,r,i){if(r!=null){let s,o=!1;An(r)?s=r:xr(r)&&(o=!0,r=r[Sn]);let a=nn(r);t===0&&n!==null?i==null?yE(e,n,a):nu(e,n,a,i||null,!0):t===1&&n!==null?nu(e,n,a,i||null,!0):t===2?vN(e,a,o):t===3&&e.destroyNode(a),s!=null&&IN(e,t,s,n,i)}}function nN(t,e){return t.createText(e)}function rN(t,e,n){t.setValue(e,n)}function fE(t,e,n){return t.createElement(e,n)}function iN(t,e){pE(t,e),e[Sn]=null,e[zt]=null}function sN(t,e,n,r,i,s){r[Sn]=i,r[zt]=e,bu(t,r,n,1,i,s)}function pE(t,e){e[qt].changeDetectionScheduler?.notify(1),bu(t,e,e[Fe],2,null,null)}function oN(t){let e=t[ao];if(!e)return Ph(t[ae],t);for(;e;){let n=null;if(xr(e))n=e[ao];else{let r=e[bt];r&&(n=r)}if(!n){for(;e&&!e[jt]&&e!==t;)xr(e)&&Ph(e[ae],e),e=e[Je];e===null&&(e=t),xr(e)&&Ph(e[ae],e),n=e&&e[jt]}e=n}}function aN(t,e,n,r){let i=bt+r,s=n.length;r>0&&(n[i-1][jt]=e),r<s-bt?(e[jt]=n[i],rw(n,bt+r,e)):(n.push(e),e[jt]=null),e[Je]=n;let o=e[vu];o!==null&&n!==o&&cN(o,e);let a=e[$i];a!==null&&a.insertView(t),Yh(e),e[Q]|=128}function cN(t,e){let n=t[Qc],i=e[Je][Je][tn];e[tn]!==i&&(t[Q]|=Lf.HasTransplantedViews),n===null?t[Qc]=[e]:n.push(e)}function gE(t,e){let n=t[Qc],r=n.indexOf(e);n.splice(r,1)}function sf(t,e){if(t.length<=bt)return;let n=bt+e,r=t[n];if(r){let i=r[vu];i!==null&&i!==t&&gE(i,r),e>0&&(t[n-1][jt]=r[jt]);let s=zc(t,bt+e);iN(r[ae],r);let o=s[$i];o!==null&&o.detachView(s[ae]),r[Je]=null,r[jt]=null,r[Q]&=-129}return r}function mE(t,e){if(!(e[Q]&256)){let n=e[Fe];n.destroyNode&&bu(t,e,n,3,null,null),oN(e)}}function Ph(t,e){if(e[Q]&256)return;let n=pe(null);try{e[Q]&=-129,e[Q]|=256,e[kr]&&sI(e[kr]),lN(t,e),uN(t,e),e[ae].type===1&&e[Fe].destroy();let r=e[vu];if(r!==null&&An(e[Je])){r!==e[Je]&&gE(r,e);let i=e[$i];i!==null&&i.detachView(t)}BR(e)}finally{pe(n)}}function uN(t,e){let n=t.cleanup,r=e[oo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[oo]=null);let i=e[Xn];if(i!==null){e[Xn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function lN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Vr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];Zt(4,a,u);try{u.call(a)}finally{Zt(5,a,u)}}else{Zt(4,i,s);try{s.call(i)}finally{Zt(5,i,s)}}}}}function dN(t,e,n){return hN(t,e.parent,n)}function hN(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Sn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===en.None||s===en.Emulated)return null}return St(r,n)}}function nu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function yE(t,e,n){t.appendChild(e,n)}function bI(t,e,n,r,i){r!==null?nu(t,e,n,r,i):yE(t,e,n)}function fN(t,e,n,r){t.removeChild(e,n,r)}function sp(t,e){return t.parentNode(e)}function pN(t,e){return t.nextSibling(e)}function gN(t,e,n){return yN(t,e,n)}function mN(t,e,n){return t.type&40?St(t,n):null}var yN=mN,CI;function op(t,e,n,r){let i=dN(t,r,e),s=e[Fe],o=r.parent||e[zt],a=gN(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)bI(s,i,n[u],a,!1);else bI(s,i,n,a,!1);CI!==void 0&&CI(s,r,e,n,i)}function Bc(t,e){if(e!==null){let n=e.type;if(n&3)return St(e,t);if(n&4)return of(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Bc(t,r);{let i=t[e.index];return An(i)?of(-1,i):nn(i)}}else{if(n&32)return ip(e,t)()||nn(t[e.index]);{let r=vE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=uo(t[tn]);return Bc(i,r)}else return Bc(t,e.next)}}}return null}function vE(t,e){if(e!==null){let r=t[tn][zt],i=e.projection;return r.projection[i]}return null}function of(t,e){let n=bt+t+1;if(n<e.length){let r=e[n],i=r[ae].firstChild;if(i!==null)return Bc(r,i)}return e[Fr]}function vN(t,e,n){let r=sp(t,e);r&&fN(t,r,e,n)}function ap(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],u=n.type;if(o&&e===0&&(a&&Ur(nn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)ap(t,e,n.child,r,i,s,!1),Oi(e,t,i,a,s);else if(u&32){let l=ip(n,r),h;for(;h=l();)Oi(e,t,i,h,s);Oi(e,t,i,a,s)}else u&16?_N(t,e,r,n,i,s):Oi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function bu(t,e,n,r,i,s){ap(n,r,t.firstChild,e,i,s,!1)}function _N(t,e,n,r,i,s){let o=n[tn],u=o[zt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Oi(e,t,i,h,s)}else{let l=u,h=o[Je];nE(r)&&(l.flags|=128),ap(t,e,l,h,i,s,!0)}}function IN(t,e,n,r,i){let s=n[Fr],o=nn(n);s!==o&&Oi(e,t,r,s,i);for(let a=bt;a<n.length;a++){let u=n[a];bu(u[ae],u,t,e,r,s)}}function wN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:bn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=bn.Important),t.setStyle(n,r,i,s))}}function EN(t,e,n){t.setAttribute(e,"style",n)}function _E(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function IE(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&zh(t,e,r),i!==null&&_E(t,e,i),s!==null&&EN(t,e,s)}var Nt={};function U4(t=1){wE(ft(),he(),ir()+t,!1)}function wE(t,e,n,r){if(!r)if((e[Q]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Uc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&jc(e,s,0,n)}Lr(n)}function Le(t,e=se.Default){let n=he();if(n===null)return H(t,e);let r=pt();return Jw(r,n,ct(t),e)}function EE(){let t="invalid";throw new Error(t)}function TE(t,e,n,r,i,s){let o=pe(null);try{let a=null;i&Bt.SignalBased&&(a=e[r][Eh]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Bt.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):Dw(e,a,r,s)}finally{pe(o)}}function TN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Lr(~i);else{let s=i,o=n[++r],a=n[++r];fR(o,s);let u=e[s];a(2,u)}}}finally{Lr(-1)}}function Cu(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[Sn]=i,p[Q]=r|4|128|8|64,(l!==null||t&&t[Q]&2048)&&(p[Q]|=2048),Mw(p),p[Je]=p[Gi]=t,p[$t]=n,p[qt]=o||t&&t[qt],p[Fe]=a||t&&t[Fe],p[Bi]=u||t&&t[Bi]||null,p[zt]=s,p[_u]=UR(),p[Wc]=h,p[ww]=l,p[tn]=e.type==2?t[tn]:p,p}function Su(t,e,n,r,i){let s=t.data[e];if(s===null)s=DN(t,e,n,r,i),hR()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=cR();s.injectorIndex=o===null?-1:o.injectorIndex}return yo(s,!0),s}function DN(t,e,n,r,i){let s=Ow(),o=kw(),a=o?s:s&&s.parent,u=t.data[e]=RN(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function DE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function bE(t,e,n,r,i){let s=ir(),o=r&2;try{Lr(-1),o&&e.length>Ct&&wE(t,e,Ct,!1),Zt(o?2:0,i),n(r,i)}finally{Lr(s),Zt(o?3:1,i)}}function CE(t,e,n){if(Tw(e)){let r=pe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{pe(r)}}}function SE(t,e,n){Pw()&&(kN(t,e,n,St(n,e)),(n.flags&64)===64&&PE(t,e,n))}function AE(t,e,n=St){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function RE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=cp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function cp(t,e,n,r,i,s,o,a,u,l,h){let p=Ct+r,m=p+i,v=bN(p,m),C=typeof l=="function"?l():l;return v[ae]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function bN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Nt);return n}function CN(t,e,n,r){let s=r.get(WR,cE)||n===en.ShadowDom,o=t.selectRootElement(e,s);return SN(o),o}function SN(t){AN(t)}var AN=()=>null;function RN(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return sR()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function SI(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Bt.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?AI(r,n,l,a,u):AI(r,n,l,a)}return r}function AI(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function NN(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=n?n.get(p):null,v=m?m.inputs:null,C=m?m.outputs:null;u=SI(0,p.inputs,h,u,v),l=SI(1,p.outputs,h,l,C);let N=u!==null&&o!==null&&!kf(e)?GN(u,h,o):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function MN(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function NE(t,e,n,r,i,s,o,a){let u=St(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(up(t,n,h,r,i),Iu(e)&&xN(n,e.index)):e.type&3?(r=MN(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function xN(t,e){let n=rr(e,t);n[Q]&16||(n[Q]|=64)}function ME(t,e,n,r){if(Pw()){let i=r===null?null:{"":-1},s=LN(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&xE(t,e,n,o,i,a),i&&VN(n,r,i)}n.mergedAttrs=io(n.mergedAttrs,n.attrs)}function xE(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Xh(eu(n,e),t,r[l].type);jN(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=DE(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=io(n.mergedAttrs,h.hostAttrs),BN(t,n,e,u,h),UN(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}NN(t,n,s)}function PN(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;ON(o)!=a&&o.push(a),o.push(n,r,s)}}function ON(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function kN(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Iu(n)&&$N(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||eu(n,e),Ur(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=qi(e,t,a,n);if(Ur(l,e),o!==null&&zN(e,a-i,l,u,n,o),er(u)){let h=rr(n.index,e);h[$t]=qi(e,t,a,n)}}}function PE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=pR();try{Lr(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Jh(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&FN(u,l)}}finally{Lr(-1),Jh(o)}}function FN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function LN(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(TA(e,o.selectors,!1))if(r||(r=[]),er(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;af(t,e,u)}else r.unshift(o),af(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function af(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function VN(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new j(-301,!1);r.push(e[i],s)}}}function UN(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;er(e)&&(n[""]=t)}}function jN(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function BN(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Or(i.type,!0)),o=new Vr(s,er(i),Le);t.blueprint[r]=o,n[r]=o,PN(t,e,r,DE(t,n,i.hostVars,Nt),i)}function $N(t,e,n){let r=St(e,t),i=RE(n),s=t[qt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Au(t,Cu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function qN(t,e,n,r,i,s){let o=St(t,e);HN(e[Fe],o,s,t.value,n,r,i)}function HN(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Tn(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function zN(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];TE(r,n,u,l,h,p)}}function GN(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function OE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function kE(t,e){let n=t.contentQueries;if(n!==null){let r=pe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Lw(s),a.contentQueries(2,e[o],o)}}}finally{pe(r)}}}function Au(t,e){return t[ao]?t[yI][jt]=e:t[ao]=e,t[yI]=e,e}function cf(t,e,n){Lw(0);let r=pe(null);try{e(t,n)}finally{pe(r)}}function WN(t){return t[oo]||(t[oo]=[])}function KN(t){return t.cleanup||(t.cleanup=[])}function FE(t,e){let n=t[Bi],r=n?n.get(rn,null):null;r&&r.handleError(e)}function up(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];TE(h,l,r,a,u,i)}}function lp(t,e,n){let r=Rw(e,t);rN(t[Fe],r,n)}function QN(t,e){let n=rr(e,t),r=n[ae];YN(r,n);let i=n[Sn];i!==null&&n[Wc]===null&&(n[Wc]=np(i,n[Bi])),dp(r,n,n[$t])}function YN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function dp(t,e,n){qf(e);try{let r=t.viewQuery;r!==null&&cf(1,r,n);let i=t.template;i!==null&&bE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[$i]?.finishViewCreation(t),t.staticContentQueries&&kE(t,e),t.staticViewQueries&&cf(2,t.viewQuery,n);let s=t.components;s!==null&&JN(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Q]&=-5,Hf()}}function JN(t,e){for(let n=0;n<e.length;n++)QN(t,e[n])}function ZN(t,e,n,r){let i=pe(null);try{let s=e.tView,a=t[Q]&4096?4096:16,u=Cu(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[vu]=l;let h=t[$i];return h!==null&&(u[$i]=h.createEmbeddedView(s)),dp(s,u,n),u}finally{pe(i)}}function RI(t,e){return!e||e.firstChild===null||nE(t)}function XN(t,e,n,r=!0){let i=e[ae];if(aN(i,e,t,n),r){let o=of(n,t),a=e[Fe],u=sp(a,t[Fr]);u!==null&&sN(i,t[zt],a,e,u,o)}let s=e[Wc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function ru(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(nn(s)),An(s)&&eM(s,r);let o=n.type;if(o&8)ru(t,e,n.child,r);else if(o&32){let a=ip(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=vE(e,n);if(Array.isArray(a))r.push(...a);else{let u=uo(e[tn]);ru(u[ae],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function eM(t,e){for(let n=bt;n<t.length;n++){let r=t[n],i=r[ae].firstChild;i!==null&&ru(r[ae],r,i,e)}t[Fr]!==t[Sn]&&e.push(t[Fr])}var LE=[];function tM(t){return t[kr]??nM(t)}function nM(t){let e=LE.pop()??Object.create(iM);return e.lView=t,e}function rM(t){t.lView[kr]!==t&&(t.lView=null,LE.push(t))}var iM=Re(U({},nI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{co(t.lView)},consumerOnSignalRead(){this.lView[kr]=this}}),VE=100;function UE(t,e=!0,n=0){let r=t[qt],i=r.rendererFactory,s=!1;s||i.begin?.();try{sM(t,n)}catch(o){throw e&&FE(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function sM(t,e){uf(t,e);let n=0;for(;Bf(t);){if(n===VE)throw new j(103,!1);n++,uf(t,1)}}function oM(t,e,n,r){let i=e[Q];if((i&256)===256)return;let s=!1;!s&&e[qt].inlineEffectRunner?.flush(),qf(e);let o=null,a=null;!s&&aM(t)&&(a=tM(e),o=rI(a));try{Mw(e),dR(t.bindingStartIndex),n!==null&&bE(t,e,n,2,r);let u=(i&3)===3;if(!s)if(u){let p=t.preOrderCheckHooks;p!==null&&Uc(e,p,null)}else{let p=t.preOrderHooks;p!==null&&jc(e,p,0,null),Rh(e,0)}if(cM(e),jE(e,0),t.contentQueries!==null&&kE(t,e),!s)if(u){let p=t.contentCheckHooks;p!==null&&Uc(e,p)}else{let p=t.contentHooks;p!==null&&jc(e,p,1),Rh(e,1)}TN(t,e);let l=t.components;l!==null&&$E(e,l,0);let h=t.viewQuery;if(h!==null&&cf(2,h,r),!s)if(u){let p=t.viewCheckHooks;p!==null&&Uc(e,p)}else{let p=t.viewHooks;p!==null&&jc(e,p,2),Rh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Ah]){for(let p of e[Ah])p();e[Ah]=null}s||(e[Q]&=-73)}catch(u){throw co(e),u}finally{a!==null&&(iI(a,o),rM(a)),Hf()}}function aM(t){return t.type!==2}function jE(t,e){for(let n=iE(t);n!==null;n=sE(n))for(let r=bt;r<n.length;r++){let i=n[r];BE(i,e)}}function cM(t){for(let e=iE(t);e!==null;e=sE(e)){if(!(e[Q]&Lf.HasTransplantedViews))continue;let n=e[Qc];for(let r=0;r<n.length;r++){let i=n[r],s=i[Je];XA(i)}}}function uM(t,e,n){let r=rr(e,t);BE(r,n)}function BE(t,e){jf(t)&&uf(t,e)}function uf(t,e){let r=t[ae],i=t[Q],s=t[kr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Th(s)),s&&(s.dirty=!1),t[Q]&=-9217,o)oM(r,t,r.template,t[$t]);else if(i&8192){jE(t,1);let a=r.components;a!==null&&$E(t,a,1)}}function $E(t,e,n){for(let r=0;r<e.length;r++)uM(t,e[r],n)}function hp(t){for(t[qt].changeDetectionScheduler?.notify();t;){t[Q]|=64;let e=uo(t);if(zA(t)&&!e)return t;t=e}return null}var jr=class{get rootNodes(){let e=this._lView,n=e[ae];return ru(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$t]}set context(e){this._lView[$t]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Je];if(An(e)){let n=e[Kc],r=n?n.indexOf(this):-1;r>-1&&(sf(e,r),zc(n,r))}this._attachedToViewContainer=!1}mE(this._lView[ae],this._lView)}onDestroy(e){xw(this._lView,e)}markForCheck(){hp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Q]&=-129}reattach(){Yh(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,UE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,pE(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e,Yh(this._lView)}},Ru=(()=>{class t{static{this.__NG_ELEMENT_ID__=hM}}return t})(),lM=Ru,dM=class extends lM{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=ZN(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new jr(i)}};function hM(){return qE(pt(),he())}function qE(t,e){return t.type&4?new dM(e,t,Tu(t,e)):null}var B4=new RegExp(`^(\\d+)*(${zR}|${HR})*(.*)`);var fM=()=>null;function NI(t,e){return fM(t,e)}var iu=class{},lf=class{},su=class{};function pM(t){let e=Error(`No component factory found for ${ut(t)}.`);return e[gM]=t,e}var gM="ngComponent";var df=class{resolveComponentFactory(e){throw pM(e)}},Nu=(()=>{class t{static{this.NULL=new df}}return t})(),lo=class{},Mu=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>mM()}}return t})();function mM(){let t=he(),e=pt(),n=rr(e.index,t);return(xr(n)?n:t)[Fe]}var yM=(()=>{class t{static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>null})}}return t})(),Oh={};var MI=new Set;function xu(t){MI.has(t)||(MI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function xI(...t){}function vM(){let t=typeof Vt.requestAnimationFrame=="function",e=Vt[t?"requestAnimationFrame":"setTimeout"],n=Vt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var me=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ut(!1),this.onMicrotaskEmpty=new Ut(!1),this.onStable=new Ut(!1),this.onError=new Ut(!1),typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=vM().nativeRequestAnimationFrame,wM(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,_M,xI,xI);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},_M={};function fp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function IM(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Vt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,hf(t),t.isCheckStableRunning=!0,fp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),hf(t))}function wM(t){let e=()=>{IM(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(EM(a))return n.invokeTask(i,s,o,a);try{return PI(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),OI(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return PI(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),OI(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,hf(t),fp(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function hf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function PI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function OI(t){t._nesting--,fp(t)}function EM(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var ki=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ki||{}),TM={destroy(){}};function Pu(t,e){!e&&qA(Pu);let n=e?.injector??O(At);if(!eN(n))return TM;xu("NgAfterNextRender");let r=n.get(pp),i=r.handler??=new pf,s=e?.phase??ki.MixedReadWrite,o=()=>{i.unregister(u),a()},a=n.get(Zf).onDestroy(o),u=Ht(n,()=>new ff(s,()=>{o(),t()}));return i.register(u),{destroy:o}}var ff=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=O(me),this.errorHandler=O(rn,{optional:!0}),O(iu,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},pf=class{constructor(){this.executingCallbacks=!1,this.buckets={[ki.EarlyRead]:new Set,[ki.Write]:new Set,[ki.MixedReadWrite]:new Set,[ki.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},pp=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>new t})}}return t})();function gf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=aI(i,a);else if(s==2){let u=a,l=e[++o];r=aI(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ou=class extends Nu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Dn(e);return new Br(n,this.ngModule)}};function kI(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function DM(t){let e=t.toLowerCase();return e==="svg"?Aw:e==="math"?QA:null}var mf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=fu(r);let i=this.injector.get(e,Oh,r);return i!==Oh||n===Oh?i:this.parentInjector.get(e,n,r)}},Br=class extends su{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=kI(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return kI(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=SA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=pe(null);try{i=i||this.ngModule;let o=i instanceof Ye?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new mf(e,o):e,u=a.get(lo,null);if(u===null)throw new j(407,!1);let l=a.get(yM,null),h=a.get(pp,null),p=a.get(iu,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},v=u.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",N=r?CN(v,r,this.componentDef.encapsulation,a):fE(v,C,DM(C)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let P=null;N!==null&&(P=np(N,a,!0));let $=cp(0,null,null,1,0,null,null,null,null,null,null),L=Cu(null,$,null,R,null,null,m,v,a,null,P);qf(L);let J,_e;try{let Z=this.componentDef,E,y=null;Z.findHostDirectiveDefs?(E=[],y=new Map,Z.findHostDirectiveDefs(Z,E,y),E.push(Z)):E=[Z];let _=bM(L,N),w=CM(_,N,Z,E,L,m,v);_e=Nw($,Ct),N&&RM(v,Z,N,r),n!==void 0&&NM(_e,this.ngContentSelectors,n),J=AM(w,Z,E,y,L,[MM]),dp($,L,null)}finally{Hf()}return new yf(this.componentType,J,Tu(_e,L),L,_e)}finally{pe(s)}}},yf=class extends lf{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new jr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;up(s[ae],s,i,e,n),this.previousInputValues.set(e,n);let o=rr(this._tNode.index,s);hp(o)}}get injector(){return new Pr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function bM(t,e){let n=t[ae],r=Ct;return t[r]=e,Su(n,r,2,"#host",null)}function CM(t,e,n,r,i,s,o){let a=i[ae];SM(r,t,e,o);let u=null;e!==null&&(u=np(e,i[Bi]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Cu(i,RE(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&af(a,t,r.length-1),Au(i,p),i[t.index]=p}function SM(t,e,n,r){for(let i of t)e.mergedAttrs=io(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(gf(e,e.mergedAttrs,!0),n!==null&&IE(r,n,e))}function AM(t,e,n,r,i,s){let o=pt(),a=i[ae],u=St(o,i);xE(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,m=qi(i,a,p,o);Ur(m,i)}PE(a,i,o),u&&Ur(u,i);let l=qi(i,a,o.directiveStart+o.componentOffset,o);if(t[$t]=i[$t]=l,s!==null)for(let h of s)h(l,e);return CE(a,o,i),l}function RM(t,e,n,r){if(r)zh(t,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:s}=AA(e.selectors[0]);i&&zh(t,n,i),s&&s.length>0&&_E(t,n,s.join(" "))}}function NM(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function MM(){let t=pt();Kf(he()[ae],t)}var Wi=(()=>{class t{static{this.__NG_ELEMENT_ID__=xM}}return t})();function xM(){let t=pt();return OM(t,he())}var PM=Wi,HE=class extends PM{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Tu(this._hostTNode,this._hostLView)}get injector(){return new Pr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Qf(this._hostTNode,this._hostLView);if(zw(e)){let n=Zc(e,this._hostLView),r=Jc(e),i=n[ae].data[r+8];return new Pr(i,n)}else return new Pr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=FI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-bt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=NI(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,RI(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!HA(e),a;if(o)a=n;else{let C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}let u=o?e:new Br(Dn(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let N=(o?l:this.parentInjector).get(Ye,null);N&&(s=N)}let h=Dn(u.componentType??{}),p=NI(this._lContainer,h?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,s);return this.insertImpl(v.hostView,a,RI(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(ZA(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Je],l=new HE(u,u[zt],u[Je]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return XN(o,i,s,r),e.attachToViewContainerRef(),rw(kh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=FI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=sf(this._lContainer,n);r&&(zc(kh(this._lContainer),n),mE(r[ae],r))}detach(e){let n=this._adjustIndex(e,-1),r=sf(this._lContainer,n);return r&&zc(kh(this._lContainer),n)!=null?new jr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function FI(t){return t[Kc]}function kh(t){return t[Kc]||(t[Kc]=[])}function OM(t,e){let n,r=e[t.index];return An(r)?n=r:(n=OE(r,e,null,t),e[t.index]=n,Au(e,n)),FM(n,e,t,r),new HE(n,t,e)}function kM(t,e){let n=t[Fe],r=n.createComment(""),i=St(e,t),s=sp(n,i);return nu(n,s,r,pN(n,i),!1),r}var FM=UM,LM=()=>!1;function VM(t,e,n){return LM(t,e,n)}function UM(t,e,n,r){if(t[Fr])return;let i;n.type&8?i=nn(r):i=kM(e,n),t[Fr]=i}function jM(t){return typeof t=="function"&&t[Eh]!==void 0}function zE(t){return jM(t)&&typeof t.set=="function"}function BM(t){return Object.getPrototypeOf(t.prototype).constructor}function $M(t){let e=BM(t.type),n=!0,r=[t];for(;e;){let i;if(er(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Fc(t.inputs),o.inputTransforms=Fc(t.inputTransforms),o.declaredInputs=Fc(t.declaredInputs),o.outputs=Fc(t.outputs);let a=i.hostBindings;a&&WM(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&zM(t,u),l&&GM(t,l),qM(t,i),QS(t.outputs,i.outputs),er(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===$M&&(n=!1)}}e=Object.getPrototypeOf(e)}HM(r)}function qM(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function HM(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=io(i.hostAttrs,n=io(n,i.hostAttrs))}}function Fc(t){return t===Vi?{}:t===Dt?[]:t}function zM(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function GM(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function WM(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function gp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var tr=class{},ho=class{};var vf=class extends tr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ou(this);let i=fw(e);this._bootstrapComponents=hE(i.bootstrap),this._r3Injector=eE(e,n,[{provide:tr,useValue:this},{provide:Nu,useValue:this.componentFactoryResolver},...r],ut(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},_f=class extends ho{constructor(e){super(),this.moduleType=e}create(e){return new vf(this.moduleType,e,[])}};var au=class extends tr{constructor(e){super(),this.componentFactoryResolver=new ou(this),this.instance=null;let n=new so([...e.providers,{provide:tr,useValue:this},{provide:Nu,useValue:this.componentFactoryResolver}],e.parent||yu(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ou(t,e,n=null){return new au({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var zr=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new qe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function GE(t){return mp(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function KM(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function mp(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function yp(t,e,n){return t[e]=n}function QM(t,e){return t[e]}function Cn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function vp(t,e,n,r){let i=Cn(t,e,n);return Cn(t,e+1,r)||i}function YM(t,e,n,r,i){let s=vp(t,e,n,r);return Cn(t,e+2,i)||s}function JM(t){return(t.flags&32)===32}function ZM(t,e,n,r,i,s,o,a,u){let l=e.consts,h=Su(e,t,4,o||null,Yc(l,a));ME(e,n,h,Yc(l,u)),Kf(e,h);let p=h.tView=cp(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function XM(t,e,n,r,i,s,o,a){let u=he(),l=ft(),h=t+Ct,p=l.firstCreatePass?ZM(h,l,u,e,n,r,i,s,o):l.data[h];yo(p,!1);let m=ex(l,u,p,t);Gf()&&op(l,u,m,p),Ur(m,u);let v=OE(m,u,m,p);return u[h]=v,Au(u,v),VM(v,p,u),Vf(p)&&SE(l,u,p),o!=null&&AE(u,p,a),XM}var ex=tx;function tx(t,e,n,r){return Wf(!0),e[Fe].createComment("")}function _p(t,e,n,r){let i=he(),s=Eu();if(Cn(i,s,e)){let o=ft(),a=zf();qN(a,i,t,e,n,r)}return _p}function nx(t,e,n,r){return Cn(t,Eu(),n)?e+Tn(n)+r:Nt}function rx(t,e,n,r,i,s){let o=Fw(),a=vp(t,o,n,i);return $f(2),a?e+Tn(n)+r+Tn(i)+s:Nt}function ix(t,e,n,r,i,s,o,a){let u=Fw(),l=YM(t,u,n,i,o);return $f(3),l?e+Tn(n)+r+Tn(i)+s+Tn(o)+a:Nt}function Lc(t,e){return t<<17|e<<2}function $r(t){return t>>17&32767}function sx(t){return(t&2)==2}function ox(t,e){return t&131071|e<<17}function If(t){return t|2}function Hi(t){return(t&131068)>>2}function Fh(t,e){return t&-131069|e<<2}function ax(t){return(t&1)===1}function wf(t){return t|1}function cx(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=$r(o),u=Hi(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||go(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=$r(t[a+1]);t[r+1]=Lc(m,a),m!==0&&(t[m+1]=Fh(t[m+1],r)),t[a+1]=ox(t[a+1],r)}else t[r+1]=Lc(a,0),a!==0&&(t[a+1]=Fh(t[a+1],r)),a=r;else t[r+1]=Lc(u,0),a===0?a=r:t[u+1]=Fh(t[u+1],r),u=r;l&&(t[r+1]=If(t[r+1])),LI(t,h,r,!0),LI(t,h,r,!1),ux(e,h,t,r,s),o=Lc(a,u),s?e.classBindings=o:e.styleBindings=o}function ux(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&go(s,e)>=0&&(n[r+1]=wf(n[r+1]))}function LI(t,e,n,r){let i=t[n+1],s=e===null,o=r?$r(i):Hi(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];lx(u,e)&&(a=!0,t[o+1]=r?wf(l):If(l)),o=r?$r(l):Hi(l)}a&&(t[n+1]=r?If(i):wf(i))}function lx(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?go(t,e)>=0:!1}function dx(t,e,n){let r=he(),i=Eu();if(Cn(r,i,e)){let s=ft(),o=zf();NE(s,o,r,t,e,r[Fe],n,!1)}return dx}function VI(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";up(t,n,s[o],o,r)}function hx(t,e){return fx(t,e,null,!0),hx}function fx(t,e,n,r){let i=he(),s=ft(),o=$f(2);if(s.firstUpdatePass&&gx(s,t,o,r),e!==Nt&&Cn(i,o,e)){let a=s.data[ir()];Ix(s,a,i,i[Fe],t,i[o+1]=wx(e,n),r,o)}}function px(t,e){return e>=t.expandoStartIndex}function gx(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[ir()],o=px(t,n);Ex(s,r)&&e===null&&!o&&(e=!1),e=mx(i,s,e,r),cx(i,s,e,n,o,r)}}function mx(t,e,n,r){let i=gR(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Lh(null,t,e,n,r),n=fo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Lh(i,t,e,n,r),s===null){let u=yx(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Lh(null,t,e,u[1],r),u=fo(u,e.attrs,r),vx(t,e,r,u))}else s=_x(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function yx(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Hi(r)!==0)return t[$r(r)]}function vx(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[$r(i)]=r}function _x(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=fo(r,o,n)}return fo(r,e.attrs,n)}function Lh(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=fo(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function fo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),gA(t,o,n?!0:e[++s]))}return t===void 0?null:t}function Ix(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=ax(l)?UI(u,e,n,i,Hi(l),o):void 0;if(!cu(h)){cu(s)||sx(l)&&(s=UI(u,null,n,i,a,o));let p=Rw(ir(),n);wN(r,o,p,i,s)}}function UI(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Nt&&(m=p?Dt:void 0);let v=p?Ch(m,r):h===r?m:void 0;if(l&&!cu(v)&&(v=Ch(u,r)),cu(v)&&(a=v,o))return a;let C=t[i+1];i=o?$r(C):Hi(C)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Ch(u,r))}return a}function cu(t){return t!==void 0}function wx(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ut(_o(t)))),t}function Ex(t,e){return(t.flags&(e?8:16))!==0}function Tx(t,e,n,r,i,s){let o=e.consts,a=Yc(o,i),u=Su(e,t,2,r,a);return ME(e,n,u,Yc(o,s)),u.attrs!==null&&gf(u,u.attrs,!1),u.mergedAttrs!==null&&gf(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function WE(t,e,n,r){let i=he(),s=ft(),o=Ct+t,a=i[Fe],u=s.firstCreatePass?Tx(o,s,i,e,n,r):s.data[o],l=Dx(s,i,u,a,e,t);i[o]=l;let h=Vf(u);return yo(u,!0),IE(a,l,u),!JM(u)&&Gf()&&op(s,i,l,u),nR()===0&&Ur(l,i),rR(),h&&(SE(s,i,u),CE(s,u,i)),r!==null&&AE(i,u),WE}function KE(){let t=pt();kw()?uR():(t=t.parent,yo(t,!1));let e=t;oR(e)&&aR(),iR();let n=ft();return n.firstCreatePass&&(Kf(n,t),Tw(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&TR(e)&&VI(n,e,he(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&DR(e)&&VI(n,e,he(),e.stylesWithoutHost,!1),KE}function Ip(t,e,n,r){return WE(t,e,n,r),KE(),Ip}var Dx=(t,e,n,r,i,s)=>(Wf(!0),fE(r,i,_R()));function q4(){return he()}var Mr=void 0;function bx(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var Cx=["en",[["a","p"],["AM","PM"],Mr],[["AM","PM"],Mr,Mr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mr,"{1} 'at' {0}",Mr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",bx],Vh={};function ku(t){let e=Sx(t),n=jI(e);if(n)return n;let r=e.split("-")[0];if(n=jI(r),n)return n;if(r==="en")return Cx;throw new j(701,!1)}function jI(t){return t in Vh||(Vh[t]=Vt.ng&&Vt.ng.common&&Vt.ng.common.locales&&Vt.ng.common.locales[t]),Vh[t]}var Gr=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Gr||{});function Sx(t){return t.toLowerCase().replace(/_/g,"-")}var uu="en-US",Ax="USD";var Rx=uu;function Nx(t){typeof t=="string"&&(Rx=t.toLowerCase().replace(/_/g,"-"))}function wp(t,e,n,r){let i=he(),s=ft(),o=pt();return QE(s,i,i[Fe],o,t,e,r),wp}function Mx(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[oo],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function QE(t,e,n,r,i,s,o){let a=Vf(r),l=t.firstCreatePass&&KN(t),h=e[$t],p=WN(e),m=!0;if(r.type&3||o){let N=St(r,e),R=o?o(N):N,P=p.length,$=o?J=>o(nn(J[r.index])):r.index,L=null;if(!o&&a&&(L=Mx(t,e,i,r.index)),L!==null){let J=L.__ngLastListenerFn__||L;J.__ngNextListenerFn__=s,L.__ngLastListenerFn__=s,m=!1}else{s=$I(r,e,h,s,!1);let J=n.listen(R,i,s);p.push(s,J),l&&l.push(i,$,P,P+1)}}else s=$I(r,e,h,s,!1);let v=r.outputs,C;if(m&&v!==null&&(C=v[i])){let N=C.length;if(N)for(let R=0;R<N;R+=2){let P=C[R],$=C[R+1],_e=e[P][$].subscribe(s),Z=p.length;p.push(s,_e),l&&l.push(i,r.index,Z,-(Z+1))}}}function BI(t,e,n,r){let i=pe(null);try{return Zt(6,e,n),n(r)!==!1}catch(s){return FE(t,s),!1}finally{Zt(7,e,n),pe(i)}}function $I(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?rr(t.index,e):e;hp(a);let u=BI(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)u=BI(e,n,l,o)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&o.preventDefault(),u}}function H4(t=1){return yR(t)}function xx(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function z4(t){let e=lR();return Uf(e,Ct+t)}function G4(t,e=""){let n=he(),r=ft(),i=t+Ct,s=r.firstCreatePass?Su(r,i,1,e,null):r.data[i],o=Px(r,n,s,e,t);n[i]=o,Gf()&&op(r,n,o,s),yo(s,!1)}var Px=(t,e,n,r,i)=>(Wf(!0),nN(e[Fe],r));function Ox(t){return YE("",t,""),Ox}function YE(t,e,n){let r=he(),i=nx(r,t,e,n);return i!==Nt&&lp(r,ir(),i),YE}function kx(t,e,n,r,i){let s=he(),o=rx(s,t,e,n,r,i);return o!==Nt&&lp(s,ir(),o),kx}function Fx(t,e,n,r,i,s,o){let a=he(),u=ix(a,t,e,n,r,i,s,o);return u!==Nt&&lp(a,ir(),u),Fx}function Lx(t,e,n){zE(e)&&(e=e());let r=he(),i=Eu();if(Cn(r,i,e)){let s=ft(),o=zf();NE(s,o,r,t,e,r[Fe],n,!1)}return Lx}function W4(t,e){let n=zE(t);return n&&t.set(e),n}function Vx(t,e){let n=he(),r=ft(),i=pt();return QE(r,n,n[Fe],i,t,e),Vx}function Ux(t,e,n){let r=ft();if(r.firstCreatePass){let i=er(t);Ef(n,r.data,r.blueprint,i,!0),Ef(e,r.data,r.blueprint,i,!1)}}function Ef(t,e,n,r,i){if(t=ct(t),Array.isArray(t))for(let s=0;s<t.length;s++)Ef(t[s],e,n,r,i);else{let s=ft(),o=he(),a=pt(),u=ji(t)?t:ct(t.provide),l=_w(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(ji(t)||!t.multi){let v=new Vr(l,i,Le),C=jh(u,e,i?h:h+m,p);C===-1?(Xh(eu(a,o),s,u),Uh(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),o.push(v)):(n[C]=v,o[C]=v)}else{let v=jh(u,e,h+m,p),C=jh(u,e,h,h+m),N=v>=0&&n[v],R=C>=0&&n[C];if(i&&!R||!i&&!N){Xh(eu(a,o),s,u);let P=$x(i?Bx:jx,n.length,i,r,l);!i&&R&&(n[C].providerFactory=P),Uh(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(P),o.push(P)}else{let P=JE(n[i?C:v],l,!i&&r);Uh(s,t,v>-1?v:C,P)}!i&&r&&R&&n[C].componentProviders++}}}function Uh(t,e,n,r){let i=ji(e),s=FA(e);if(i||s){let u=(s?ct(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function JE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function jh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function jx(t,e,n,r){return Tf(this.multi,[])}function Bx(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=qi(n,n[ae],this.providerFactory.index,r);s=a.slice(0,o),Tf(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Tf(i,s);return s}function Tf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function $x(t,e,n,r,i){let s=new Vr(t,n,Le);return s.multi=[],s.index=e,s.componentProviders=0,JE(s,i,r&&!n),s}function K4(t,e=[]){return n=>{n.providersResolver=(r,i)=>Ux(r,i?i(t):t,e)}}var qx=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=mw(!1,n.type),i=r.length>0?Ou([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=B({token:t,providedIn:"environment",factory:()=>new t(H(Ye))})}}return t})();function ZE(t){xu("NgStandalone"),t.getStandaloneInjector=e=>e.get(qx).getOrCreateStandaloneInjector(t)}function Q4(t,e,n){let r=wu()+t,i=he();return i[r]===Nt?yp(i,r,n?e.call(n):e()):QM(i,r)}function Y4(t,e,n,r){return eT(he(),wu(),t,e,n,r)}function XE(t,e){let n=t[e];return n===Nt?void 0:n}function eT(t,e,n,r,i,s){let o=e+n;return Cn(t,o,i)?yp(t,o+1,s?r.call(s,i):r(i)):XE(t,o+1)}function Hx(t,e,n,r,i,s,o){let a=e+n;return vp(t,a,i,s)?yp(t,a+2,o?r.call(o,i,s):r(i,s)):XE(t,a+2)}function J4(t,e){let n=ft(),r,i=t+Ct;n.firstCreatePass?(r=zx(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Or(r.type,!0)),o,a=ht(Le);try{let u=Xc(!1),l=s();return Xc(u),xx(n,he(),i,l),l}finally{ht(a)}}function zx(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Z4(t,e,n){let r=t+Ct,i=he(),s=Uf(i,r);return tT(i,r)?eT(i,wu(),e,s.transform,n,s):s.transform(n)}function X4(t,e,n,r){let i=t+Ct,s=he(),o=Uf(s,i);return tT(s,i)?Hx(s,wu(),e,o.transform,n,r,o):o.transform(n,r)}function tT(t,e){return t[ae].data[e].pure}function eG(t,e){return qE(t,e)}var nr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},nT=new nr("17.3.12"),Fu=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var rT=new q("");function Io(t){return!!t&&typeof t.then=="function"}function iT(t){return!!t&&typeof t.subscribe=="function"}var Lu=new q(""),sT=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=O(Lu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(Io(s))n.push(s);else if(iT(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),wo=new q("");function Gx(){oI(()=>{throw new j(600,!1)})}function Wx(t){return t.isBoundToModule}function Kx(t,e,n){try{let r=n();return Io(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Ki=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(tE),this.afterRenderEffectManager=O(pp),this.externalTestViews=new Set,this.beforeRender=new Qe,this.afterTick=new Qe,this.componentTypes=[],this.components=[],this.isStable=O(zr).hasPendingTasks.pipe(ee(n=>!n)),this._injector=O(Ye)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof su;if(!this._injector.get(sT).done){let m=!i&&hw(n),v=!1;throw new j(405,v)}let o;i?o=n:o=this._injector.get(Nu).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=Wx(o)?void 0:this._injector.get(tr),u=r||o.selector,l=o.create(At.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(rT,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Bh(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new j(101,!1);let r=pe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,pe(r)}}detectChangesInAttachedViews(n){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===VE)throw new j(103,!1);if(n){let s=r===0;this.beforeRender.next(s);for(let{_lView:o,notifyErrorHandler:a}of this._views)Qx(o,s,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Df(s))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Df(s))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Bh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(wo,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Bh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Bh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Qx(t,e,n){!e&&!Df(t)||Yx(t,n,e)}function Df(t){return Bf(t)}function Yx(t,e,n){let r;n?(r=0,t[Q]|=1024):t[Q]&64?r=0:r=1,UE(t,e,r)}var bf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Vu=(()=>{class t{compileModuleSync(n){return new _f(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=fw(n),s=hE(i.declarations).reduce((o,a)=>{let u=Dn(a);return u&&o.push(new Br(u)),o},[]);return new bf(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Jx=(()=>{class t{constructor(){this.zone=O(me),this.applicationRef=O(Ki)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Zx(t){return[{provide:me,useFactory:t},{provide:Ui,multi:!0,useFactory:()=>{let e=O(Jx,{optional:!0});return()=>e.initialize()}},{provide:Ui,multi:!0,useFactory:()=>{let e=O(nP);return()=>{e.initialize()}}},{provide:tE,useFactory:Xx}]}function Xx(){let t=O(me),e=O(rn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function eP(t){let e=Zx(()=>new me(tP(t)));return sn([[],e])}function tP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var nP=(()=>{class t{constructor(){this.subscription=new Ce,this.initialized=!1,this.zone=O(me),this.pendingTasks=O(zr)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{me.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function rP(){return typeof $localize<"u"&&$localize.locale||uu}var Uu=new q("",{providedIn:"root",factory:()=>O(Uu,se.Optional|se.SkipSelf)||rP()}),oT=new q("",{providedIn:"root",factory:()=>Ax});var aT=new q("");var $c=null;function iP(t=[],e){return At.create({name:e,providers:[{provide:mu,useValue:"platform"},{provide:aT,useValue:new Set([()=>$c=null])},...t]})}function sP(t=[]){if($c)return $c;let e=iP(t);return $c=e,Gx(),oP(e),e}function oP(t){t.get(ep,null)?.forEach(n=>n())}var Eo=(()=>{class t{static{this.__NG_ELEMENT_ID__=aP}}return t})();function aP(t){return cP(pt(),he(),(t&16)===16)}function cP(t,e,n){if(Iu(t)&&!n){let r=rr(t.index,e);return new jr(r,r)}else if(t.type&47){let r=e[tn];return new jr(r,e)}return null}var Cf=class{constructor(){}supports(e){return GE(e)}create(e){return new Sf(e)}},uP=(t,e)=>e,Sf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||uP}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<qI(r,i,s)?n:r,a=qI(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let v=m<s.length?s[m]:s[m]=0,C=v+m;h<=C&&C<l&&(s[m]=v+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!GE(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,KM(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Af(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new lu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new lu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Af=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Rf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},lu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Rf,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function qI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Nf=class{constructor(){}supports(e){return e instanceof Map||mp(e)}create(){return new Mf}},Mf=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||mp(e)))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new xf(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},xf=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function HI(){return new Ep([new Cf])}var Ep=(()=>{class t{static{this.\u0275prov=B({token:t,providedIn:"root",factory:HI})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||HI()),deps:[[t,new pu,new vt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new j(901,!1)}}return t})();function zI(){return new Tp([new Nf])}var Tp=(()=>{class t{static{this.\u0275prov=B({token:t,providedIn:"root",factory:zI})}constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||zI()),deps:[[t,new pu,new vt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new j(901,!1)}}return t})();function cT(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=sP(r),s=[eP(),...n||[]],a=new au({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(me);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(rn,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:v=>{l.handleError(v)}})});let p=()=>a.destroy(),m=i.get(aT);return m.add(p),a.onDestroy(()=>{h.unsubscribe(),m.delete(p)}),Kx(l,u,()=>{let v=a.get(sT);return v.runInitializers(),v.donePromise.then(()=>{let C=a.get(Uu,uu);Nx(C||uu);let N=a.get(Ki);return e!==void 0&&N.bootstrap(e),N})})})}catch(e){return Promise.reject(e)}}function To(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function tG(t,e){let n=Dn(t),r=e.elementInjector||yu();return new Br(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function uT(t){let e=Dn(t);if(!e)return null;let n=new Br(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var yT=null;function Qi(){return yT}function vT(t){yT??=t}var ju=class{};var Ze=new q(""),Np=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>O(lP),providedIn:"platform"})}}return t})(),_T=new q(""),lP=(()=>{class t extends Np{constructor(){super(),this._doc=O(Ze),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Qi().getBaseHref(this._doc)}onPopState(n){let r=Qi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Qi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Mp(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function lT(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Rn(t){return t&&t[0]!=="?"?"?"+t:t}var Mn=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>O(xp),providedIn:"root"})}}return t})(),IT=new q(""),xp=(()=>{class t extends Mn{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(Ze).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Mp(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Rn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Rn(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Rn(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(H(Np),H(IT,8))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),wT=(()=>{class t extends Mn{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Mp(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Rn(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Rn(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(H(Np),H(IT,8))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Ji=(()=>{class t{constructor(n){this._subject=new Ut,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=fP(lT(dT(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Rn(r))}normalize(n){return t.stripTrailingSlash(hP(this._basePath,dT(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Rn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Rn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Rn}static{this.joinWithSlash=Mp}static{this.stripTrailingSlash=lT}static{this.\u0275fac=function(r){return new(r||t)(H(Mn))}}static{this.\u0275prov=B({token:t,factory:()=>dP(),providedIn:"root"})}}return t})();function dP(){return new Ji(H(Mn))}function hP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function dT(t){return t.replace(/\/index.html$/,"")}function fP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var ET={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},TT=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(TT||{});var Nn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function bo(t,e){let n=ku(t),r=n[Gr.NumberSymbols][e];if(typeof r>"u"){if(e===Nn.CurrencyDecimal)return n[Gr.NumberSymbols][Nn.Decimal];if(e===Nn.CurrencyGroup)return n[Gr.NumberSymbols][Nn.Group]}return r}function pP(t,e){return ku(t)[Gr.NumberFormats][e]}function gP(t){return ku(t)[Gr.Currencies]}function mP(t,e,n="en"){let r=gP(n)[t]||ET[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var yP=2;function vP(t){let e,n=ET[t];return n&&(e=n[2]),typeof e=="number"?e:yP}var _P=/^(\d+)?\.((\d+)(-(\d+))?)?$/,hT=22,Bu=".",Co="0",IP=";",wP=",",Dp="#",fT="\xA4";function EP(t,e,n,r,i,s,o=!1){let a="",u=!1;if(!isFinite(t))a=bo(n,Nn.Infinity);else{let l=CP(t);o&&(l=bP(l));let h=e.minInt,p=e.minFrac,m=e.maxFrac;if(s){let $=s.match(_P);if($===null)throw new Error(`${s} is not a valid digit info`);let L=$[1],J=$[3],_e=$[5];L!=null&&(h=bp(L)),J!=null&&(p=bp(J)),_e!=null?m=bp(_e):J!=null&&p>m&&(m=p)}SP(l,p,m);let v=l.digits,C=l.integerLen,N=l.exponent,R=[];for(u=v.every($=>!$);C<h;C++)v.unshift(0);for(;C<0;C++)v.unshift(0);C>0?R=v.splice(C,v.length):(R=v,v=[0]);let P=[];for(v.length>=e.lgSize&&P.unshift(v.splice(-e.lgSize,v.length).join(""));v.length>e.gSize;)P.unshift(v.splice(-e.gSize,v.length).join(""));v.length&&P.unshift(v.join("")),a=P.join(bo(n,r)),R.length&&(a+=bo(n,i)+R.join("")),N&&(a+=bo(n,Nn.Exponential)+"+"+N)}return t<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function TP(t,e,n,r,i){let s=pP(e,TT.Currency),o=DP(s,bo(e,Nn.MinusSign));return o.minFrac=vP(r),o.maxFrac=o.minFrac,EP(t,o,e,Nn.CurrencyGroup,Nn.CurrencyDecimal,i).replace(fT,n).replace(fT,"").trim()}function DP(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(IP),i=r[0],s=r[1],o=i.indexOf(Bu)!==-1?i.split(Bu):[i.substring(0,i.lastIndexOf(Co)+1),i.substring(i.lastIndexOf(Co)+1)],a=o[0],u=o[1]||"";n.posPre=a.substring(0,a.indexOf(Dp));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===Co?n.minFrac=n.maxFrac=h+1:p===Dp?n.maxFrac=h+1:n.posSuf+=p}let l=a.split(wP);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){let h=i.length-n.posPre.length-n.posSuf.length,p=s.indexOf(Dp);n.negPre=s.substring(0,p).replace(/'/g,""),n.negSuf=s.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function bP(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function CP(t){let e=Math.abs(t)+"",n=0,r,i,s,o,a;for((i=e.indexOf(Bu))>-1&&(e=e.replace(Bu,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===Co;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Co;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>hT&&(r=r.splice(0,hT-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function SP(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,s=Math.min(Math.max(e,i),n),o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let p=o;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let p=1;p<o;p++)r[p]=0}if(a>=5)if(o-1<0){for(let p=0;p>o;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=s!==0,l=e+t.integerLen,h=r.reduceRight(function(p,m,v,C){return m=m+p,C[v]=m<10?m:m-10,u&&(C[v]===0&&v>=l?C.pop():u=!1),m>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function bp(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function $u(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Cp=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},EG=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Cp(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),pT(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);pT(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Le(Wi),Le(Ru),Le(Ep))}}static{this.\u0275dir=zi({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function pT(t,e){t.context.$implicit=e.item}var TG=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Sp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){gT("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){gT("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Le(Wi),Le(Ru))}}static{this.\u0275dir=zi({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),Sp=class{constructor(){this.$implicit=null,this.ngIf=null}};function gT(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ut(e)}'.`)}function DT(t,e){return new j(2100,!1)}var AP=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,DG=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw DT(t,n);return n.replace(AP,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275pipe=gu({name:"titlecase",type:t,pure:!0,standalone:!0})}}return t})();function RP(t,e){return{key:t,value:e}}var bG=(()=>{class t{constructor(n){this.differs=n,this.keyValues=[],this.compareFn=mT}transform(n,r=mT){if(!n||!(n instanceof Map)&&typeof n!="object")return null;this.differ??=this.differs.find(n).create();let i=this.differ.diff(n),s=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(o=>{this.keyValues.push(RP(o.key,o.currentValue))})),(i||s)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}static{this.\u0275fac=function(r){return new(r||t)(Le(Tp,16))}}static{this.\u0275pipe=gu({name:"keyvalue",type:t,pure:!1,standalone:!0})}}return t})();function mT(t,e){let n=t.key,r=e.key;if(n===r)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(n===null)return 1;if(r===null)return-1;if(typeof n=="string"&&typeof r=="string")return n<r?-1:1;if(typeof n=="number"&&typeof r=="number")return n-r;if(typeof n=="boolean"&&typeof r=="boolean")return n<r?-1:1;let i=String(n),s=String(r);return i==s?0:i<s?-1:1}var CG=(()=>{class t{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",s,o){if(!NP(n))return null;o||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=mP(a,i==="symbol"?"wide":"narrow",o):a=i);try{let u=MP(n);return TP(u,o,a,r,s)}catch(u){throw DT(t,u.message)}}static{this.\u0275fac=function(r){return new(r||t)(Le(Uu,16),Le(oT,16))}}static{this.\u0275pipe=gu({name:"currency",type:t,pure:!0,standalone:!0})}}return t})();function NP(t){return!(t==null||t===""||t!==t)}function MP(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var xP=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Hr({type:t})}static{this.\u0275inj=qr({})}}return t})(),Pp="browser",PP="server";function OP(t){return t===Pp}function qu(t){return t===PP}var bT=(()=>{class t{static{this.\u0275prov=B({token:t,providedIn:"root",factory:()=>OP(O(Rt))?new Ap(O(Ze),window):new Rp})}}return t})(),Ap=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=kP(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function kP(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Rp=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Yi=class{};var Ao=class{},zu=class{},Wr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var kp=class{encodeKey(e){return ST(e)}encodeValue(e){return ST(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function VP(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var UP=/%(\d[a-f0-9])/gi,jP={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ST(t){return encodeURIComponent(t).replace(UP,(e,n)=>jP[n]??e)}function Hu(t){return`${t}`}var sr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new kp,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=VP(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Hu):[Hu(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Hu(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Hu(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Fp=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function BP(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function AT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function RT(t){return typeof Blob<"u"&&t instanceof Blob}function NT(t){return typeof FormData<"u"&&t instanceof FormData}function $P(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var So=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(BP(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Wr,this.context??=new Fp,!this.params)this.params=new sr,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||AT(this.body)||RT(this.body)||NT(this.body)||$P(this.body)?this.body:this.body instanceof sr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||NT(this.body)?null:RT(this.body)?this.body.type||null:AT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof sr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,v)=>m.set(v,e.setHeaders[v]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,v)=>m.set(v,e.setParams[v]),h)),new t(n,r,o,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},Zi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Zi||{}),Ro=class{constructor(e,n=Ku.Ok,r="OK"){this.headers=e.headers||new Wr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Lp=class t extends Ro{constructor(e={}){super(e),this.type=Zi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Gu=class t extends Ro{constructor(e={}){super(e),this.type=Zi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Wu=class extends Ro{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Ku=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Ku||{});function Op(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var qP=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof So)s=n;else{let u;i.headers instanceof Wr?u=i.headers:u=new Wr(i.headers);let l;i.params&&(i.params instanceof sr?l=i.params:l=new sr({fromObject:i.params})),s=new So(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=W(s).pipe(wn(u=>this.handler.handle(u)));if(n instanceof So||i.observe==="events")return o;let a=o.pipe(at(u=>u instanceof Gu));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ee(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(ee(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new sr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Op(i,r))}post(n,r,i={}){return this.request("POST",n,Op(i,r))}put(n,r,i={}){return this.request("PUT",n,Op(i,r))}static{this.\u0275fac=function(r){return new(r||t)(H(Ao))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function OT(t,e){return e(t)}function HP(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function zP(t,e,n){return(r,i)=>Ht(n,()=>e(r,s=>t(s,i)))}var GP=new q(""),Vp=new q(""),WP=new q(""),KP=new q("");function QP(){let t=null;return(e,n)=>{t===null&&(t=(O(GP,{optional:!0})??[]).reduceRight(HP,OT));let r=O(zr),i=r.add();return t(e,n).pipe(Jn(()=>r.remove(i)))}}var MT=(()=>{class t extends Ao{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=O(zr);let i=O(KP,{optional:!0});this.backend=i??n}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Vp),...this.injector.get(WP,[])]));this.chain=i.reduceRight((s,o)=>zP(s,o,this.injector),OT)}let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Jn(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||t)(H(zu),H(Ye))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();var YP=/^\)\]\}',?\n/;function JP(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var xT=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new j(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Te(r.\u0275loadImpl()):W(null)).pipe(dt(()=>new X(s=>{let o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((N,R)=>o.setRequestHeader(N,R.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let N=n.detectContentTypeHeader();N!==null&&o.setRequestHeader("Content-Type",N)}if(n.responseType){let N=n.responseType.toLowerCase();o.responseType=N!=="json"?N:"text"}let a=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let N=o.statusText||"OK",R=new Wr(o.getAllResponseHeaders()),P=JP(o)||n.url;return u=new Lp({headers:R,status:o.status,statusText:N,url:P}),u},h=()=>{let{headers:N,status:R,statusText:P,url:$}=l(),L=null;R!==Ku.NoContent&&(L=typeof o.response>"u"?o.responseText:o.response),R===0&&(R=L?Ku.Ok:0);let J=R>=200&&R<300;if(n.responseType==="json"&&typeof L=="string"){let _e=L;L=L.replace(YP,"");try{L=L!==""?JSON.parse(L):null}catch(Z){L=_e,J&&(J=!1,L={error:Z,text:L})}}J?(s.next(new Gu({body:L,headers:N,status:R,statusText:P,url:$||void 0})),s.complete()):s.error(new Wu({error:L,headers:N,status:R,statusText:P,url:$||void 0}))},p=N=>{let{url:R}=l(),P=new Wu({error:N,status:o.status||0,statusText:o.statusText||"Unknown Error",url:R||void 0});s.error(P)},m=!1,v=N=>{m||(s.next(l()),m=!0);let R={type:Zi.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),n.responseType==="text"&&o.responseText&&(R.partialText=o.responseText),s.next(R)},C=N=>{let R={type:Zi.UploadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),s.next(R)};return o.addEventListener("load",h),o.addEventListener("error",p),o.addEventListener("timeout",p),o.addEventListener("abort",p),n.reportProgress&&(o.addEventListener("progress",v),a!==null&&o.upload&&o.upload.addEventListener("progress",C)),o.send(a),s.next({type:Zi.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",h),o.removeEventListener("timeout",p),n.reportProgress&&(o.removeEventListener("progress",v),a!==null&&o.upload&&o.upload.removeEventListener("progress",C)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(H(Yi))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),kT=new q(""),ZP="XSRF-TOKEN",XP=new q("",{providedIn:"root",factory:()=>ZP}),eO="X-XSRF-TOKEN",tO=new q("",{providedIn:"root",factory:()=>eO}),Qu=class{},nO=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=$u(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(H(Ze),H(Rt),H(XP))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function rO(t,e){let n=t.url.toLowerCase();if(!O(kT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=O(Qu).getToken(),i=O(tO);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var FT=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(FT||{});function iO(t,e){return{\u0275kind:t,\u0275providers:e}}function sO(...t){let e=[qP,xT,MT,{provide:Ao,useExisting:MT},{provide:zu,useExisting:xT},{provide:Vp,useValue:rO,multi:!0},{provide:kT,useValue:!0},{provide:Qu,useClass:nO}];for(let n of t)e.push(...n.\u0275providers);return sn(e)}var PT=new q("");function oO(){return iO(FT.LegacyInterceptors,[{provide:PT,useFactory:QP},{provide:Vp,useExisting:PT,multi:!0}])}var UG=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Hr({type:t})}static{this.\u0275inj=qr({providers:[sO(oO())]})}}return t})();var Bp=class extends ju{constructor(){super(...arguments),this.supportsDOMEvents=!0}},$p=class t extends Bp{static makeCurrent(){vT(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=aO();return n==null?null:cO(n)}resetBaseElement(){No=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return $u(document.cookie,e)}},No=null;function aO(){return No=No||document.querySelector("base"),No?No.getAttribute("href"):null}function cO(t){return new URL(t,document.baseURI).pathname}var uO=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),qp=new q(""),jT=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(H(qp),H(me))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Yu=class{constructor(e){this._doc=e}},Up="ng-app-id",BT=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=qu(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Up}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Up),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Up,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(H(Ze),H(Xf),H(tp,8),H(Rt))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),jp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zp=/%COMP%/g,$T="%COMP%",lO=`_nghost-${$T}`,dO=`_ngcontent-${$T}`,hO=!0,fO=new q("",{providedIn:"root",factory:()=>hO});function pO(t){return dO.replace(zp,t)}function gO(t){return lO.replace(zp,t)}function qT(t,e){return e.map(n=>n.replace(zp,t))}var LT=(()=>{class t{constructor(n,r,i,s,o,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=qu(a),this.defaultRenderer=new Mo(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===en.ShadowDom&&(r=Re(U({},r),{encapsulation:en.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Ju?i.applyToHost(n):i instanceof xo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case en.Emulated:s=new Ju(u,l,r,this.appId,h,o,a,p);break;case en.ShadowDom:return new Hp(u,l,n,r,o,a,this.nonce,p);default:s=new xo(u,l,r,h,o,a,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(H(jT),H(BT),H(Xf),H(fO),H(Ze),H(Rt),H(me),H(tp))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),Mo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(jp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(VT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(VT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=jp[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=jp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(bn.DashCase|bn.Important)?e.style.setProperty(n,r,i&bn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&bn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Qi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function VT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Hp=class extends Mo{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=qT(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},xo=class extends Mo{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?qT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ju=class extends xo{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=pO(l),this.hostAttr=gO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},mO=(()=>{class t extends Yu{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(H(Ze))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})(),UT=["alt","control","meta","shift"],yO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},_O=(()=>{class t extends Yu{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Qi().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),UT.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=yO[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),UT.forEach(o=>{if(o!==i){let a=vO[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(H(Ze))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function uW(t,e){return cT(U({rootComponent:t},IO(e)))}function IO(t){return{appProviders:[...bO,...t?.providers??[]],platformProviders:DO}}function wO(){$p.makeCurrent()}function EO(){return new rn}function TO(){return aE(document),document}var DO=[{provide:Rt,useValue:Pp},{provide:ep,useValue:wO,multi:!0},{provide:Ze,useFactory:TO,deps:[]}];var bO=[{provide:mu,useValue:"root"},{provide:rn,useFactory:EO,deps:[]},{provide:qp,useClass:mO,multi:!0,deps:[Ze,me,Rt]},{provide:qp,useClass:_O,multi:!0,deps:[Ze]},LT,BT,jT,{provide:lo,useExisting:LT},{provide:Yi,useClass:uO,deps:[]},[]];var HT=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(H(Ze))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var re="primary",Ko=Symbol("RouteTitle"),Yp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function rs(t){return new Yp(t)}function SO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function AO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!on(t[n],e[n]))return!1;return!0}function on(t,e){let n=t?Jp(t):void 0,r=e?Jp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!XT(t[i],e[i]))return!1;return!0}function Jp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function XT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function eD(t){return t.length>0?t[t.length-1]:null}function lr(t){return mh(t)?t:Io(t)?Te(Promise.resolve(t)):W(t)}var RO={exact:nD,subset:rD},tD={exact:NO,subset:MO,ignored:()=>!0};function zT(t,e,n){return RO[n.paths](t.root,e.root,n.matrixParams)&&tD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function NO(t,e){return on(t,e)}function nD(t,e,n){if(!Qr(t.segments,e.segments)||!el(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!nD(t.children[r],e.children[r],n))return!1;return!0}function MO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>XT(t[n],e[n]))}function rD(t,e,n){return iD(t,e,e.segments,n)}function iD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Qr(i,n)||e.hasChildren()||!el(i,n,r))}else if(t.segments.length===n.length){if(!Qr(t.segments,n)||!el(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!rD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Qr(t.segments,i)||!el(t.segments,i,r)||!t.children[re]?!1:iD(t.children[re],e,s,r)}}function el(t,e,n){return e.every((r,i)=>tD[n](t[i].parameters,r.parameters))}var or=class{constructor(e=new ye([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=rs(this.queryParams),this._queryParamMap}toString(){return OO.serialize(this)}},ye=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tl(this)}},Kr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=rs(this.parameters),this._parameterMap}toString(){return oD(this)}};function xO(t,e){return Qr(t,e)&&t.every((n,r)=>on(n.parameters,e[r].parameters))}function Qr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function PO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}var Qo=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>new Uo,providedIn:"root"})}}return t})(),Uo=class{parse(e){let n=new Xp(e);return new or(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Po(e.root,!0)}`,r=LO(e.queryParams),i=typeof e.fragment=="string"?`#${kO(e.fragment)}`:"";return`${n}${r}${i}`}},OO=new Uo;function tl(t){return t.segments.map(e=>oD(e)).join("/")}function Po(t,e){if(!t.hasChildren())return tl(t);if(e){let n=t.children[re]?Po(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==re&&r.push(`${i}:${Po(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=PO(t,(r,i)=>i===re?[Po(t.children[re],!1)]:[`${i}:${Po(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[re]!=null?`${tl(t)}/${n[0]}`:`${tl(t)}/(${n.join("//")})`}}function sD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zu(t){return sD(t).replace(/%3B/gi,";")}function kO(t){return encodeURI(t)}function Zp(t){return sD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nl(t){return decodeURIComponent(t)}function GT(t){return nl(t.replace(/\+/g,"%20"))}function oD(t){return`${Zp(t.path)}${FO(t.parameters)}`}function FO(t){return Object.entries(t).map(([e,n])=>`;${Zp(e)}=${Zp(n)}`).join("")}function LO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Zu(n)}=${Zu(i)}`).join("&"):`${Zu(n)}=${Zu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var VO=/^[^\/()?;#]+/;function Gp(t){let e=t.match(VO);return e?e[0]:""}var UO=/^[^\/()?;=#]+/;function jO(t){let e=t.match(UO);return e?e[0]:""}var BO=/^[^=?&#]+/;function $O(t){let e=t.match(BO);return e?e[0]:""}var qO=/^[^&#]+/;function HO(t){let e=t.match(qO);return e?e[0]:""}var Xp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new ye(e,n)),r}parseSegment(){let e=Gp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new Kr(nl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=jO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Gp(this.remaining);i&&(r=i,this.capture(r))}e[nl(n)]=nl(r)}parseQueryParam(e){let n=$O(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=HO(this.remaining);o&&(r=o,this.capture(r))}let i=GT(n),s=GT(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Gp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[re]:new ye([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function aD(t){return t.segments.length>0?new ye([],{[re]:t}):t}function cD(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=cD(i);if(r===re&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ye(t.segments,e);return zO(n)}function zO(t){if(t.numberOfChildren===1&&t.children[re]){let e=t.children[re];return new ye(t.segments.concat(e.segments),e.children)}return t}function is(t){return t instanceof or}function GO(t,e,n=null,r=null){let i=uD(t);return lD(i,e,n,r)}function uD(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new ye(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=aD(r);return e??i}function lD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Wp(i,i,i,n,r);let s=WO(e);if(s.toRoot())return Wp(i,i,new ye([],{}),n,r);let o=KO(s,i,t),a=o.processChildren?Fo(o.segmentGroup,o.index,s.commands):hD(o.segmentGroup,o.index,s.commands);return Wp(i,o.segmentGroup,a,n,r)}function rl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function jo(t){return typeof t=="object"&&t!=null&&t.outlets}function Wp(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=dD(t,e,n);let a=aD(cD(o));return new or(a,s,i)}function dD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=dD(s,e,n)}),new ye(t.segments,r)}var il=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&rl(r[0]))throw new j(4003,!1);let i=r.find(jo);if(i&&i!==eD(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function WO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new il(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new il(n,e,r)}var ts=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function KO(t,e,n){if(t.isAbsolute)return new ts(e,!0,0);if(!n)return new ts(e,!1,NaN);if(n.parent===null)return new ts(n,!0,0);let r=rl(t.commands[0])?0:1,i=n.segments.length-1+r;return QO(n,i,t.numberOfDoubleDots)}function QO(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new ts(r,!1,i-s)}function YO(t){return jo(t[0])?t[0].outlets:{[re]:t}}function hD(t,e,n){if(t??=new ye([],{}),t.segments.length===0&&t.hasChildren())return Fo(t,e,n);let r=JO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ye(t.segments.slice(0,r.pathIndex),{});return s.children[re]=new ye(t.segments.slice(r.pathIndex),t.children),Fo(s,0,i)}else return r.match&&i.length===0?new ye(t.segments,{}):r.match&&!t.hasChildren()?eg(t,e,n):r.match?Fo(t,0,i):eg(t,e,n)}function Fo(t,e,n){if(n.length===0)return new ye(t.segments,{});{let r=YO(n),i={};if(Object.keys(r).some(s=>s!==re)&&t.children[re]&&t.numberOfChildren===1&&t.children[re].segments.length===0){let s=Fo(t.children[re],e,n);return new ye(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=hD(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ye(t.segments,i)}}function JO(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(jo(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!KT(u,l,o))return s;r+=2}else{if(!KT(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function eg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(jo(s)){let u=ZO(s.outlets);return new ye(r,u)}if(i===0&&rl(n[0])){let u=t.segments[e];r.push(new Kr(u.path,WT(n[0]))),i++;continue}let o=jo(s)?s.outlets[re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&rl(a)?(r.push(new Kr(o,WT(a))),i+=2):(r.push(new Kr(o,{})),i++)}return new ye(r,{})}function ZO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=eg(new ye([],{}),0,r))}),e}function WT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function KT(t,e,n){return t==n.path&&on(e,n.parameters)}var Lo="imperative",Ve=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ve||{}),Mt=class{constructor(e,n){this.id=e,this.url=n}},ss=class extends Mt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ve.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},an=class extends Mt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ve.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},It=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(It||{}),sl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(sl||{}),ar=class extends Mt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ve.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},cr=class extends Mt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ve.NavigationSkipped}},Bo=class extends Mt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ve.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ol=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ve.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tg=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ve.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ng=class extends Mt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ve.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},rg=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ve.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ig=class extends Mt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ve.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sg=class{constructor(e){this.route=e,this.type=Ve.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},og=class{constructor(e){this.route=e,this.type=Ve.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ag=class{constructor(e){this.snapshot=e,this.type=Ve.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cg=class{constructor(e){this.snapshot=e,this.type=Ve.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ug=class{constructor(e){this.snapshot=e,this.type=Ve.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lg=class{constructor(e){this.snapshot=e,this.type=Ve.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},al=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ve.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},$o=class{},qo=class{constructor(e){this.url=e}};var dg=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Yo,this.attachRef=null}},Yo=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new dg,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),cl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=hg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=hg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=fg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return fg(e,this._root).map(n=>n.value)}};function hg(t,e){if(t===e.value)return e;for(let n of e.children){let r=hg(t,n);if(r)return r}return null}function fg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=fg(t,n);if(r.length)return r.unshift(e),r}return[]}var _t=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function es(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ul=class extends cl{constructor(e,n){super(e),this.snapshot=n,Tg(this,e)}toString(){return this.snapshot.toString()}};function fD(t){let e=XO(t),n=new qe([new Kr("",{})]),r=new qe({}),i=new qe({}),s=new qe({}),o=new qe(""),a=new ur(n,r,s,o,i,re,t,e.root);return a.snapshot=e.root,new ul(new _t(a,[]),e)}function XO(t){let e={},n={},r={},i="",s=new Ho([],e,r,i,n,re,t,null,{});return new ll("",new _t(s,[]))}var ur=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ee(l=>l[Ko]))??W(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>rs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>rs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Eg(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),i?.data),t._resolvedData)}:r={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},i&&gD(i)&&(r.resolve[Ko]=i.title),r}var Ho=class{get title(){return this.data?.[Ko]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=rs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=rs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ll=class extends cl{constructor(e,n){super(n),this.url=e,Tg(this,n)}toString(){return pD(this._root)}};function Tg(t,e){e.value._routerState=t,e.children.forEach(n=>Tg(t,n))}function pD(t){let e=t.children.length>0?` { ${t.children.map(pD).join(", ")} } `:"";return`${t.value}${e}`}function Kp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,on(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),on(e.params,n.params)||t.paramsSubject.next(n.params),AO(e.url,n.url)||t.urlSubject.next(n.url),on(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function pg(t,e){let n=on(t.params,e.params)&&xO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||pg(t.parent,e.parent))}function gD(t){return typeof t.title=="string"||t.title===null}var ek=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new Ut,this.deactivateEvents=new Ut,this.attachEvents=new Ut,this.detachEvents=new Ut,this.parentContexts=O(Yo),this.location=O(Wi),this.changeDetector=O(Eo),this.environmentInjector=O(Ye),this.inputBinder=O(pl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new gg(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=zi({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[mo]})}}return t})(),gg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ur?this.route:e===Yo?this.childContexts:this.parent.get(e,n)}},pl=new q(""),QT=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=eo([r.queryParams,r.params,r.data]).pipe(dt(([s,o,a],u)=>(a=U(U(U({},s),o),a),u===0?W(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let o=uT(r.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function tk(t,e,n){let r=zo(t,e._root,n?n._root:void 0);return new ul(r,e)}function zo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=nk(t,e,n);return new _t(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>zo(t,a)),o}}let r=rk(e.value),i=e.children.map(s=>zo(t,s));return new _t(r,i)}}function nk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return zo(t,r,i);return zo(t,r)})}function rk(t){return new ur(new qe(t.url),new qe(t.params),new qe(t.queryParams),new qe(t.fragment),new qe(t.data),t.outlet,t.component,t)}var mD="ngNavigationCancelingError";function yD(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=is(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=vD(!1,It.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function vD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[mD]=!0,n.cancellationCode=e,n}function ik(t){return _D(t)&&is(t.url)}function _D(t){return!!t&&t[mD]}var sk=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=uw({type:t,selectors:[["ng-component"]],standalone:!0,features:[ZE],decls:1,vars:0,template:function(r,i){r&1&&Ip(0,"router-outlet")},dependencies:[ek],encapsulation:2})}}return t})();function ok(t,e){return t.providers&&!t._injector&&(t._injector=Ou(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Dg(t){let e=t.children&&t.children.map(Dg),n=e?Re(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=sk),n}function cn(t){return t.outlet||re}function ak(t,e){let n=t.filter(r=>cn(r)===e);return n.push(...t.filter(r=>cn(r)!==e)),n}function Jo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var ck=(t,e,n,r)=>ee(i=>(new mg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),mg=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Kp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=es(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=es(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=es(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=es(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new lg(s.value.snapshot))}),e.children.length&&this.forwardEvent(new cg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Kp(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Kp(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Jo(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},dl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ns=class{constructor(e,n){this.component=e,this.route=n}};function uk(t,e,n){let r=t._root,i=e?e._root:null;return Oo(r,i,n,[r.value])}function lk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function as(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!YI(t)?t:e.get(t):r}function Oo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=es(e);return t.children.forEach(o=>{dk(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Vo(a,n.getContext(o),i)),i}function dk(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=hk(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new dl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Oo(t,e,a?a.children:null,r,i):Oo(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ns(a.outlet.component,o))}else o&&Vo(e,a,i),i.canActivateChecks.push(new dl(r)),s.component?Oo(t,null,a?a.children:null,r,i):Oo(t,null,n,r,i);return i}function hk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Qr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Qr(t.url,e.url)||!on(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pg(t,e)||!on(t.queryParams,e.queryParams);case"paramsChange":default:return!pg(t,e)}}function Vo(t,e,n){let r=es(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Vo(o,e.children.getContext(s),n):Vo(o,null,n):Vo(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ns(e.outlet.component,i)):n.canDeactivateChecks.push(new ns(null,i)):n.canDeactivateChecks.push(new ns(null,i))}function Zo(t){return typeof t=="function"}function fk(t){return typeof t=="boolean"}function pk(t){return t&&Zo(t.canLoad)}function gk(t){return t&&Zo(t.canActivate)}function mk(t){return t&&Zo(t.canActivateChild)}function yk(t){return t&&Zo(t.canDeactivate)}function vk(t){return t&&Zo(t.canMatch)}function ID(t){return t instanceof In||t?.name==="EmptyError"}var Xu=Symbol("INITIAL_VALUE");function os(){return dt(t=>eo(t.map(e=>e.pipe(En(1),xc(Xu)))).pipe(ee(e=>{for(let n of e)if(n!==!0){if(n===Xu)return Xu;if(n===!1||n instanceof or)return n}return!0}),at(e=>e!==Xu),En(1)))}function _k(t,e){return Ne(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?W(Re(U({},n),{guardsResult:!0})):Ik(o,r,i,t).pipe(Ne(a=>a&&fk(a)?wk(r,s,t,e):W(a)),ee(a=>Re(U({},n),{guardsResult:a})))})}function Ik(t,e,n,r){return Te(t).pipe(Ne(i=>Ck(i.component,i.route,n,e,r)),Jt(i=>i!==!0,!0))}function wk(t,e,n,r){return Te(e).pipe(wn(i=>Ni(Tk(i.route.parent,r),Ek(i.route,r),bk(t,i.path,n),Dk(t,i.route,n))),Jt(i=>i!==!0,!0))}function Ek(t,e){return t!==null&&e&&e(new ug(t)),W(!0)}function Tk(t,e){return t!==null&&e&&e(new ag(t)),W(!0)}function Dk(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(s=>Ac(()=>{let o=Jo(e)??n,a=as(s,o),u=gk(a)?a.canActivate(e,t):Ht(o,()=>a(e,t));return lr(u).pipe(Jt())}));return W(i).pipe(os())}function bk(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>lk(o)).filter(o=>o!==null).map(o=>Ac(()=>{let a=o.guards.map(u=>{let l=Jo(o.node)??n,h=as(u,l),p=mk(h)?h.canActivateChild(r,t):Ht(l,()=>h(r,t));return lr(p).pipe(Jt())});return W(a).pipe(os())}));return W(s).pipe(os())}function Ck(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return W(!0);let o=s.map(a=>{let u=Jo(e)??i,l=as(a,u),h=yk(l)?l.canDeactivate(t,e,n,r):Ht(u,()=>l(t,e,n,r));return lr(h).pipe(Jt())});return W(o).pipe(os())}function Sk(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let s=i.map(o=>{let a=as(o,t),u=pk(a)?a.canLoad(e,n):Ht(t,()=>a(e,n));return lr(u)});return W(s).pipe(os(),wD(r))}function wD(t){return cc(xe(e=>{if(is(e))throw yD(t,e)}),ee(e=>e===!0))}function Ak(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let s=i.map(o=>{let a=as(o,t),u=vk(a)?a.canMatch(e,n):Ht(t,()=>a(e,n));return lr(u)});return W(s).pipe(os(),wD(r))}var Go=class{constructor(e){this.segmentGroup=e||null}},hl=class extends Error{constructor(e){super(),this.urlTree=e}};function Xi(t){return Ri(new Go(t))}function Rk(t){return Ri(new j(4e3,!1))}function Nk(t){return Ri(vD(!1,It.GuardRejected))}var yg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[re])return Rk(e.redirectTo);i=i.children[re]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new hl(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new or(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new ye(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},vg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Mk(t,e,n,r,i){let s=bg(t,e,n);return s.matched?(r=ok(e,r),Ak(r,e,n,i).pipe(ee(o=>o===!0?s:U({},vg)))):W(s)}function bg(t,e,n){if(e.path==="**")return xk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},vg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||SO)(n,t,e);if(!i)return U({},vg);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?U(U({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function xk(t){return{matched:!0,parameters:t.length>0?eD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function YT(t,e,n,r){return n.length>0&&kk(t,n,r)?{segmentGroup:new ye(e,Ok(r,new ye(n,t.children))),slicedSegments:[]}:n.length===0&&Fk(t,n,r)?{segmentGroup:new ye(t.segments,Pk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ye(t.segments,t.children),slicedSegments:n}}function Pk(t,e,n,r){let i={};for(let s of n)if(gl(t,e,s)&&!r[cn(s)]){let o=new ye([],{});i[cn(s)]=o}return U(U({},r),i)}function Ok(t,e){let n={};n[re]=e;for(let r of t)if(r.path===""&&cn(r)!==re){let i=new ye([],{});n[cn(r)]=i}return n}function kk(t,e,n){return n.some(r=>gl(t,e,r)&&cn(r)!==re)}function Fk(t,e,n){return n.some(r=>gl(t,e,r))}function gl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Lk(t,e,n,r){return cn(t)!==r&&(r===re||!gl(e,n,t))?!1:bg(e,t,n).matched}function Vk(t,e,n){return e.length===0&&!t.children[n]}var _g=class{};function Uk(t,e,n,r,i,s,o="emptyOnly"){return new Ig(t,e,n,r,i,o,s).recognize()}var jk=31,Ig=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new yg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=YT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(n=>{let r=new Ho([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,{},re,this.rootComponentType,null,{}),i=new _t(r,n),s=new ll("",i),o=GO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,re).pipe(Qn(r=>{if(r instanceof hl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Go?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Eg(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(ee(s=>s instanceof _t?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Te(i).pipe(wn(s=>{let o=r.children[s],a=ak(n,s);return this.processSegmentGroup(e,a,o,s)}),Mc((s,o)=>(s.push(...o),s)),Yn(null),_h(),Ne(s=>{if(s===null)return Xi(r);let o=ED(s);return Bk(o),W(o)}))}processSegment(e,n,r,i,s,o){return Te(n).pipe(wn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Qn(u=>{if(u instanceof Go)return W(null);throw u}))),Jt(a=>!!a),Qn(a=>{if(ID(a))return Vk(r,i,s)?W(new _g):Xi(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return Lk(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Xi(i):Xi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:h}=bg(n,i,s);if(!a)return Xi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>jk&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(Ne(m=>this.processSegment(e,r,n,m.concat(h),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=Mk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(dt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(dt(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:m}=a,v=new Ho(h,m,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,qk(r),cn(r),r.component??r._loadedComponent??null,r,Hk(r)),{segmentGroup:C,slicedSegments:N}=YT(n,h,p,u);if(N.length===0&&C.hasChildren())return this.processChildren(l,u,C).pipe(ee(P=>P===null?null:new _t(v,P)));if(u.length===0&&N.length===0)return W(new _t(v,[]));let R=cn(r)===s;return this.processSegment(l,u,C,N,R?re:s,!0).pipe(ee(P=>new _t(v,P instanceof _t?[P]:[])))}))):Xi(n)))}getChildConfig(e,n,r){return n.children?W({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?W({routes:n._loadedRoutes,injector:n._loadedInjector}):Sk(e,n,r,this.urlSerializer).pipe(Ne(i=>i?this.configLoader.loadChildren(e,n).pipe(xe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Nk(n))):W({routes:[],injector:e})}};function Bk(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}function $k(t){let e=t.value.routeConfig;return e&&e.path===""}function ED(t){let e=[],n=new Set;for(let r of t){if(!$k(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=ED(r.children);e.push(new _t(r.value,i))}return e.filter(r=>!n.has(r))}function qk(t){return t.data||{}}function Hk(t){return t.resolve||{}}function zk(t,e,n,r,i,s){return Ne(o=>Uk(t,e,n,r,o.extractedUrl,i,s).pipe(ee(({state:a,tree:u})=>Re(U({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function Gk(t,e){return Ne(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return W(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of TD(u))o.add(l);let a=0;return Te(o).pipe(wn(u=>s.has(u)?Wk(u,r,t,e):(u.data=Eg(u,u.parent,t).resolve,W(void 0))),xe(()=>a++),Mi(1),Ne(u=>a===o.size?W(n):ot))})}function TD(t){let e=t.children.map(n=>TD(n)).flat();return[t,...e]}function Wk(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!gD(i)&&(s[Ko]=i.title),Kk(s,t,e,r).pipe(ee(o=>(t._resolvedData=o,t.data=Eg(t,t.parent,n).resolve,null)))}function Kk(t,e,n,r){let i=Jp(t);if(i.length===0)return W({});let s={};return Te(i).pipe(Ne(o=>Qk(t[o],e,n,r).pipe(Jt(),xe(a=>{s[o]=a}))),Mi(1),vh(s),Qn(o=>ID(o)?ot:Ri(o)))}function Qk(t,e,n,r){let i=Jo(e)??r,s=as(t,i),o=s.resolve?s.resolve(e,n):Ht(i,()=>s(e,n));return lr(o)}function Qp(t){return dt(e=>{let n=t(e);return n?Te(n).pipe(ee(()=>e)):W(e)})}var DD=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===re);return r}getResolvedTitleForRoute(n){return n.data[Ko]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>O(Yk),providedIn:"root"})}}return t})(),Yk=(()=>{class t extends DD{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(H(HT))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Xo=new q("",{providedIn:"root",factory:()=>({})}),Wo=new q(""),Cg=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(Vu)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return W(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=lr(n.loadComponent()).pipe(ee(bD),xe(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Jn(()=>{this.componentLoaders.delete(n)})),i=new Ci(r,()=>new Qe).pipe(bi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Jk(r,this.compiler,n,this.onLoadEndListener).pipe(Jn(()=>{this.childrenLoaders.delete(r)})),o=new Ci(s,()=>new Qe).pipe(bi());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Jk(t,e,n,r){return lr(t.loadChildren()).pipe(ee(bD),Ne(i=>i instanceof ho||Array.isArray(i)?W(i):Te(e.compileModuleAsync(i))),ee(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Wo,[],{optional:!0,self:!0}).flat()),{routes:o.map(Dg),injector:s}}))}function Zk(t){return t&&typeof t=="object"&&"default"in t}function bD(t){return Zk(t)?t.default:t}var Sg=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>O(Xk),providedIn:"root"})}}return t})(),Xk=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),CD=new q(""),SD=new q("");function e1(t,e,n){let r=t.get(SD),i=t.get(Ze);return t.get(me).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),t1(t))),{onViewTransitionCreated:u}=r;return u&&Ht(t,()=>u({transition:a,from:e,to:n})),o})}function t1(t){return new Promise(e=>{Pu(e,{injector:t})})}var Ag=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Qe,this.transitionAbortSubject=new Qe,this.configLoader=O(Cg),this.environmentInjector=O(Ye),this.urlSerializer=O(Qo),this.rootContexts=O(Yo),this.location=O(Ji),this.inputBindingEnabled=O(pl,{optional:!0})!==null,this.titleStrategy=O(DD),this.options=O(Xo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(Sg),this.createViewTransition=O(CD,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null;let n=i=>this.events.next(new sg(i)),r=i=>this.events.next(new og(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Re(U(U({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new qe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Lo,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(at(s=>s.id!==0),ee(s=>Re(U({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),dt(s=>{let o=!1,a=!1;return W(s).pipe(dt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",It.SupersededByNewNavigation),ot;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Re(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new cr(u.id,this.urlSerializer.serialize(u.rawUrl),p,sl.IgnoredSameUrlNavigation)),u.resolve(null),ot}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return W(u).pipe(dt(p=>{let m=this.transitions?.getValue();return this.events.next(new ss(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?ot:Promise.resolve(p)}),zk(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),xe(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Re(U({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new ol(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:v,restoredState:C,extras:N}=u,R=new ss(p,this.urlSerializer.serialize(m),v,C);this.events.next(R);let P=fD(this.rootComponentType).snapshot;return this.currentTransition=s=Re(U({},u),{targetSnapshot:P,urlAfterRedirects:m,extras:Re(U({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,W(s)}else{let p="";return this.events.next(new cr(u.id,this.urlSerializer.serialize(u.extractedUrl),p,sl.IgnoredByUrlHandlingStrategy)),u.resolve(null),ot}}),xe(u=>{let l=new tg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ee(u=>(this.currentTransition=s=Re(U({},u),{guards:uk(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),_k(this.environmentInjector,u=>this.events.next(u)),xe(u=>{if(s.guardsResult=u.guardsResult,is(u.guardsResult))throw yD(this.urlSerializer,u.guardsResult);let l=new ng(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),at(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",It.GuardRejected),!1)),Qp(u=>{if(u.guards.canActivateChecks.length)return W(u).pipe(xe(l=>{let h=new rg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),dt(l=>{let h=!1;return W(l).pipe(Gk(this.paramsInheritanceStrategy,this.environmentInjector),xe({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",It.NoDataFromResolver)}}))}),xe(l=>{let h=new ig(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),Qp(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(xe(m=>{h.component=m}),ee(()=>{})));for(let m of h.children)p.push(...l(m));return p};return eo(l(u.targetSnapshot.root)).pipe(Yn(null),En(1))}),Qp(()=>this.afterPreactivation()),dt(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Te(h).pipe(ee(()=>s)):W(s)}),ee(u=>{let l=tk(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=Re(U({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),xe(()=>{this.events.next(new $o)}),ck(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),En(1),xe({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new an(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Ih(this.transitionAbortSubject.pipe(xe(u=>{throw u}))),Jn(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",It.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Qn(u=>{if(a=!0,_D(u))this.events.next(new ar(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),ik(u)?this.events.next(new qo(u.url)):s.resolve(!1);else{this.events.next(new Bo(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(l)}}return ot}))}))}cancelNavigationTransition(n,r,i){let s=new ar(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function n1(t){return t!==Lo}var r1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>O(i1),providedIn:"root"})}}return t})(),wg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},i1=(()=>{class t extends wg{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Yf(t)))(i||t)}})()}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),AD=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:()=>O(s1),providedIn:"root"})}}return t})(),s1=(()=>{class t extends AD{constructor(){super(...arguments),this.location=O(Ji),this.urlSerializer=O(Qo),this.options=O(Xo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(Sg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new or,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=fD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof ss)this.stateMemento=this.createStateMemento();else if(n instanceof cr)this.rawUrlTree=r.initialUrl;else if(n instanceof ol){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof $o?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof ar&&(n.code===It.GuardRejected||n.code===It.NoDataFromResolver)?this.restoreHistory(r):n instanceof Bo?this.restoreHistory(r,!0):n instanceof an&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=U(U({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=U(U({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Yf(t)))(i||t)}})()}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ko=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ko||{});function RD(t,e){t.events.pipe(at(n=>n instanceof an||n instanceof ar||n instanceof Bo||n instanceof cr),ee(n=>n instanceof an||n instanceof cr?ko.COMPLETE:(n instanceof ar?n.code===It.Redirect||n.code===It.SupersededByNewNavigation:!1)?ko.REDIRECTING:ko.FAILED),at(n=>n!==ko.REDIRECTING),En(1)).subscribe(()=>{e()})}function o1(t){throw t}var a1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},c1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},xn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=O(Fu),this.stateManager=O(AD),this.options=O(Xo,{optional:!0})||{},this.pendingTasks=O(zr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(Ag),this.urlSerializer=O(Qo),this.location=O(Ji),this.urlHandlingStrategy=O(Sg),this._events=new Qe,this.errorHandler=this.options.errorHandler||o1,this.navigated=!1,this.routeReuseStrategy=O(r1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(Wo,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(pl,{optional:!0}),this.eventsSubscription=new Ce,this.isNgZoneEnabled=O(me)instanceof me&&me.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof ar&&r.code!==It.Redirect&&r.code!==It.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof an)this.navigated=!0;else if(r instanceof qo){let o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||n1(i.source)};this.scheduleNavigation(o,Lo,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}l1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Lo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=U({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Dg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,h=null;switch(a){case"merge":h=U(U({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=uD(m)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),p=this.currentUrlTree.root}return lD(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=is(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Lo,null,r)}navigate(n,r={skipLocationChange:!1}){return u1(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=U({},a1):r===!1?i=U({},c1):i=r,is(n))return zT(this.currentUrlTree,n,i);let s=this.parseUrl(n);return zT(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return RD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function u1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}function l1(t){return!(t instanceof $o)&&!(t instanceof qo)}var NW=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Qe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof an&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:lE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(Le(xn),Le(ur),Jf("tabindex"),Le(Mu),Le(vo),Le(Mn))}}static{this.\u0275dir=zi({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&wp("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&_p("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Bt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",To],skipLocationChange:[Bt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",To],replaceUrl:[Bt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",To],routerLink:"routerLink"},standalone:!0,features:[gp,mo]})}}return t})();var fl=class{};var d1=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(at(n=>n instanceof an),wn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Ou(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Te(i).pipe(Kn())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=W(null);let s=i.pipe(Ne(o=>o===null?W(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Te([s,o]).pipe(Kn())}else return s})}static{this.\u0275fac=function(r){return new(r||t)(H(xn),H(Vu),H(Ye),H(fl),H(Cg))}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ND=new q(""),h1=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=O(Ye),o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ss?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof an?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof cr&&n.code===sl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof al&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>S(this,null,function*(){yield new Promise(i=>{setTimeout(()=>{i()}),Pu(()=>{i()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new al(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){EE()}}static{this.\u0275prov=B({token:t,factory:t.\u0275fac})}}return t})();function MW(t,...e){return sn([{provide:Wo,multi:!0,useValue:t},[],{provide:ur,useFactory:MD,deps:[xn]},{provide:wo,multi:!0,useFactory:xD},e.map(n=>n.\u0275providers)])}function MD(t){return t.routerState.root}function ea(t,e){return{\u0275kind:t,\u0275providers:e}}function xD(){let t=O(At);return e=>{let n=t.get(Ki);if(e!==n.components[0])return;let r=t.get(xn),i=t.get(PD);t.get(Rg)===1&&r.initialNavigation(),t.get(OD,null,se.Optional)?.setUpPreloading(),t.get(ND,null,se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var PD=new q("",{factory:()=>new Qe}),Rg=new q("",{providedIn:"root",factory:()=>1});function f1(){return ea(2,[{provide:Rg,useValue:0},{provide:Lu,multi:!0,deps:[At],useFactory:e=>{let n=e.get(_T,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(xn),s=e.get(PD);RD(i,()=>{r(!0)}),e.get(Ag).afterPreactivation=()=>(r(!0),s.closed?W(void 0):s),i.initialNavigation()}))}}])}function p1(){return ea(3,[{provide:Lu,multi:!0,useFactory:()=>{let e=O(xn);return()=>{e.setUpLocationChangeListener()}}},{provide:Rg,useValue:2}])}var OD=new q("");function g1(t){return ea(0,[{provide:OD,useExisting:d1},{provide:fl,useExisting:t}])}function m1(){return ea(8,[QT,{provide:pl,useExisting:QT}])}function y1(t){let e=[{provide:CD,useValue:e1},{provide:SD,useValue:U({skipNextTransition:!!t?.skipInitialTransition},t)}];return ea(9,e)}var JT=new q("ROUTER_FORROOT_GUARD"),v1=[Ji,{provide:Qo,useClass:Uo},xn,Yo,{provide:ur,useFactory:MD,deps:[xn]},Cg,[]],xW=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[v1,[],{provide:Wo,multi:!0,useValue:n},{provide:JT,useFactory:E1,deps:[[xn,new vt,new pu]]},{provide:Xo,useValue:r||{}},r?.useHash?I1():w1(),_1(),r?.preloadingStrategy?g1(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?T1(r):[],r?.bindToComponentInputs?m1().\u0275providers:[],r?.enableViewTransitions?y1().\u0275providers:[],D1()]}}static forChild(n){return{ngModule:t,providers:[{provide:Wo,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(H(JT,8))}}static{this.\u0275mod=Hr({type:t})}static{this.\u0275inj=qr({})}}return t})();function _1(){return{provide:ND,useFactory:()=>{let t=O(bT),e=O(me),n=O(Xo),r=O(Ag),i=O(Qo);return n.scrollOffset&&t.setOffset(n.scrollOffset),new h1(i,r,t,e,n)}}}function I1(){return{provide:Mn,useClass:wT}}function w1(){return{provide:Mn,useClass:xp}}function E1(t){return"guarded"}function T1(t){return[t.initialNavigation==="disabled"?p1().\u0275providers:[],t.initialNavigation==="enabledBlocking"?f1().\u0275providers:[]]}var ZT=new q("");function D1(){return[{provide:ZT,useFactory:xD},{provide:wo,multi:!0,useExisting:ZT}]}var FD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},b1=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},LD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,v=l&63;u||(v=64,o||(m=64)),r.push(n[h],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):b1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new Mg;let m=s<<2|a>>4;if(r.push(m),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Mg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},C1=function(t){let e=FD(t);return LD.encodeByteArray(e,!0)},ta=function(t){return C1(t).replace(/\./g,"")},Pg=function(t){try{return LD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function S1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var A1=()=>S1().__FIREBASE_DEFAULTS__,R1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},N1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Pg(t[1]);return e&&JSON.parse(e)},yl=()=>{try{return A1()||R1()||N1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},VD=t=>{var e,n;return(n=(e=yl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},UD=t=>{let e=VD(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Og=()=>{var t;return(t=yl())===null||t===void 0?void 0:t.config},jD=t=>{var e;return(e=yl())===null||e===void 0?void 0:e[`_${t}`]};var ml=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function BD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ta(JSON.stringify(n)),ta(JSON.stringify(o)),""].join(".")}function wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $D(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wt())}function M1(){var t;let e=(t=yl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GD(){return!M1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kg(){try{return typeof indexedDB=="object"}catch{return!1}}function WD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var x1="FirebaseError",xt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=x1,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pn.prototype.create)}},Pn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?P1(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new xt(i,a,r)}};function P1(t,e){return t.replace(O1,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var O1=/\{\$([^}]+)}/g;function dr(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(kD(s)&&kD(o)){if(!dr(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function kD(t){return t!==null&&typeof t=="object"}function Fg(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function KD(t,e){let n=new xg(t,e);return n.subscribe.bind(n)}var xg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");k1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ng),i.error===void 0&&(i.error=Ng),i.complete===void 0&&(i.complete=Ng);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function k1(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ng(){}var kW=4*60*60*1e3;function Xe(t){return t&&t._delegate?t._delegate:t}var Pt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Yr="[DEFAULT]";var Lg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new ml;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L1(e))try{this.getOrInitializeService({instanceIdentifier:Yr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Yr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Yr){return this.instances.has(e)}getOptions(e=Yr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:F1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yr){return this.component?this.component.multipleInstances?e:Yr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function F1(t){return t===Yr?void 0:t}function L1(t){return t.instantiationMode==="EAGER"}var vl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Lg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var V1=[],ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ce||{}),U1={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},j1=ce.INFO,B1={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},$1=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=B1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},hr=class{constructor(e){this.name=e,this._logLevel=j1,this._logHandler=$1,this._userLogHandler=null,V1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var q1=(t,e)=>e.some(n=>t instanceof n),QD,YD;function H1(){return QD||(QD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z1(){return YD||(YD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var JD=new WeakMap,Ug=new WeakMap,ZD=new WeakMap,Vg=new WeakMap,Bg=new WeakMap;function G1(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(un(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&JD.set(n,t)}).catch(()=>{}),Bg.set(e,t),e}function W1(t){if(Ug.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ug.set(t,e)}var jg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ug.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ZD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return un(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function XD(t){jg=t(jg)}function K1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(_l(this),e,...n);return ZD.set(r,e.sort?e.sort():[e]),un(r)}:z1().includes(t)?function(...e){return t.apply(_l(this),e),un(JD.get(this))}:function(...e){return un(t.apply(_l(this),e))}}function Q1(t){return typeof t=="function"?K1(t):(t instanceof IDBTransaction&&W1(t),q1(t,H1())?new Proxy(t,jg):t)}function un(t){if(t instanceof IDBRequest)return G1(t);if(Vg.has(t))return Vg.get(t);let e=Q1(t);return e!==t&&(Vg.set(t,e),Bg.set(e,t)),e}var _l=t=>Bg.get(t);function tb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=un(o);return r&&o.addEventListener("upgradeneeded",u=>{r(un(o.result),u.oldVersion,u.newVersion,un(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var Y1=["get","getKey","getAll","getAllKeys","count"],J1=["put","add","delete","clear"],$g=new Map;function eb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($g.get(e))return $g.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=J1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Y1.includes(n)))return;let s=function(o,...a){return S(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return $g.set(e,s),s}XD(t=>Re(U({},t),{get:(e,n,r)=>eb(e,n)||t.get(e,n,r),has:(e,n)=>!!eb(e,n)||t.has(e,n)}));var Hg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Z1(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Z1(t){let e=t.getComponent();return e?.type==="VERSION"}var zg="@firebase/app",nb="0.10.13";var On=new hr("@firebase/app"),X1="@firebase/app-compat",eF="@firebase/analytics-compat",tF="@firebase/analytics",nF="@firebase/app-check-compat",rF="@firebase/app-check",iF="@firebase/auth",sF="@firebase/auth-compat",oF="@firebase/database",aF="@firebase/data-connect",cF="@firebase/database-compat",uF="@firebase/functions",lF="@firebase/functions-compat",dF="@firebase/installations",hF="@firebase/installations-compat",fF="@firebase/messaging",pF="@firebase/messaging-compat",gF="@firebase/performance",mF="@firebase/performance-compat",yF="@firebase/remote-config",vF="@firebase/remote-config-compat",_F="@firebase/storage",IF="@firebase/storage-compat",wF="@firebase/firestore",EF="@firebase/vertexai-preview",TF="@firebase/firestore-compat",DF="firebase",bF="10.14.1";var Gg="[DEFAULT]",CF={[zg]:"fire-core",[X1]:"fire-core-compat",[tF]:"fire-analytics",[eF]:"fire-analytics-compat",[rF]:"fire-app-check",[nF]:"fire-app-check-compat",[iF]:"fire-auth",[sF]:"fire-auth-compat",[oF]:"fire-rtdb",[aF]:"fire-data-connect",[cF]:"fire-rtdb-compat",[uF]:"fire-fn",[lF]:"fire-fn-compat",[dF]:"fire-iid",[hF]:"fire-iid-compat",[fF]:"fire-fcm",[pF]:"fire-fcm-compat",[gF]:"fire-perf",[mF]:"fire-perf-compat",[yF]:"fire-rc",[vF]:"fire-rc-compat",[_F]:"fire-gcs",[IF]:"fire-gcs-compat",[wF]:"fire-fst",[TF]:"fire-fst-compat",[EF]:"fire-vertex","fire-js":"fire-js",[DF]:"fire-js-all"};var na=new Map,SF=new Map,Wg=new Map;function rb(t,e){try{t.container.addComponent(e)}catch(n){On.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pr(t){let e=t.name;if(Wg.has(e))return On.debug(`There were multiple attempts to register component ${e}.`),!1;Wg.set(e,t);for(let n of na.values())rb(n,t);for(let n of SF.values())rb(n,t);return!0}function Jg(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cs(t){return t.settings!==void 0}var AF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new Pn("app","Firebase",AF);var Kg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}};var us=bF;function Zg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Gg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw fr.create("bad-app-name",{appName:String(i)});if(n||(n=Og()),!n)throw fr.create("no-options");let s=na.get(i);if(s){if(dr(n,s.options)&&dr(r,s.config))return s;throw fr.create("duplicate-app",{appName:i})}let o=new vl(i);for(let u of Wg.values())o.addComponent(u);let a=new Kg(n,r,o);return na.set(i,a),a}function ia(t=Gg){let e=na.get(t);if(!e&&t===Gg&&Og())return Zg();if(!e)throw fr.create("no-app",{appName:t});return e}function Il(){return Array.from(na.values())}function Ue(t,e,n){var r;let i=(r=CF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),On.warn(a.join(" "));return}pr(new Pt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var RF="firebase-heartbeat-database",NF=1,ra="firebase-heartbeat-store",qg=null;function ab(){return qg||(qg=tb(RF,NF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ra)}catch(n){console.warn(n)}}}}).catch(t=>{throw fr.create("idb-open",{originalErrorMessage:t.message})})),qg}function MF(t){return S(this,null,function*(){try{let n=(yield ab()).transaction(ra),r=yield n.objectStore(ra).get(cb(t));return yield n.done,r}catch(e){if(e instanceof xt)On.warn(e.message);else{let n=fr.create("idb-get",{originalErrorMessage:e?.message});On.warn(n.message)}}})}function ib(t,e){return S(this,null,function*(){try{let r=(yield ab()).transaction(ra,"readwrite");yield r.objectStore(ra).put(e,cb(t)),yield r.done}catch(n){if(n instanceof xt)On.warn(n.message);else{let r=fr.create("idb-set",{originalErrorMessage:n?.message});On.warn(r.message)}}})}function cb(t){return`${t.name}!${t.options.appId}`}var xF=1024,PF=30*24*60*60*1e3,Qg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Yg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return S(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=sb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=PF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){On.warn(r)}})}getHeartbeatsHeader(){return S(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=sb(),{heartbeatsToSend:r,unsentEntries:i}=OF(this._heartbeatsCache.heartbeats),s=ta(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return On.warn(n),""}})}};function sb(){return new Date().toISOString().substring(0,10)}function OF(t,e=xF){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),ob(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ob(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Yg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return kg()?WD().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield MF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ib(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return ib(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function ob(t){return ta(JSON.stringify({version:2,heartbeats:t})).length}function kF(t){pr(new Pt("platform-logger",e=>new Hg(e),"PRIVATE")),pr(new Pt("heartbeat",e=>new Qg(e),"PRIVATE")),Ue(zg,nb,t),Ue(zg,nb,"esm2017"),Ue("fire-js","")}kF("");var FF="firebase",LF="10.14.1";Ue(FF,LF,"app");var ds=new nr("ANGULARFIRE2_VERSION");function em(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var oa=(t,e)=>{let n=e?[e]:Il(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},sa=class{constructor(){return oa(VF)}},VF="app-check";function ls(){}var wl=class{zone;delegate;constructor(e,n=gh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Xg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ls,{},ls,ls)),n.pipe(xe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},aa=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new wl(Zone.current)),this.insideAngular=n.run(()=>new wl(Zone.current,Wn)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(H(me))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function El(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function UF(t){return El().ngZone.runOutsideAngular(()=>t())}function Jr(t){return El().ngZone.run(()=>t())}function jF(t){return BF(El())(t)}function BF(t){return function(n){return n=n.lift(new Xg(t.ngZone)),n.pipe(Hn(t.outsideAngular),qn(t.insideAngular))}}var $F=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Jr(()=>t.apply(void 0,r))},je=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Jr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ls,{},ls,ls))),r[s]=$F(r[s],n));let i=UF(()=>t.apply(this,r));if(!e)if(i instanceof X){let s=El();return i.pipe(Hn(s.outsideAngular),qn(s.insideAngular))}else return Jr(()=>i);return i instanceof X?i.pipe(jF):i instanceof Promise?Jr(()=>new Promise((s,o)=>i.then(a=>Jr(()=>s(a)),a=>Jr(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Jr(()=>i)};var Zr=class{constructor(e){return e}},ca=class{constructor(){return Il()}};function qF(t){return t&&t.length===1?t[0]:new Zr(ia())}var tm=new q("angularfire2._apps"),HF={provide:Zr,useFactory:qF,deps:[[new vt,tm]]},zF={provide:ca,deps:[[new vt,tm]]};function GF(t){return(e,n)=>{let r=n.get(Rt);Ue("angularfire",ds.full,"core"),Ue("angularfire",ds.full,"app"),Ue("angular",nT.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Zr(i)}}function w9(t,...e){return sn([HF,zF,{provide:tm,useFactory:GF(t),multi:!0,deps:[me,At,aa,...e]}])}var E9=je(Zg,!0);function mb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var yb=mb,vb=new Pn("auth","Firebase",mb());var Cl=new hr("@firebase/auth");function KF(t,...e){Cl.logLevel<=ce.WARN&&Cl.warn(`Auth (${us}): ${t}`,...e)}function Dl(t,...e){Cl.logLevel<=ce.ERROR&&Cl.error(`Auth (${us}): ${t}`,...e)}function ub(t,...e){throw fm(t,...e)}function hm(t,...e){return fm(t,...e)}function _b(t,e,n){let r=Object.assign(Object.assign({},yb()),{[e]:n});return new Pn("auth","Firebase",r).create(e,{appName:t.name})}function bl(t){return _b(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vb.create(t,...e)}function ge(t,e,...n){if(!t)throw fm(e,...n)}function ua(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Dl(e),new Error(e)}function Sl(t,e){t||ua(e)}function QF(){return lb()==="http:"||lb()==="https:"}function lb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function YF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QF()||HD()||"connection"in navigator)?navigator.onLine:!0}function JF(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ei=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sl(n>e,"Short delay should be less than long delay!"),this.isMobile=$D()||zD()}get(){return YF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ZF(t,e){Sl(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Al=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ua("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ua("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ua("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var XF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var eL=new ei(3e4,6e4);function Ib(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function xl(s,o,a,u){return S(this,arguments,function*(t,e,n,r,i={}){return wb(t,i,()=>S(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Fg(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let v=Object.assign({method:e,headers:m},l);return qD()||(v.referrerPolicy="no-referrer"),Al.fetch()(Eb(t,t.config.apiHost,n,p),v)}))})}function wb(t,e,n){return S(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},XF),e);try{let i=new im(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Tl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tl(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Tl(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Tl(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw _b(t,h,l);ub(t,h)}}catch(i){if(i instanceof xt)throw i;ub(t,"network-request-failed",{message:String(i)})}})}function Eb(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?ZF(t.config,i):`${t.config.apiScheme}://${i}`}var im=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hm(this.auth,"network-request-failed")),eL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Tl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=hm(t,e,r);return i.customData._tokenResponse=n,i}function tL(t,e){return S(this,null,function*(){return xl(t,"POST","/v1/accounts:delete",e)})}function Tb(t,e){return S(this,null,function*(){return xl(t,"POST","/v1/accounts:lookup",e)})}function la(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function pm(t,e=!1){return S(this,null,function*(){let n=Xe(t),r=yield n.getIdToken(e),i=Db(r);ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:la(nm(i.auth_time)),issuedAtTime:la(nm(i.iat)),expirationTime:la(nm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function nm(t){return Number(t)*1e3}function Db(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Pg(n);return i?JSON.parse(i):(Dl("Failed to decode base64 JWT payload"),null)}catch(i){return Dl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function db(t){let e=Db(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function sm(t,e,n=!1){return S(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof xt&&nL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function nL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var om=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),n)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ha=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=la(this.lastLoginAt),this.creationTime=la(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Rl(t){return S(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield sm(t,Tb(n,{idToken:r}));ge(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?bb(s.providerUserInfo):[],a=rL(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ha(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function gm(t){return S(this,null,function*(){let e=Xe(t);yield Rl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function rL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function bb(t){return t.map(e=>{var{providerId:n}=e,r=uh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function iL(t,e){return S(this,null,function*(){let n=yield wb(t,{},()=>S(this,null,function*(){let r=Fg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Eb(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Al.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function sL(t,e){return S(this,null,function*(){return xl(t,"POST","/v2/accounts:revokeToken",Ib(t,e))})}var da=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):db(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");let n=db(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return S(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return S(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield iL(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(ge(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ge(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ge(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ua("not implemented")}};function gr(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var fa=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=uh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new om(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ha(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let n=yield sm(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return pm(this,e)}reload(){return gm(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return S(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Rl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(cs(this.auth.app))return Promise.reject(bl(this.auth));let e=yield this.getIdToken();return yield sm(this,tL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,P=(l=n.createdAt)!==null&&l!==void 0?l:void 0,$=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:L,emailVerified:J,isAnonymous:_e,providerData:Z,stsTokenManager:E}=n;ge(L&&E,e,"internal-error");let y=da.fromJSON(this.name,E);ge(typeof L=="string",e,"internal-error"),gr(p,e.name),gr(m,e.name),ge(typeof J=="boolean",e,"internal-error"),ge(typeof _e=="boolean",e,"internal-error"),gr(v,e.name),gr(C,e.name),gr(N,e.name),gr(R,e.name),gr(P,e.name),gr($,e.name);let _=new t({uid:L,auth:e,email:m,emailVerified:J,displayName:p,isAnonymous:_e,photoURL:C,phoneNumber:v,tenantId:N,stsTokenManager:y,createdAt:P,lastLoginAt:$});return Z&&Array.isArray(Z)&&(_.providerData=Z.map(w=>Object.assign({},w))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,n,r=!1){return S(this,null,function*(){let i=new da;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Rl(s),s})}static _fromGetAccountInfoResponse(e,n,r){return S(this,null,function*(){let i=n.users[0];ge(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?bb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new da;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ha(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var hb=new Map;function Xr(t){Sl(t instanceof Function,"Expected a class definition");let e=hb.get(t);return e?(Sl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hb.set(t,e),e)}var oL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(n,r){return S(this,null,function*(){this.storage[n]=r})}_get(n){return S(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return S(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),am=oL;function rm(t,e,n){return`firebase:${t}:${e}:${n}`}var Nl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=rm(this.userKey,i.apiKey,s),this.fullPersistenceKey=rm("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?fa._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return S(this,null,function*(){if(!n.length)return new t(Xr(am),e,r);let i=(yield Promise.all(n.map(l=>S(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Xr(am),o=rm(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=fa._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>S(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function fb(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hL(e))return"Blackberry";if(fL(e))return"Webos";if(cL(e))return"Safari";if((e.includes("chrome/")||uL(e))&&!e.includes("edge/"))return"Chrome";if(dL(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function aL(t=wt()){return/firefox\//i.test(t)}function cL(t=wt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uL(t=wt()){return/crios\//i.test(t)}function lL(t=wt()){return/iemobile/i.test(t)}function dL(t=wt()){return/android/i.test(t)}function hL(t=wt()){return/blackberry/i.test(t)}function fL(t=wt()){return/webos/i.test(t)}function Cb(t,e=[]){let n;switch(t){case"Browser":n=fb(wt());break;case"Worker":n=`${fb(wt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${us}/${r}`}var cm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function pL(n){return S(this,arguments,function*(t,e={}){return xl(t,"GET","/v2/passwordPolicy",Ib(t,e))})}var gL=6,um=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:gL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var lm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ml(this),this.idTokenSubscription=new Ml(this),this.beforeStateQueue=new cm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xr(n)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Nl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let n=yield Tb(this,{idToken:e}),r=yield fa._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var n;if(cs(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return S(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield Rl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=JF()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(cs(this.app))return Promise.reject(bl(this));let n=e?Xe(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return S(this,null,function*(){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return cs(this.app)?Promise.reject(bl(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return cs(this.app)?Promise.reject(bl(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(Xr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield pL(this),n=new um(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield sL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return S(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Xr(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=yield Nl.create(this,[Xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return S(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&KF(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function mL(t){return Xe(t)}var Ml=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=KD(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var yL={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vL(t){yL=t}function _L(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function IL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Xr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var O9=_L("rcb"),k9=new ei(3e4,6e4);var F9=new ei(2e3,1e4);var L9=10*60*1e3;var V9=new ei(3e4,6e4);var U9=new ei(5e3,15e3);var j9=encodeURIComponent("fac");var pb="@firebase/auth",gb="1.7.9";var dm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function wL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EL(t){pr(new Pt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ge(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cb(t)},l=new lm(r,i,s,u);return IL(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pr(new Pt("auth-internal",e=>{let n=mL(e.getProvider("auth").getImmediate());return(r=>new dm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ue(pb,gb,wL(t)),Ue(pb,gb,"esm2017")}var TL=5*60,B9=jD("authIdTokenMaxAge")||TL;function DL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}vL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=hm("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",DL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EL("Browser");var TV="auth";var Pl=class{constructor(){return oa(TV)}};var Sb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ab={};var mr,mm;(function(){var t;function e(E,y){function _(){}_.prototype=y.prototype,E.D=y.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(w,T,b){for(var I=Array(arguments.length-2),yn=2;yn<arguments.length;yn++)I[yn-2]=arguments[yn];return y.prototype[T].apply(w,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,_){_||(_=0);var w=Array(16);if(typeof y=="string")for(var T=0;16>T;++T)w[T]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(T=0;16>T;++T)w[T]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=E.g[0],_=E.g[1],T=E.g[2];var b=E.g[3],I=y+(b^_&(T^b))+w[0]+3614090360&4294967295;y=_+(I<<7&4294967295|I>>>25),I=b+(T^y&(_^T))+w[1]+3905402710&4294967295,b=y+(I<<12&4294967295|I>>>20),I=T+(_^b&(y^_))+w[2]+606105819&4294967295,T=b+(I<<17&4294967295|I>>>15),I=_+(y^T&(b^y))+w[3]+3250441966&4294967295,_=T+(I<<22&4294967295|I>>>10),I=y+(b^_&(T^b))+w[4]+4118548399&4294967295,y=_+(I<<7&4294967295|I>>>25),I=b+(T^y&(_^T))+w[5]+1200080426&4294967295,b=y+(I<<12&4294967295|I>>>20),I=T+(_^b&(y^_))+w[6]+2821735955&4294967295,T=b+(I<<17&4294967295|I>>>15),I=_+(y^T&(b^y))+w[7]+4249261313&4294967295,_=T+(I<<22&4294967295|I>>>10),I=y+(b^_&(T^b))+w[8]+1770035416&4294967295,y=_+(I<<7&4294967295|I>>>25),I=b+(T^y&(_^T))+w[9]+2336552879&4294967295,b=y+(I<<12&4294967295|I>>>20),I=T+(_^b&(y^_))+w[10]+4294925233&4294967295,T=b+(I<<17&4294967295|I>>>15),I=_+(y^T&(b^y))+w[11]+2304563134&4294967295,_=T+(I<<22&4294967295|I>>>10),I=y+(b^_&(T^b))+w[12]+1804603682&4294967295,y=_+(I<<7&4294967295|I>>>25),I=b+(T^y&(_^T))+w[13]+4254626195&4294967295,b=y+(I<<12&4294967295|I>>>20),I=T+(_^b&(y^_))+w[14]+2792965006&4294967295,T=b+(I<<17&4294967295|I>>>15),I=_+(y^T&(b^y))+w[15]+1236535329&4294967295,_=T+(I<<22&4294967295|I>>>10),I=y+(T^b&(_^T))+w[1]+4129170786&4294967295,y=_+(I<<5&4294967295|I>>>27),I=b+(_^T&(y^_))+w[6]+3225465664&4294967295,b=y+(I<<9&4294967295|I>>>23),I=T+(y^_&(b^y))+w[11]+643717713&4294967295,T=b+(I<<14&4294967295|I>>>18),I=_+(b^y&(T^b))+w[0]+3921069994&4294967295,_=T+(I<<20&4294967295|I>>>12),I=y+(T^b&(_^T))+w[5]+3593408605&4294967295,y=_+(I<<5&4294967295|I>>>27),I=b+(_^T&(y^_))+w[10]+38016083&4294967295,b=y+(I<<9&4294967295|I>>>23),I=T+(y^_&(b^y))+w[15]+3634488961&4294967295,T=b+(I<<14&4294967295|I>>>18),I=_+(b^y&(T^b))+w[4]+3889429448&4294967295,_=T+(I<<20&4294967295|I>>>12),I=y+(T^b&(_^T))+w[9]+568446438&4294967295,y=_+(I<<5&4294967295|I>>>27),I=b+(_^T&(y^_))+w[14]+3275163606&4294967295,b=y+(I<<9&4294967295|I>>>23),I=T+(y^_&(b^y))+w[3]+4107603335&4294967295,T=b+(I<<14&4294967295|I>>>18),I=_+(b^y&(T^b))+w[8]+1163531501&4294967295,_=T+(I<<20&4294967295|I>>>12),I=y+(T^b&(_^T))+w[13]+2850285829&4294967295,y=_+(I<<5&4294967295|I>>>27),I=b+(_^T&(y^_))+w[2]+4243563512&4294967295,b=y+(I<<9&4294967295|I>>>23),I=T+(y^_&(b^y))+w[7]+1735328473&4294967295,T=b+(I<<14&4294967295|I>>>18),I=_+(b^y&(T^b))+w[12]+2368359562&4294967295,_=T+(I<<20&4294967295|I>>>12),I=y+(_^T^b)+w[5]+4294588738&4294967295,y=_+(I<<4&4294967295|I>>>28),I=b+(y^_^T)+w[8]+2272392833&4294967295,b=y+(I<<11&4294967295|I>>>21),I=T+(b^y^_)+w[11]+1839030562&4294967295,T=b+(I<<16&4294967295|I>>>16),I=_+(T^b^y)+w[14]+4259657740&4294967295,_=T+(I<<23&4294967295|I>>>9),I=y+(_^T^b)+w[1]+2763975236&4294967295,y=_+(I<<4&4294967295|I>>>28),I=b+(y^_^T)+w[4]+1272893353&4294967295,b=y+(I<<11&4294967295|I>>>21),I=T+(b^y^_)+w[7]+4139469664&4294967295,T=b+(I<<16&4294967295|I>>>16),I=_+(T^b^y)+w[10]+3200236656&4294967295,_=T+(I<<23&4294967295|I>>>9),I=y+(_^T^b)+w[13]+681279174&4294967295,y=_+(I<<4&4294967295|I>>>28),I=b+(y^_^T)+w[0]+3936430074&4294967295,b=y+(I<<11&4294967295|I>>>21),I=T+(b^y^_)+w[3]+3572445317&4294967295,T=b+(I<<16&4294967295|I>>>16),I=_+(T^b^y)+w[6]+76029189&4294967295,_=T+(I<<23&4294967295|I>>>9),I=y+(_^T^b)+w[9]+3654602809&4294967295,y=_+(I<<4&4294967295|I>>>28),I=b+(y^_^T)+w[12]+3873151461&4294967295,b=y+(I<<11&4294967295|I>>>21),I=T+(b^y^_)+w[15]+530742520&4294967295,T=b+(I<<16&4294967295|I>>>16),I=_+(T^b^y)+w[2]+3299628645&4294967295,_=T+(I<<23&4294967295|I>>>9),I=y+(T^(_|~b))+w[0]+4096336452&4294967295,y=_+(I<<6&4294967295|I>>>26),I=b+(_^(y|~T))+w[7]+1126891415&4294967295,b=y+(I<<10&4294967295|I>>>22),I=T+(y^(b|~_))+w[14]+2878612391&4294967295,T=b+(I<<15&4294967295|I>>>17),I=_+(b^(T|~y))+w[5]+4237533241&4294967295,_=T+(I<<21&4294967295|I>>>11),I=y+(T^(_|~b))+w[12]+1700485571&4294967295,y=_+(I<<6&4294967295|I>>>26),I=b+(_^(y|~T))+w[3]+2399980690&4294967295,b=y+(I<<10&4294967295|I>>>22),I=T+(y^(b|~_))+w[10]+4293915773&4294967295,T=b+(I<<15&4294967295|I>>>17),I=_+(b^(T|~y))+w[1]+2240044497&4294967295,_=T+(I<<21&4294967295|I>>>11),I=y+(T^(_|~b))+w[8]+1873313359&4294967295,y=_+(I<<6&4294967295|I>>>26),I=b+(_^(y|~T))+w[15]+4264355552&4294967295,b=y+(I<<10&4294967295|I>>>22),I=T+(y^(b|~_))+w[6]+2734768916&4294967295,T=b+(I<<15&4294967295|I>>>17),I=_+(b^(T|~y))+w[13]+1309151649&4294967295,_=T+(I<<21&4294967295|I>>>11),I=y+(T^(_|~b))+w[4]+4149444226&4294967295,y=_+(I<<6&4294967295|I>>>26),I=b+(_^(y|~T))+w[11]+3174756917&4294967295,b=y+(I<<10&4294967295|I>>>22),I=T+(y^(b|~_))+w[2]+718787259&4294967295,T=b+(I<<15&4294967295|I>>>17),I=_+(b^(T|~y))+w[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(T+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+T&4294967295,E.g[3]=E.g[3]+b&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var _=y-this.blockSize,w=this.B,T=this.h,b=0;b<y;){if(T==0)for(;b<=_;)i(this,E,b),b+=this.blockSize;if(typeof E=="string"){for(;b<y;)if(w[T++]=E.charCodeAt(b++),T==this.blockSize){i(this,w),T=0;break}}else for(;b<y;)if(w[T++]=E[b++],T==this.blockSize){i(this,w),T=0;break}}this.h=T,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var _=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=_&255,_/=256;for(this.u(E),E=Array(16),y=_=0;4>y;++y)for(var w=0;32>w;w+=8)E[_++]=this.g[y]>>>w&255;return E};function s(E,y){var _=a;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=y(E)}function o(E,y){this.h=y;for(var _=[],w=!0,T=E.length-1;0<=T;T--){var b=E[T]|0;w&&b==y||(_[T]=b,w=!1)}this.g=_}var a={};function u(E){return-128<=E&&128>E?s(E,function(y){return new o([y|0],0>y?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return R(l(-E));for(var y=[],_=1,w=0;E>=_;w++)y[w]=E/_|0,_*=4294967296;return new o(y,0)}function h(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return R(h(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),w=p,T=0;T<E.length;T+=8){var b=Math.min(8,E.length-T),I=parseInt(E.substring(T,T+b),y);8>b?(b=l(Math.pow(y,b)),w=w.j(b).add(l(I))):(w=w.j(_),w=w.add(l(I)))}return w}var p=u(0),m=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(N(this))return-R(this).m();for(var E=0,y=1,_=0;_<this.g.length;_++){var w=this.i(_);E+=(0<=w?w:4294967296+w)*y,y*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C(this))return"0";if(N(this))return"-"+R(this).toString(E);for(var y=l(Math.pow(E,6)),_=this,w="";;){var T=J(_,y).g;_=P(_,T.j(y));var b=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=T,C(_))return b+w;for(;6>b.length;)b="0"+b;w=b+w}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function C(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function N(E){return E.h==-1}t.l=function(E){return E=P(this,E),N(E)?-1:C(E)?0:1};function R(E){for(var y=E.g.length,_=[],w=0;w<y;w++)_[w]=~E.g[w];return new o(_,~E.h).add(m)}t.abs=function(){return N(this)?R(this):this},t.add=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],w=0,T=0;T<=y;T++){var b=w+(this.i(T)&65535)+(E.i(T)&65535),I=(b>>>16)+(this.i(T)>>>16)+(E.i(T)>>>16);w=I>>>16,b&=65535,I&=65535,_[T]=I<<16|b}return new o(_,_[_.length-1]&-2147483648?-1:0)};function P(E,y){return E.add(R(y))}t.j=function(E){if(C(this)||C(E))return p;if(N(this))return N(E)?R(this).j(R(E)):R(R(this).j(E));if(N(E))return R(this.j(R(E)));if(0>this.l(v)&&0>E.l(v))return l(this.m()*E.m());for(var y=this.g.length+E.g.length,_=[],w=0;w<2*y;w++)_[w]=0;for(w=0;w<this.g.length;w++)for(var T=0;T<E.g.length;T++){var b=this.i(w)>>>16,I=this.i(w)&65535,yn=E.i(T)>>>16,Os=E.i(T)&65535;_[2*w+2*T]+=I*Os,$(_,2*w+2*T),_[2*w+2*T+1]+=b*Os,$(_,2*w+2*T+1),_[2*w+2*T+1]+=I*yn,$(_,2*w+2*T+1),_[2*w+2*T+2]+=b*yn,$(_,2*w+2*T+2)}for(w=0;w<y;w++)_[w]=_[2*w+1]<<16|_[2*w];for(w=y;w<2*y;w++)_[w]=0;return new o(_,0)};function $(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function L(E,y){this.g=E,this.h=y}function J(E,y){if(C(y))throw Error("division by zero");if(C(E))return new L(p,p);if(N(E))return y=J(R(E),y),new L(R(y.g),R(y.h));if(N(y))return y=J(E,R(y)),new L(R(y.g),y.h);if(30<E.g.length){if(N(E)||N(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,w=y;0>=w.l(E);)_=_e(_),w=_e(w);var T=Z(_,1),b=Z(w,1);for(w=Z(w,2),_=Z(_,2);!C(w);){var I=b.add(w);0>=I.l(E)&&(T=T.add(_),b=I),w=Z(w,1),_=Z(_,1)}return y=P(E,T.j(y)),new L(T,y)}for(T=p;0<=E.l(y);){for(_=Math.max(1,Math.floor(E.m()/y.m())),w=Math.ceil(Math.log(_)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),b=l(_),I=b.j(y);N(I)||0<I.l(E);)_-=w,b=l(_),I=b.j(y);C(b)&&(b=m),T=T.add(b),E=P(E,I)}return new L(T,E)}t.A=function(E){return J(this,E).h},t.and=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],w=0;w<y;w++)_[w]=this.i(w)&E.i(w);return new o(_,this.h&E.h)},t.or=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],w=0;w<y;w++)_[w]=this.i(w)|E.i(w);return new o(_,this.h|E.h)},t.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],w=0;w<y;w++)_[w]=this.i(w)^E.i(w);return new o(_,this.h^E.h)};function _e(E){for(var y=E.g.length+1,_=[],w=0;w<y;w++)_[w]=E.i(w)<<1|E.i(w-1)>>>31;return new o(_,E.h)}function Z(E,y){var _=y>>5;y%=32;for(var w=E.g.length-_,T=[],b=0;b<w;b++)T[b]=0<y?E.i(b+_)>>>y|E.i(b+_+1)<<32-y:E.i(b+_);return new o(T,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,mm=Ab.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,mr=Ab.Integer=o}).apply(typeof Sb<"u"?Sb:typeof self<"u"?self:typeof window<"u"?window:{});var Ol=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},kn={};var ym,DV,hs,vm,pa,kl,_m,Im,wm;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ol=="object"&&Ol];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var D=c[g];if(!(D in f))break e;f=f[D]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,D={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,D,A){for(var k=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)k[Ie-2]=arguments[Ie];return d.prototype[D].apply(g,k)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let D=c.length||0,A=g.length||0;c.length=D+A;for(let k=0;k<A;k++)c[D+k]=g[k]}else c.push(g)}}class P{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function $(c){return/^[\s\xa0]*$/.test(c)}function L(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function J(c){return J[" "](c),c}J[" "]=function(){};var _e=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function Z(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)c[f]=g[f];for(let A=0;A<_.length;A++)f=_[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function b(c){a.setTimeout(()=>{throw c},0)}function I(){var c=xd;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class yn{constructor(){this.h=this.g=null}add(d,f){let g=Os.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Os=new P(()=>new x0,c=>c.reset());class x0{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ks,Fs=!1,xd=new yn,Av=()=>{let c=a.Promise.resolve(void 0);ks=()=>{c.then(P0)}};var P0=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){b(f)}var d=Os;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Fs=!1};function Un(){this.s=this.s,this.C=this.C}Un.prototype.s=!1,Un.prototype.ma=function(){this.s||(this.s=!0,this.N())},Un.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ze(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ze.prototype.h=function(){this.defaultPrevented=!0};var O0=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Ls(c,d){if(ze.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(_e){e:{try{J(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:k0[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ls.aa.h.call(this)}}C(Ls,ze);var k0={2:"touch",3:"pen",4:"mouse"};Ls.prototype.h=function(){Ls.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Vs="closure_listenable_"+(1e6*Math.random()|0),F0=0;function L0(c,d,f,g,D){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=D,this.key=++F0,this.da=this.fa=!1}function Ba(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function $a(c){this.src=c,this.g={},this.h=0}$a.prototype.add=function(c,d,f,g,D){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var k=Od(c,d,g,D);return-1<k?(d=c[k],f||(d.fa=!1)):(d=new L0(d,this.src,A,!!g,D),d.fa=f,c.push(d)),d};function Pd(c,d){var f=d.type;if(f in c.g){var g=c.g[f],D=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=D)&&Array.prototype.splice.call(g,D,1),A&&(Ba(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Od(c,d,f,g){for(var D=0;D<c.length;++D){var A=c[D];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return D}return-1}var kd="closure_lm_"+(1e6*Math.random()|0),Fd={};function Rv(c,d,f,g,D){if(g&&g.once)return Mv(c,d,f,g,D);if(Array.isArray(d)){for(var A=0;A<d.length;A++)Rv(c,d[A],f,g,D);return null}return f=jd(f),c&&c[Vs]?c.K(d,f,l(g)?!!g.capture:!!g,D):Nv(c,d,f,!1,g,D)}function Nv(c,d,f,g,D,A){if(!d)throw Error("Invalid event type");var k=l(D)?!!D.capture:!!D,Ie=Vd(c);if(Ie||(c[kd]=Ie=new $a(c)),f=Ie.add(d,f,g,k,A),f.proxy)return f;if(g=V0(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)O0||(D=k),D===void 0&&(D=!1),c.addEventListener(d.toString(),g,D);else if(c.attachEvent)c.attachEvent(Pv(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function V0(){function c(f){return d.call(c.src,c.listener,f)}let d=U0;return c}function Mv(c,d,f,g,D){if(Array.isArray(d)){for(var A=0;A<d.length;A++)Mv(c,d[A],f,g,D);return null}return f=jd(f),c&&c[Vs]?c.L(d,f,l(g)?!!g.capture:!!g,D):Nv(c,d,f,!0,g,D)}function xv(c,d,f,g,D){if(Array.isArray(d))for(var A=0;A<d.length;A++)xv(c,d[A],f,g,D);else g=l(g)?!!g.capture:!!g,f=jd(f),c&&c[Vs]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Od(A,f,g,D),-1<f&&(Ba(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Vd(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Od(d,f,g,D)),(f=-1<c?d[c]:null)&&Ld(f))}function Ld(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Vs])Pd(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(Pv(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Vd(d))?(Pd(f,c),f.h==0&&(f.src=null,d[kd]=null)):Ba(c)}}}function Pv(c){return c in Fd?Fd[c]:Fd[c]="on"+c}function U0(c,d){if(c.da)c=!0;else{d=new Ls(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Ld(c),c=f.call(g,d)}return c}function Vd(c){return c=c[kd],c instanceof $a?c:null}var Ud="__closure_events_fn_"+(1e9*Math.random()>>>0);function jd(c){return typeof c=="function"?c:(c[Ud]||(c[Ud]=function(d){return c.handleEvent(d)}),c[Ud])}function Ge(){Un.call(this),this.i=new $a(this),this.M=this,this.F=null}C(Ge,Un),Ge.prototype[Vs]=!0,Ge.prototype.removeEventListener=function(c,d,f,g){xv(this,c,d,f,g)};function it(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new ze(d,c);else if(d instanceof ze)d.target=d.target||c;else{var D=d;d=new ze(g,c),w(d,D)}if(D=!0,f)for(var A=f.length-1;0<=A;A--){var k=d.g=f[A];D=qa(k,g,!0,d)&&D}if(k=d.g=c,D=qa(k,g,!0,d)&&D,D=qa(k,g,!1,d)&&D,f)for(A=0;A<f.length;A++)k=d.g=f[A],D=qa(k,g,!1,d)&&D}Ge.prototype.N=function(){if(Ge.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Ba(f[g]);delete c.g[d],c.h--}}this.F=null},Ge.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},Ge.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function qa(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,A=0;A<d.length;++A){var k=d[A];if(k&&!k.da&&k.capture==f){var Ie=k.listener,$e=k.ha||k.src;k.fa&&Pd(c.i,k),D=Ie.call($e,g)!==!1&&D}}return D&&!g.defaultPrevented}function Ov(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function kv(c){c.g=Ov(()=>{c.g=null,c.i&&(c.i=!1,kv(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class j0 extends Un{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:kv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Us(c){Un.call(this),this.h=c,this.g={}}C(Us,Un);var Fv=[];function Lv(c){Z(c.g,function(d,f){this.g.hasOwnProperty(f)&&Ld(d)},c),c.g={}}Us.prototype.N=function(){Us.aa.N.call(this),Lv(this)},Us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bd=a.JSON.stringify,B0=a.JSON.parse,$0=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function $d(){}$d.prototype.h=null;function Vv(c){return c.h||(c.h=c.i())}function Uv(){}var js={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qd(){ze.call(this,"d")}C(qd,ze);function Hd(){ze.call(this,"c")}C(Hd,ze);var Tr={},jv=null;function Ha(){return jv=jv||new Ge}Tr.La="serverreachability";function Bv(c){ze.call(this,Tr.La,c)}C(Bv,ze);function Bs(c){let d=Ha();it(d,new Bv(d))}Tr.STAT_EVENT="statevent";function $v(c,d){ze.call(this,Tr.STAT_EVENT,c),this.stat=d}C($v,ze);function st(c){let d=Ha();it(d,new $v(d,c))}Tr.Ma="timingevent";function qv(c,d){ze.call(this,Tr.Ma,c),this.size=d}C(qv,ze);function $s(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function qs(){this.g=!0}qs.prototype.xa=function(){this.g=!1};function q0(c,d,f,g,D,A){c.info(function(){if(c.g)if(A)for(var k="",Ie=A.split("&"),$e=0;$e<Ie.length;$e++){var de=Ie[$e].split("=");if(1<de.length){var We=de[0];de=de[1];var Ke=We.split("_");k=2<=Ke.length&&Ke[1]=="type"?k+(We+"="+de+"&"):k+(We+"=redacted&")}}else k=null;else k=A;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+f+`
`+k})}function H0(c,d,f,g,D,A,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+f+`
`+A+" "+k})}function pi(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+G0(c,f)+(g?" "+g:"")})}function z0(c,d){c.info(function(){return"TIMEOUT: "+d})}qs.prototype.info=function(){};function G0(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var A=D[0];if(A!="noop"&&A!="stop"&&A!="close")for(var k=1;k<D.length;k++)D[k]=""}}}}return Bd(f)}catch{return d}}var za={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zd;function Ga(){}C(Ga,$d),Ga.prototype.g=function(){return new XMLHttpRequest},Ga.prototype.i=function(){return{}},zd=new Ga;function jn(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Us(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zv}function zv(){this.i=null,this.g="",this.h=!1}var Gv={},Gd={};function Wd(c,d,f){c.L=1,c.v=Ya(vn(d)),c.m=f,c.P=!0,Wv(c,null)}function Wv(c,d){c.F=Date.now(),Wa(c),c.A=vn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),a_(f.i,"t",g),c.C=0,f=c.j.J,c.h=new zv,c.g=b_(c.j,f?d:null,!c.m),0<c.O&&(c.M=new j0(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(Fv[0]=D.toString()),D=Fv);for(var A=0;A<D.length;A++){var k=Rv(f,D[A],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Bs(),q0(c.i,c.u,c.A,c.l,c.R,c.m)}jn.prototype.ca=function(c){c=c.target;let d=this.M;d&&_n(c)==3?d.j():this.Y(c)},jn.prototype.Y=function(c){try{if(c==this.g)e:{let Ke=_n(this.g);var d=this.g.Ba();let yi=this.g.Z();if(!(3>Ke)&&(Ke!=3||this.g&&(this.h.h||this.g.oa()||p_(this.g)))){this.J||Ke!=4||d==7||(d==8||0>=yi?Bs(3):Bs(2)),Kd(this);var f=this.g.Z();this.X=f;t:if(Kv(this)){var g=p_(this.g);c="";var D=g.length,A=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dr(this),Hs(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==D-1)});g.length=0,this.h.g+=c,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,H0(this.i,this.u,this.A,this.l,this.R,Ke,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,$e=this.g;if((Ie=$e.g?$e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Ie)){var de=Ie;break t}}de=null}if(f=de)pi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qd(this,f);else{this.o=!1,this.s=3,st(12),Dr(this),Hs(this);break e}}if(this.P){f=!0;let kt;for(;!this.J&&this.C<k.length;)if(kt=W0(this,k),kt==Gd){Ke==4&&(this.s=4,st(14),f=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==Gv){this.s=4,st(15),pi(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else pi(this.i,this.l,kt,null),Qd(this,kt);if(Kv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ke!=4||k.length!=0||this.h.h||(this.s=1,st(16),f=!1),this.o=this.o&&f,!f)pi(this.i,this.l,k,"[Invalid Chunked Response]"),Dr(this),Hs(this);else if(0<k.length&&!this.W){this.W=!0;var We=this.j;We.g==this&&We.ba&&!We.M&&(We.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),th(We),We.M=!0,st(11))}}else pi(this.i,this.l,k,null),Qd(this,k);Ke==4&&Dr(this),this.o&&!this.J&&(Ke==4?w_(this.j,this):(this.o=!1,Wa(this)))}else lS(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),Dr(this),Hs(this)}}}catch{}finally{}};function Kv(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function W0(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Gd:(f=Number(d.substring(f,g)),isNaN(f)?Gv:(g+=1,g+f>d.length?Gd:(d=d.slice(g,g+f),c.C=g+f,d)))}jn.prototype.cancel=function(){this.J=!0,Dr(this)};function Wa(c){c.S=Date.now()+c.I,Qv(c,c.I)}function Qv(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=$s(m(c.ba,c),d)}function Kd(c){c.B&&(a.clearTimeout(c.B),c.B=null)}jn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(z0(this.i,this.A),this.L!=2&&(Bs(),st(17)),Dr(this),this.s=2,Hs(this)):Qv(this,this.S-c)};function Hs(c){c.j.G==0||c.J||w_(c.j,c)}function Dr(c){Kd(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Lv(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Qd(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Yd(f.h,c))){if(!c.K&&Yd(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)tc(f),Xa(f);else break e;eh(f),st(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=$s(m(f.Za,f),6e3));if(1>=Zv(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Cr(f,11)}else if((c.K||f.g==c)&&tc(f),!$(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let de=D[d];if(f.T=de[0],de=de[1],f.G==2)if(de[0]=="c"){f.K=de[1],f.ia=de[2];let We=de[3];We!=null&&(f.la=We,f.j.info("VER="+f.la));let Ke=de[4];Ke!=null&&(f.Aa=Ke,f.j.info("SVER="+f.Aa));let yi=de[5];yi!=null&&typeof yi=="number"&&0<yi&&(g=1.5*yi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let kt=c.g;if(kt){let rc=kt.g?kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rc){var A=g.h;A.g||rc.indexOf("spdy")==-1&&rc.indexOf("quic")==-1&&rc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Jd(A,A.h),A.h=null))}if(g.D){let nh=kt.g?kt.g.getResponseHeader("X-HTTP-Session-Id"):null;nh&&(g.ya=nh,De(g.I,g.D,nh))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=c;if(g.qa=D_(g,g.J?g.ia:null,g.W),k.K){Xv(g.h,k);var Ie=k,$e=g.L;$e&&(Ie.I=$e),Ie.B&&(Kd(Ie),Wa(Ie)),g.g=k}else __(g);0<f.i.length&&ec(f)}else de[0]!="stop"&&de[0]!="close"||Cr(f,7);else f.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?Cr(f,7):Xd(f):de[0]!="noop"&&f.l&&f.l.ta(de),f.v=0)}}Bs(4)}catch{}}var K0=class{constructor(c,d){this.g=c,this.map=d}};function Yv(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jv(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Zv(c){return c.h?1:c.g?c.g.size:0}function Yd(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Jd(c,d){c.g?c.g.add(d):c.h=d}function Xv(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Yv.prototype.cancel=function(){if(this.i=e_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function e_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function Q0(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function Y0(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function t_(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=Y0(c),g=Q0(c),D=g.length,A=0;A<D;A++)d.call(void 0,g[A],f&&f[A],c)}var n_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function J0(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),D=null;if(0<=g){var A=c[f].substring(0,g);D=c[f].substring(g+1)}else A=c[f];d(A,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function br(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof br){this.h=c.h,Ka(this,c.j),this.o=c.o,this.g=c.g,Qa(this,c.s),this.l=c.l;var d=c.i,f=new Ws;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),r_(this,f),this.m=c.m}else c&&(d=String(c).match(n_))?(this.h=!1,Ka(this,d[1]||"",!0),this.o=zs(d[2]||""),this.g=zs(d[3]||"",!0),Qa(this,d[4]),this.l=zs(d[5]||"",!0),r_(this,d[6]||"",!0),this.m=zs(d[7]||"")):(this.h=!1,this.i=new Ws(null,this.h))}br.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Gs(d,i_,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Gs(d,i_,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Gs(f,f.charAt(0)=="/"?eS:X0,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Gs(f,nS)),c.join("")};function vn(c){return new br(c)}function Ka(c,d,f){c.j=f?zs(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Qa(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function r_(c,d,f){d instanceof Ws?(c.i=d,rS(c.i,c.h)):(f||(d=Gs(d,tS)),c.i=new Ws(d,c.h))}function De(c,d,f){c.i.set(d,f)}function Ya(c){return De(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function zs(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Gs(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,Z0),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Z0(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var i_=/[#\/\?@]/g,X0=/[#\?:]/g,eS=/[#\?]/g,tS=/[#\?@]/g,nS=/#/g;function Ws(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Bn(c){c.g||(c.g=new Map,c.h=0,c.i&&J0(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Ws.prototype,t.add=function(c,d){Bn(this),this.i=null,c=gi(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function s_(c,d){Bn(c),d=gi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function o_(c,d){return Bn(c),d=gi(c,d),c.g.has(d)}t.forEach=function(c,d){Bn(this),this.g.forEach(function(f,g){f.forEach(function(D){c.call(d,D,g,this)},this)},this)},t.na=function(){Bn(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let D=c[g];for(let A=0;A<D.length;A++)f.push(d[g])}return f},t.V=function(c){Bn(this);let d=[];if(typeof c=="string")o_(this,c)&&(d=d.concat(this.g.get(gi(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Bn(this),this.i=null,c=gi(this,c),o_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function a_(c,d,f){s_(c,d),0<f.length&&(c.i=null,c.g.set(gi(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var D=A;k[g]!==""&&(D+="="+encodeURIComponent(String(k[g]))),c.push(D)}}return this.i=c.join("&")};function gi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function rS(c,d){d&&!c.j&&(Bn(c),c.i=null,c.g.forEach(function(f,g){var D=g.toLowerCase();g!=D&&(s_(this,g),a_(this,D,f))},c)),c.j=d}function iS(c,d){let f=new qs;if(a.Image){let g=new Image;g.onload=v($n,f,"TestLoadImage: loaded",!0,d,g),g.onerror=v($n,f,"TestLoadImage: error",!1,d,g),g.onabort=v($n,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=v($n,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function sS(c,d){let f=new qs,g=new AbortController,D=setTimeout(()=>{g.abort(),$n(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(D),A.ok?$n(f,"TestPingServer: ok",!0,d):$n(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),$n(f,"TestPingServer: error",!1,d)})}function $n(c,d,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function oS(){this.g=new $0}function aS(c,d,f){let g=f||"";try{t_(c,function(D,A){let k=D;l(D)&&(k=Bd(D)),d.push(g+A+"="+encodeURIComponent(k))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function Ks(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Ks,$d),Ks.prototype.g=function(){return new Ja(this.l,this.j)},Ks.prototype.i=function(c){return function(){return c}}({});function Ja(c,d){Ge.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Ja,Ge),t=Ja.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ys(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qs(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ys(this)),this.g&&(this.readyState=3,Ys(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;c_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function c_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Qs(this):Ys(this),this.readyState==3&&c_(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Qs(this))},t.Qa=function(c){this.g&&(this.response=c,Qs(this))},t.ga=function(){this.g&&Qs(this)};function Qs(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ys(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ys(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ja.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function u_(c){let d="";return Z(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Zd(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=u_(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):De(c,d,f))}function Ae(c){Ge.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ae,Ge);var cS=/^https?$/i,uS=["POST","PUT"];t=Ae.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zd.g(),this.v=this.o?Vv(this.o):Vv(zd),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){l_(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(uS,d,void 0))||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,k]of f)this.g.setRequestHeader(A,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{f_(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){l_(this,A)}};function l_(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,d_(c),Za(c)}function d_(c){c.A||(c.A=!0,it(c,"complete"),it(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,it(this,"complete"),it(this,"abort"),Za(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Za(this,!0)),Ae.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?h_(this):this.bb())},t.bb=function(){h_(this)};function h_(c){if(c.h&&typeof o<"u"&&(!c.v[1]||_n(c)!=4||c.Z()!=2)){if(c.u&&_n(c)==4)Ov(c.Ea,0,c);else if(it(c,"readystatechange"),_n(c)==4){c.h=!1;try{let k=c.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=k===0){var D=String(c.D).match(n_)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),g=!cS.test(D?D.toLowerCase():"")}f=g}if(f)it(c,"complete"),it(c,"success");else{c.m=6;try{var A=2<_n(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",d_(c)}}finally{Za(c)}}}}function Za(c,d){if(c.g){f_(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||it(c,"ready");try{f.onreadystatechange=g}catch{}}}function f_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function _n(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),B0(d)}};function p_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function lS(c){let d={};c=(c.g&&2<=_n(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if($(c[g]))continue;var f=T(c[g]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[D]||[];d[D]=A,A.push(f)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Js(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function g_(c){this.Aa=0,this.i=[],this.j=new qs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Js("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Js("baseRetryDelayMs",5e3,c),this.cb=Js("retryDelaySeedMs",1e4,c),this.Wa=Js("forwardChannelMaxRetries",2,c),this.wa=Js("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Yv(c&&c.concurrentRequestLimit),this.Da=new oS,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=g_.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){st(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=D_(this,null,this.W),ec(this)};function Xd(c){if(m_(c),c.G==3){var d=c.U++,f=vn(c.I);if(De(f,"SID",c.K),De(f,"RID",d),De(f,"TYPE","terminate"),Zs(c,f),d=new jn(c,c.j,d),d.L=2,d.v=Ya(vn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=b_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Wa(d)}T_(c)}function Xa(c){c.g&&(th(c),c.g.cancel(),c.g=null)}function m_(c){Xa(c),c.u&&(a.clearTimeout(c.u),c.u=null),tc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function ec(c){if(!Jv(c.h)&&!c.s){c.s=!0;var d=c.Ga;ks||Av(),Fs||(ks(),Fs=!0),xd.add(d,c),c.B=0}}function dS(c,d){return Zv(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=$s(m(c.Ga,c,d),E_(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new jn(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(D.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=v_(this,D,d),f=vn(this.I),De(f,"RID",c),De(f,"CVER",22),this.D&&De(f,"X-HTTP-Session-Id",this.D),Zs(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(u_(A)))+"&"+d:this.m&&Zd(f,this.m,A)),Jd(this.h,D),this.Ua&&De(f,"TYPE","init"),this.P?(De(f,"$req",d),De(f,"SID","null"),D.T=!0,Wd(D,f,null)):Wd(D,f,d),this.G=2}}else this.G==3&&(c?y_(this,c):this.i.length==0||Jv(this.h)||y_(this))};function y_(c,d){var f;d?f=d.l:f=c.U++;let g=vn(c.I);De(g,"SID",c.K),De(g,"RID",f),De(g,"AID",c.T),Zs(c,g),c.m&&c.o&&Zd(g,c.m,c.o),f=new jn(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=v_(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Jd(c.h,f),Wd(f,g,d)}function Zs(c,d){c.H&&Z(c.H,function(f,g){De(d,g,f)}),c.l&&t_({},function(f,g){De(d,g,f)})}function v_(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var D=c.i;let A=-1;for(;;){let k=["count="+f];A==-1?0<f?(A=D[0].g,k.push("ofs="+A)):A=0:k.push("ofs="+A);let Ie=!0;for(let $e=0;$e<f;$e++){let de=D[$e].g,We=D[$e].map;if(de-=A,0>de)A=Math.max(0,D[$e].g-100),Ie=!1;else try{aS(We,k,"req"+de+"_")}catch{g&&g(We)}}if(Ie){g=k.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function __(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ks||Av(),Fs||(ks(),Fs=!0),xd.add(d,c),c.v=0}}function eh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=$s(m(c.Fa,c),E_(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,I_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=$s(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),Xa(this),I_(this))};function th(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function I_(c){c.g=new jn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=vn(c.qa);De(d,"RID","rpc"),De(d,"SID",c.K),De(d,"AID",c.T),De(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&De(d,"TO",c.ja),De(d,"TYPE","xmlhttp"),Zs(c,d),c.m&&c.o&&Zd(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Ya(vn(d)),f.m=null,f.P=!0,Wv(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Xa(this),eh(this),st(19))};function tc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function w_(c,d){var f=null;if(c.g==d){tc(c),th(c),c.g=null;var g=2}else if(Yd(c.h,d))f=d.D,Xv(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;g=Ha(),it(g,new qv(g,f)),ec(c)}else __(c);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&dS(c,d)||g==2&&eh(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),D){case 1:Cr(c,5);break;case 4:Cr(c,10);break;case 3:Cr(c,6);break;default:Cr(c,2)}}}function E_(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Cr(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let D=!g;g=new br(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ka(g,"https"),Ya(g),D?iS(g.toString(),f):sS(g.toString(),f)}else st(2);c.G=0,c.l&&c.l.sa(d),T_(c),m_(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function T_(c){if(c.G=0,c.ka=[],c.l){let d=e_(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function D_(c,d,f){var g=f instanceof br?vn(f):new br(f);if(g.g!="")d&&(g.g=d+"."+g.g),Qa(g,g.s);else{var D=a.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var A=new br(null);g&&Ka(A,g),d&&(A.g=d),D&&Qa(A,D),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&De(g,f,d),De(g,"VER",c.la),Zs(c,g),g}function b_(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ae(new Ks({eb:f})):new Ae(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function C_(){}t=C_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function nc(){}nc.prototype.g=function(c,d){return new mt(c,d)};function mt(c,d){Ge.call(this),this.g=new g_(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!$(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!$(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new mi(this)}C(mt,Ge),mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mt.prototype.close=function(){Xd(this.g)},mt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Bd(c),c=f);d.i.push(new K0(d.Ya++,c)),d.G==3&&ec(d)},mt.prototype.N=function(){this.g.l=null,delete this.j,Xd(this.g),delete this.g,mt.aa.N.call(this)};function S_(c){qd.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(S_,qd);function A_(){Hd.call(this),this.status=1}C(A_,Hd);function mi(c){this.g=c}C(mi,C_),mi.prototype.ua=function(){it(this.g,"a")},mi.prototype.ta=function(c){it(this.g,new S_(c))},mi.prototype.sa=function(c){it(this.g,new A_)},mi.prototype.ra=function(){it(this.g,"b")},nc.prototype.createWebChannel=nc.prototype.g,mt.prototype.send=mt.prototype.o,mt.prototype.open=mt.prototype.m,mt.prototype.close=mt.prototype.close,wm=kn.createWebChannelTransport=function(){return new nc},Im=kn.getStatEventTarget=function(){return Ha()},_m=kn.Event=Tr,kl=kn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},za.NO_ERROR=0,za.TIMEOUT=8,za.HTTP_ERROR=6,pa=kn.ErrorCode=za,Hv.COMPLETE="complete",vm=kn.EventType=Hv,Uv.EventType=js,js.OPEN="a",js.CLOSE="b",js.ERROR="c",js.MESSAGE="d",Ge.prototype.listen=Ge.prototype.K,hs=kn.WebChannel=Uv,DV=kn.FetchXmlHttpFactory=Ks,Ae.prototype.listenOnce=Ae.prototype.L,Ae.prototype.getLastError=Ae.prototype.Ka,Ae.prototype.getLastErrorCode=Ae.prototype.Ba,Ae.prototype.getStatus=Ae.prototype.Z,Ae.prototype.getResponseJson=Ae.prototype.Oa,Ae.prototype.getResponseText=Ae.prototype.oa,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Ha,ym=kn.XhrIo=Ae}).apply(typeof Ol<"u"?Ol:typeof self<"u"?self:typeof window<"u"?window:{});var Rb="@firebase/firestore";var Be=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Be.UNAUTHENTICATED=new Be(null),Be.GOOGLE_CREDENTIALS=new Be("google-credentials-uid"),Be.FIRST_PARTY=new Be("first-party-uid"),Be.MOCK_USER=new Be("mock-user");var xs="10.14.0";var ii=new hr("@firebase/firestore");function ga(){return ii.logLevel}function V(t,...e){if(ii.logLevel<=ce.DEBUG){let n=e.map(iv);ii.debug(`Firestore (${xs}): ${t}`,...n)}}function Fn(t,...e){if(ii.logLevel<=ce.ERROR){let n=e.map(iv);ii.error(`Firestore (${xs}): ${t}`,...n)}}function _s(t,...e){if(ii.logLevel<=ce.WARN){let n=e.map(iv);ii.warn(`Firestore (${xs}): ${t}`,...n)}}function iv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function K(t="Unexpected state"){let e=`FIRESTORE (${xs}) INTERNAL ASSERTION FAILED: `+t;throw Fn(e),new Error(e)}function ve(t,e){t||K()}function Y(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=class extends xt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Gt=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var jl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Cm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Be.UNAUTHENTICATED))}shutdown(){}},Sm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Am=class{constructor(e){this.t=e,this.currentUser=Be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ve(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new Gt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gt,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>S(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gt)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string"),new jl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string"),new Be(e)}},Rm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Be.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Nm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Rm(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Be.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Mm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},xm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ve(this.o===void 0);let r=s=>{s.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string"),this.R=n.token,new Mm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function bV(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Bl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=bV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function fe(t,e){return t<e?-1:t>e?1:0}function Is(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var He=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new F(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var te=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new He(0,0))}static max(){return new t(new He(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var $l=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&K(),r===void 0?r=e.length-n:r>e.length-n&&K(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Se=class t extends $l{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new F(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},CV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Tt=class t extends $l{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return CV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new F(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new F(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new F(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var z=class t{constructor(e){this.path=e}static fromPath(e){return new t(Se.fromString(e))}static fromName(e){return new t(Se.fromString(e).popFirst(5))}static empty(){return new t(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Se(e.slice()))}};var Pm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Pm.UNKNOWN_ID=-1;function SV(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new He(n+1,0):new He(n,r));return new si(i,z.empty(),e)}function AV(t){return new si(t.readTime,t.key,-1)}var si=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(te.min(),z.empty(),-1)}static max(){return new t(te.max(),z.empty(),-1)}};function RV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}var NV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Om=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Fa(t){return S(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==NV)throw t;V("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function MV(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function La(t){return t.name==="IndexedDbTransactionError"}var lC=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Id(t){return t==null}function wa(t){return t===0&&1/t==-1/0}function xV(t){return typeof t=="number"&&Number.isInteger(t)&&!wa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var PV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$3=[...PV,"documentOverlays"],OV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kV=OV,FV=[...kV,"indexConfiguration","indexState","indexEntries"];var q3=[...FV,"globals"];function Nb(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function di(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Me=class t{constructor(e,n){this.comparator=e,this.root=n||dn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ms(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ms(this.root,e,this.comparator,!1)}getReverseIterator(){return new ms(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ms(this.root,e,this.comparator,!0)}},ms=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},dn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();let e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}};dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(e,n,r,i,s){return this}insert(e,n,r){return new dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var tt=class t{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ql(this.data.getIterator())}getIteratorFrom(e){return new ql(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},ql=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ot=class t{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new t([])}unionWith(e){let n=new tt(Tt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Is(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Hl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var rt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Hl("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};rt.EMPTY_BYTE_STRING=new rt("");var LV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ln(t){if(ve(!!t),typeof t=="string"){let e=0,n=LV.exec(t);if(ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:be(t.seconds),nanos:be(t.nanos)}}function be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vr(t){return typeof t=="string"?rt.fromBase64String(t):rt.fromUint8Array(t)}function sv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ov(t){let e=t.mapValue.fields.__previous_value__;return sv(e)?ov(e):e}function Ea(t){let e=Ln(t.mapValue.fields.__local_write_time__.timestampValue);return new He(e.seconds,e.nanos)}var km=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},zl=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Fl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function oi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sv(t)?4:fC(t)?9007199254740991:hC(t)?10:11:K()}function gn(t,e){if(t===e)return!0;let n=oi(t);if(n!==oi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ea(t).isEqual(Ea(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Ln(i.timestampValue),a=Ln(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return vr(i.bytesValue).isEqual(vr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return be(i.geoPointValue.latitude)===be(s.geoPointValue.latitude)&&be(i.geoPointValue.longitude)===be(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return be(i.integerValue)===be(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=be(i.doubleValue),a=be(s.doubleValue);return o===a?wa(o)===wa(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Is(t.arrayValue.values||[],e.arrayValue.values||[],gn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Nb(o)!==Nb(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!gn(o[u],a[u])))return!1;return!0}(t,e);default:return K()}}function Ta(t,e){return(t.values||[]).find(n=>gn(n,e))!==void 0}function ws(t,e){if(t===e)return 0;let n=oi(t),r=oi(e);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=be(s.integerValue||s.doubleValue),u=be(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Mb(t.timestampValue,e.timestampValue);case 4:return Mb(Ea(t),Ea(e));case 5:return fe(t.stringValue,e.stringValue);case 6:return function(s,o){let a=vr(s),u=vr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=fe(a[l],u[l]);if(h!==0)return h}return fe(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=fe(be(s.latitude),be(o.latitude));return a!==0?a:fe(be(s.longitude),be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return xb(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,C=(u=m.value)===null||u===void 0?void 0:u.arrayValue,N=fe(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:xb(v,C)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Fl.mapValue&&o===Fl.mapValue)return 0;if(s===Fl.mapValue)return 1;if(o===Fl.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=fe(u[p],h[p]);if(m!==0)return m;let v=ws(a[u[p]],l[h[p]]);if(v!==0)return v}return fe(u.length,h.length)}(t.mapValue,e.mapValue);default:throw K()}}function Mb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);let n=Ln(t),r=Ln(e),i=fe(n.seconds,r.seconds);return i!==0?i:fe(n.nanos,r.nanos)}function xb(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=ws(n[i],r[i]);if(s)return s}return fe(n.length,r.length)}function Es(t){return Fm(t)}function Fm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Ln(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Fm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Fm(n.fields[o])}`;return i+"}"}(t.mapValue):K()}function Pb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Lm(t){return!!t&&"integerValue"in t}function av(t){return!!t&&"arrayValue"in t}function Ob(t){return!!t&&"nullValue"in t}function kb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vl(t){return!!t&&"mapValue"in t}function hC(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ya(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return di(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ya(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ya(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Et=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ya(n)}setAll(e){let n=Tt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ya(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Vl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Vl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){di(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(ya(this.value))}};function pC(t){let e=[];return di(t.fields,(n,r)=>{let i=new Tt([n]);if(Vl(r)){let s=pC(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Ot(e)}var Wt=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,te.min(),te.min(),te.min(),Et.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,te.min(),te.min(),Et.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,te.min(),te.min(),Et.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Et.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Et.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ts=class{constructor(e,n){this.position=e,this.inclusive=n}};function Fb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=z.comparator(z.fromName(o.referenceValue),n.key):r=ws(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Lb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gn(t.position[n],e.position[n]))return!1;return!0}var Ds=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function VV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Gl=class{},ke=class t extends Gl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Um(e,n,r):n==="array-contains"?new $m(e,r):n==="in"?new qm(e,r):n==="not-in"?new Hm(e,r):n==="array-contains-any"?new zm(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new jm(e,r):new Bm(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ws(n,this.value)):n!==null&&oi(this.value)===oi(n)&&this.matchesComparison(ws(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Kt=class t extends Gl{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return gC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function gC(t){return t.op==="and"}function mC(t){return UV(t)&&gC(t)}function UV(t){for(let e of t.filters)if(e instanceof Kt)return!1;return!0}function Vm(t){if(t instanceof ke)return t.field.canonicalString()+t.op.toString()+Es(t.value);if(mC(t))return t.filters.map(e=>Vm(e)).join(",");{let e=t.filters.map(n=>Vm(n)).join(",");return`${t.op}(${e})`}}function yC(t,e){return t instanceof ke?function(r,i){return i instanceof ke&&r.op===i.op&&r.field.isEqual(i.field)&&gn(r.value,i.value)}(t,e):t instanceof Kt?function(r,i){return i instanceof Kt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&yC(o,i.filters[a]),!0):!1}(t,e):void K()}function vC(t){return t instanceof ke?function(n){return`${n.field.canonicalString()} ${n.op} ${Es(n.value)}`}(t):t instanceof Kt?function(n){return n.op.toString()+" {"+n.getFilters().map(vC).join(" ,")+"}"}(t):"Filter"}var Um=class extends ke{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){let n=z.comparator(e.key,this.key);return this.matchesComparison(n)}},jm=class extends ke{constructor(e,n){super(e,"in",n),this.keys=_C("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Bm=class extends ke{constructor(e,n){super(e,"not-in",n),this.keys=_C("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function _C(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}var $m=class extends ke{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return av(n)&&Ta(n.arrayValue,this.value)}},qm=class extends ke{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ta(this.value.arrayValue,n)}},Hm=class extends ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ta(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ta(this.value.arrayValue,n)}},zm=class extends ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!av(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ta(this.value.arrayValue,r))}};var Gm=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function Vb(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Gm(t,e,n,r,i,s,o)}function cv(t){let e=Y(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Vm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Id(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Es(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Es(r)).join(",")),e.ue=n}return e.ue}function uv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Lb(t.startAt,e.startAt)&&Lb(t.endAt,e.endAt)}function Wm(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ai=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function jV(t,e,n,r,i,s,o,a){return new ai(t,e,n,r,i,s,o,a)}function wd(t){return new ai(t)}function Ub(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function IC(t){return t.collectionGroup!==null}function va(t){let e=Y(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new tt(Tt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ds(s,r))}),n.has(Tt.keyField().canonicalString())||e.ce.push(new Ds(Tt.keyField(),r))}return e.ce}function hn(t){let e=Y(t);return e.le||(e.le=BV(e,va(t))),e.le}function BV(t,e){if(t.limitType==="F")return Vb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Ds(i.field,s)});let n=t.endAt?new Ts(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ts(t.startAt.position,t.startAt.inclusive):null;return Vb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Km(t,e){let n=t.filters.concat([e]);return new ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Qm(t,e,n){return new ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ed(t,e){return uv(hn(t),hn(e))&&t.limitType===e.limitType}function wC(t){return`${cv(hn(t))}|lt:${t.limitType}`}function fs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>vC(i)).join(", ")}]`),Id(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Es(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Es(i)).join(",")),`Target(${r})`}(hn(t))}; limitType=${t.limitType})`}function Td(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):z.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of va(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=Fb(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,va(r),i)||r.endAt&&!function(o,a,u){let l=Fb(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,va(r),i))}(t,e)}function $V(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function EC(t){return(e,n)=>{let r=!1;for(let i of va(t)){let s=qV(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function qV(t,e,n){let r=t.field.isKeyField()?z.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?ws(u,l):K()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}var _r=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){di(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return dC(this.inner)}size(){return this.innerSize}};var HV=new Me(z.comparator);function Vn(){return HV}var TC=new Me(z.comparator);function ma(...t){let e=TC;for(let n of t)e=e.insert(n.key,n);return e}function DC(t){let e=TC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ti(){return _a()}function bC(){return _a()}function _a(){return new _r(t=>t.toString(),(t,e)=>t.isEqual(e))}var zV=new Me(z.comparator),GV=new tt(z.comparator);function ue(...t){let e=GV;for(let n of t)e=e.add(n);return e}var WV=new tt(fe);function KV(){return WV}function lv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wa(e)?"-0":e}}function CC(t){return{integerValue:""+t}}function QV(t,e){return xV(e)?CC(e):lv(t,e)}var bs=class{constructor(){this._=void 0}};function YV(t,e,n){return t instanceof Cs?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&sv(s)&&(s=ov(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ir?AC(t,e):t instanceof wr?RC(t,e):function(i,s){let o=SC(i,s),a=jb(o)+jb(i.Pe);return Lm(o)&&Lm(i.Pe)?CC(a):lv(i.serializer,a)}(t,e)}function JV(t,e,n){return t instanceof Ir?AC(t,e):t instanceof wr?RC(t,e):n}function SC(t,e){return t instanceof Ss?function(r){return Lm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Cs=class extends bs{},Ir=class extends bs{constructor(e){super(),this.elements=e}};function AC(t,e){let n=NC(e);for(let r of t.elements)n.some(i=>gn(i,r))||n.push(r);return{arrayValue:{values:n}}}var wr=class extends bs{constructor(e){super(),this.elements=e}};function RC(t,e){let n=NC(e);for(let r of t.elements)n=n.filter(i=>!gn(i,r));return{arrayValue:{values:n}}}var Ss=class extends bs{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function jb(t){return be(t.integerValue||t.doubleValue)}function NC(t){return av(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Wl=class{constructor(e,n){this.field=e,this.transform=n}};function ZV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ir&&i instanceof Ir||r instanceof wr&&i instanceof wr?Is(r.elements,i.elements,gn):r instanceof Ss&&i instanceof Ss?gn(r.Pe,i.Pe):r instanceof Cs&&i instanceof Cs}(t.transform,e.transform)}var Ym=class{constructor(e,n){this.version=e,this.transformResults=n}},fn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ul(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var As=class{};function MC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Da(t.key,fn.none()):new ci(t.key,t.data,fn.none());{let n=t.data,r=Et.empty(),i=new tt(Tt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new mn(t.key,r,new Ot(i.toArray()),fn.none())}}function XV(t,e,n){t instanceof ci?function(i,s,o){let a=i.value.clone(),u=$b(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof mn?function(i,s,o){if(!Ul(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=$b(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(xC(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ia(t,e,n,r){return t instanceof ci?function(s,o,a,u){if(!Ul(s.precondition,o))return a;let l=s.value.clone(),h=qb(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof mn?function(s,o,a,u){if(!Ul(s.precondition,o))return a;let l=qb(s.fieldTransforms,u,o),h=o.data;return h.setAll(xC(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Ul(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function eU(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=SC(r.transform,i||null);s!=null&&(n===null&&(n=Et.empty()),n.set(r.field,s))}return n||null}function Bb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Is(r,i,(s,o)=>ZV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ci=class extends As{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},mn=class extends As{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function xC(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function $b(t,e,n){let r=new Map;ve(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,JV(o,a,n[i]))}return r}function qb(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,YV(s,o,e))}return r}var Da=class extends As{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Jm=class extends As{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Zm=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&XV(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ia(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ia(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=bC();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=MC(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Is(this.mutations,e.mutations,(n,r)=>Bb(n,r))&&Is(this.baseMutations,e.baseMutations,(n,r)=>Bb(n,r))}},Xm=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ve(e.mutations.length===r.length);let i=function(){return zV}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var ey=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ty=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Pe,le;function tU(t){switch(t){default:return K();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function PC(t){if(t===void 0)return Fn("GRPC error has no .code"),M.UNKNOWN;switch(t){case Pe.OK:return M.OK;case Pe.CANCELLED:return M.CANCELLED;case Pe.UNKNOWN:return M.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return M.INTERNAL;case Pe.UNAVAILABLE:return M.UNAVAILABLE;case Pe.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Pe.NOT_FOUND:return M.NOT_FOUND;case Pe.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Pe.ABORTED:return M.ABORTED;case Pe.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Pe.DATA_LOSS:return M.DATA_LOSS;default:return K()}}(le=Pe||(Pe={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";var Hb=null;function nU(){return new TextEncoder}var rU=new mr([4294967295,4294967295],0);function zb(t){let e=nU().encode(t),n=new mm;return n.update(e),new Uint8Array(n.digest())}function Gb(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new mr([n,r],0),new mr([i,s],0)]}var ny=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ni(`Invalid padding: ${n}`);if(r<0)throw new ni(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ni(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ni(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=mr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(mr.fromNumber(r)));return i.compare(rU)===1&&(i=new mr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=zb(e),[r,i]=Gb(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=zb(e),[r,i]=Gb(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},ni=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Kl=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ba.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(te.min(),i,new Me(fe),Vn(),ue())}},ba=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ue(),ue(),ue())}};var ys=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Ql=class{constructor(e,n){this.targetId=e,this.me=n}},Yl=class{constructor(e,n,r=rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Jl=class{constructor(){this.fe=0,this.ge=Kb(),this.pe=rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ue(),n=ue(),r=ue();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:K()}}),new ba(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Kb()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},ry=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vn(),this.qe=Wb(),this.Qe=new Me(fe)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:K()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(Wm(s))if(r===0){let o=new z(s.path);this.Ue(n,o,Wt.newNoDocument(o,te.min()))}else ve(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}Hb?.et(function(h,p,m,v,C){var N,R,P,$,L,J;let _e={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},Z=p.unchangedNames;return Z&&(_e.bloomFilter={applied:C===0,hashCount:(N=Z?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:($=(P=(R=Z?.bits)===null||R===void 0?void 0:R.bitmap)===null||P===void 0?void 0:P.length)!==null&&$!==void 0?$:0,padding:(J=(L=Z?.bits)===null||L===void 0?void 0:L.padding)!==null&&J!==void 0?J:0,mightContain:E=>{var y;return(y=v?.mightContain(E))!==null&&y!==void 0&&y}}),_e}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=vr(r).toUint8Array()}catch(u){if(u instanceof Hl)return _s("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new ny(o,i,s)}catch(u){return _s(u instanceof ni?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Wm(a.target)){let u=new z(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Wt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ue();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Kl(e,n,this.Qe,this.ke,r);return this.ke=Vn(),this.qe=Wb(),this.Qe=new Me(fe),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Jl,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tt(fe),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Jl),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function Wb(){return new Me(z.comparator)}function Kb(){return new Me(z.comparator)}var iU={asc:"ASCENDING",desc:"DESCENDING"},sU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oU={and:"AND",or:"OR"},iy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function sy(t,e){return t.useProto3Json||Id(e)?e:{value:e}}function Zl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aU(t,e){return Zl(t,e.toTimestamp())}function pn(t){return ve(!!t),te.fromTimestamp(function(n){let r=Ln(n);return new He(r.seconds,r.nanos)}(t))}function dv(t,e){return oy(t,e).canonicalString()}function oy(t,e){let n=function(i){return new Se(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function kC(t){let e=Se.fromString(t);return ve(jC(e)),e}function ay(t,e){return dv(t.databaseId,e.path)}function Em(t,e){let n=kC(e);if(n.get(1)!==t.databaseId.projectId)throw new F(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(LC(n))}function FC(t,e){return dv(t.databaseId,e)}function cU(t){let e=kC(t);return e.length===4?Se.emptyPath():LC(e)}function cy(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LC(t){return ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Qb(t,e,n){return{name:ay(t,e),fields:n.value.mapValue.fields}}function uU(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(ve(h===void 0||typeof h=="string"),rt.fromBase64String(h||"")):(ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array),rt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?M.UNKNOWN:PC(l.code);return new F(h,l.message||"")}(o);n=new Yl(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Em(t,r.document.name),s=pn(r.document.updateTime),o=r.document.createTime?pn(r.document.createTime):te.min(),a=new Et({mapValue:{fields:r.document.fields}}),u=Wt.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new ys(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Em(t,r.document),s=r.readTime?pn(r.readTime):te.min(),o=Wt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ys([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Em(t,r.document),s=r.removedTargetIds||[];n=new ys([],s,i,null)}else{if(!("filter"in e))return K();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new ty(i,s),a=r.targetId;n=new Ql(a,o)}}return n}function lU(t,e){let n;if(e instanceof ci)n={update:Qb(t,e.key,e.value)};else if(e instanceof Da)n={delete:ay(t,e.key)};else if(e instanceof mn)n={update:Qb(t,e.key,e.data),updateMask:_U(e.fieldMask)};else{if(!(e instanceof Jm))return K();n={verify:ay(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Cs)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ir)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof wr)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ss)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw K()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:aU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:K()}(t,e.precondition)),n}function dU(t,e){return t&&t.length>0?(ve(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?pn(i.updateTime):pn(s);return o.isEqual(te.min())&&(o=pn(s)),new Ym(o,i.transformResults||[])}(n,e))):[]}function hU(t,e){return{documents:[FC(t,e.path)]}}function fU(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FC(t,i);let s=function(l){if(l.length!==0)return UC(Kt.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:ps(m.field),direction:mU(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=sy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function pU(t){let e=cU(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ve(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let m=VC(p);return m instanceof Kt&&mC(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(C){return new Ds(gs(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Id(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,v=p.values||[];return new Ts(v,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new Ts(v,m)}(n.endAt)),jV(e,i,o,s,a,"F",u,l)}function gU(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=gs(n.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=gs(n.unaryFilter.field);return ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=gs(n.unaryFilter.field);return ke.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=gs(n.unaryFilter.field);return ke.create(o,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(t):t.fieldFilter!==void 0?function(n){return ke.create(gs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Kt.create(n.compositeFilter.filters.map(r=>VC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K()}}(n.compositeFilter.op))}(t):K()}function mU(t){return iU[t]}function yU(t){return sU[t]}function vU(t){return oU[t]}function ps(t){return{fieldPath:t.canonicalString()}}function gs(t){return Tt.fromServerFormat(t.fieldPath)}function UC(t){return t instanceof ke?function(n){if(n.op==="=="){if(kb(n.value))return{unaryFilter:{field:ps(n.field),op:"IS_NAN"}};if(Ob(n.value))return{unaryFilter:{field:ps(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kb(n.value))return{unaryFilter:{field:ps(n.field),op:"IS_NOT_NAN"}};if(Ob(n.value))return{unaryFilter:{field:ps(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ps(n.field),op:yU(n.op),value:n.value}}}(t):t instanceof Kt?function(n){let r=n.getFilters().map(i=>UC(i));return r.length===1?r[0]:{compositeFilter:{op:vU(n.op),filters:r}}}(t):K()}function _U(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ca=class t{constructor(e,n,r,i,s=te.min(),o=te.min(),a=rt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var uy=class{constructor(e){this.ct=e}};function IU(t){let e=pU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qm(e,e.limit,"L"):e}var Xl=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(be(e.integerValue));else if("doubleValue"in e){let r=be(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),wa(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Ln(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(vr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?fC(e)?this.dt(n,Number.MAX_SAFE_INTEGER):hC(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):K()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(be(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),z.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Xl.vt=new Xl;var ly=class{constructor(){this.un=new dy}addToCollectionParentIndex(e,n){return this.un.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(si.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(si.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},dy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tt(Se.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tt(Se.comparator)).toArray()}};var z3=new Uint8Array(0);var ln=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);var Sa=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var hy=class{constructor(){this.changes=new _r(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var fy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var py=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ia(r.mutation,i,Ot.empty(),He.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){let i=ti();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ma();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=ti();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Vn(),o=_a(),a=function(){return _a()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof mn)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),Ia(h.mutation,l,h.mutation.getFieldMask(),He.now())):o.set(l.key,Ot.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new fy(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=_a(),i=new Me((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Ot.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=bC();h.forEach(m=>{if(!s.has(m)){let v=MC(n.get(m),r.get(m));v!==null&&p.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(ti()),a=-1,u=s;return o.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,ue())).next(h=>({batchId:a,changes:DC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let i=ma();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=ma();return this.indexManager.getCollectionParents(e,s).next(a=>x.forEach(a,u=>{let l=function(p,m){return new ai(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,Wt.newInvalidDocument(h)))});let a=ma();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&Ia(h.mutation,l,Ot.empty(),He.now()),Td(n,l)&&(a=a.insert(u,l))}),a})}};var gy=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return x.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:pn(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:IU(i.bundledQuery),readTime:pn(i.readTime)}}(n)),x.resolve()}};var my=class{constructor(){this.overlays=new Me(z.comparator),this.Ir=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=ti();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=ti(),s=n.length+1,o=new z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Me((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=ti(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=ti(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ey(n,r));let s=this.Ir.get(n);s===void 0&&(s=ue(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var yy=class{constructor(){this.sessionToken=rt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var Aa=class{constructor(){this.Tr=new tt(Oe.Er),this.dr=new tt(Oe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Oe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Oe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new z(new Se([])),r=new Oe(n,e),i=new Oe(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new z(new Se([])),r=new Oe(n,e),i=new Oe(n,e+1),s=ue();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Oe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Oe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return z.comparator(e.key,n.key)||fe(e.wr,n.wr)}static Ar(e,n){return fe(e.wr,n.wr)||z.comparator(e.key,n.key)}};var vy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new tt(Oe.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Zm(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new Oe(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Oe(n,0),i=new Oe(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tt(fe);return n.forEach(i=>{let s=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;z.isDocumentKey(s)||(s=s.child(""));let o=new Oe(new z(s),0),a=new tt(fe);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),x.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ve(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(n.mutations,i=>{let s=new Oe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Oe(n,0),i=this.br.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var _y=class{constructor(e){this.Mr=e,this.docs=function(){return new Me(z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=Vn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Wt.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Vn(),o=n.path,a=new z(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||RV(AV(h),r)<=0||(i.has(h.key)||Td(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){K()}Or(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Iy(this)}getSize(e){return x.resolve(this.size)}},Iy=class extends hy{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var wy=class{constructor(e){this.persistence=e,this.Nr=new _r(n=>cv(n),uv),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Aa,this.targetCount=0,this.kr=Sa.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),x.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Sa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Kn(n),x.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Br.containsKey(n))}};var Ey=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new lC(0),this.Kr=!1,this.Kr=!0,this.$r=new yy,this.referenceDelegate=e(this),this.Ur=new wy(this),this.indexManager=new ly,this.remoteDocumentCache=function(i){return new _y(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new uy(n),this.Gr=new gy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new my,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new vy(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new Ty(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Ty=class extends Om{constructor(e){super(),this.currentSequenceNumber=e}},Dy=class t{constructor(e){this.persistence=e,this.Jr=new Aa,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw K()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),x.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{let i=z.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return x.or([()=>x.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var by=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ue(),i=ue();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Cy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Sy=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return GD()?8:MV(wt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Cy;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ga()<=ce.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",fs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(ga()<=ce.DEBUG&&V("QueryEngine","Query:",fs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ga()<=ce.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",fs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hn(n))):x.resolve())}Yi(e,n){if(Ub(n))return x.resolve(null);let r=hn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Qm(n,null,"F"),r=hn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ue(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,Qm(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return Ub(n)||i.isEqual(te.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?x.resolve(null):(ga()<=ce.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fs(n)),this.rs(e,o,n,SV(i,-1)).next(a=>a))})}ts(e,n){let r=new tt(EC(e));return n.forEach((i,s)=>{Td(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ga()<=ce.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",fs(n)),this.Ji.getDocumentsMatchingQuery(e,n,si.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Ay=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Me(fe),this._s=new _r(s=>cv(s),uv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new py(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function wU(t,e,n,r){return new Ay(t,e,n,r)}function BC(t,e){return S(this,null,function*(){let n=Y(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=ue();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function EU(t,e){let n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),v=x.resolve();return m.forEach(C=>{v=v.next(()=>h.getEntry(u,C)).next(N=>{let R=l.docVersions.get(C);ve(R!==null),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ue();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function $C(t){let e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function TU(t,e){let n=Y(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(rt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(N,R,P){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(m,v,h)&&a.push(n.Ur.updateTargetData(s,v))});let u=Vn(),l=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(DU(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(te.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function DU(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Vn();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function bU(t,e){let n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function CU(t,e){let n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Ca(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Ry(t,e,n){return S(this,null,function*(){let r=Y(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!La(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function Yb(t,e,n){let r=Y(t),i=te.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=Y(u),m=p._s.get(h);return m!==void 0?x.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,hn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:ue())).next(a=>(SU(r,$V(e),a),{documents:a,Ts:s})))}function SU(t,e,n){let r=t.us.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var ed=class{constructor(){this.activeTargetIds=KV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Ny=class{constructor(){this.so=new ed,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ed,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var My=class{_o(e){}shutdown(){}};var td=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ll=null;function Tm(){return Ll===null?Ll=function(){return 268435456+Math.round(2147483648*Math.random())}():Ll++,"0x"+Ll.toString(16)}var AU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var xy=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var et="WebChannelConnection",Py=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=Tm(),u=this.xo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(V("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw _s("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=AU[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=Tm();return new Promise((o,a)=>{let u=new ym;u.setWithCredentials(!0),u.listenOnce(vm.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case pa.NO_ERROR:let h=u.getResponseJson();V(et,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case pa.TIMEOUT:V(et,`RPC '${e}' ${s} timed out`),a(new F(M.DEADLINE_EXCEEDED,"Request time out"));break;case pa.HTTP_ERROR:let p=u.getStatus();if(V(et,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let C=function(R){let P=R.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(P)>=0?P:M.UNKNOWN}(v.status);a(new F(C,v.message))}else a(new F(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new F(M.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{V(et,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);V(et,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Tm(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=wm(),a=Im(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");V(et,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,v=!1,C=new xy({Io:R=>{v?V(et,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(V(et,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),V(et,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),N=(R,P,$)=>{R.listen(P,L=>{try{$(L)}catch(J){setTimeout(()=>{throw J},0)}})};return N(p,hs.EventType.OPEN,()=>{v||(V(et,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),N(p,hs.EventType.CLOSE,()=>{v||(v=!0,V(et,`RPC '${e}' stream ${i} transport closed`),C.So())}),N(p,hs.EventType.ERROR,R=>{v||(v=!0,_s(et,`RPC '${e}' stream ${i} transport errored:`,R),C.So(new F(M.UNAVAILABLE,"The operation could not be completed")))}),N(p,hs.EventType.MESSAGE,R=>{var P;if(!v){let $=R.data[0];ve(!!$);let L=$,J=L.error||((P=L[0])===null||P===void 0?void 0:P.error);if(J){V(et,`RPC '${e}' stream ${i} received error:`,J);let _e=J.status,Z=function(_){let w=Pe[_];if(w!==void 0)return PC(w)}(_e),E=J.message;Z===void 0&&(Z=M.INTERNAL,E="Unknown error status: "+_e+" with message "+J.message),v=!0,C.So(new F(Z,E)),p.close()}else V(et,`RPC '${e}' stream ${i} received:`,$),C.bo($)}}),N(a,_m.STAT_EVENT,R=>{R.stat===kl.PROXY?V(et,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===kl.NOPROXY&&V(et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}};function Dm(){return typeof document<"u"?document:null}function Dd(t){return new iy(t,!0)}var nd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var rd=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new nd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return S(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return S(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return S(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Fn(n.toString()),Fn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new F(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>S(this,null,function*(){this.state=0,this.start()}))}I_(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Oy=class extends rd{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=uU(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?pn(o.readTime):te.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=cy(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=Wm(u)?{documents:hU(s,u)}:{query:fU(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=OC(s,o.resumeToken);let l=sy(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=Zl(s,o.snapshotVersion.toTimestamp());let l=sy(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=gU(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=cy(this.serializer),n.removeTarget=e,this.a_(n)}},ky=class extends rd{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ve(!!e.streamToken),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=dU(e.writeResults,e.commitTime),r=pn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=cy(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>lU(this.serializer,r))};this.a_(n)}};var Fy=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new F(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,oy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(M.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,oy(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(M.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Ly=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Fn(n),this.D_=!1):V("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Vy=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>S(this,null,function*(){hi(this)&&(V("RemoteStore","Restarting streams for network reachability change."),yield function(u){return S(this,null,function*(){let l=Y(u);l.L_.add(4),yield Va(l),l.q_.set("Unknown"),l.L_.delete(4),yield bd(l)})}(this))}))}),this.q_=new Ly(r,i)}};function bd(t){return S(this,null,function*(){if(hi(t))for(let e of t.B_)yield e(!0)})}function Va(t){return S(this,null,function*(){for(let e of t.B_)yield e(!1)})}function qC(t,e){let n=Y(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),gv(n)?pv(n):Ps(n).r_()&&fv(n,e))}function hv(t,e){let n=Y(t),r=Ps(n);n.N_.delete(e),r.r_()&&HC(n,e),n.N_.size===0&&(r.r_()?r.o_():hi(n)&&n.q_.set("Unknown"))}function fv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ps(t).A_(e)}function HC(t,e){t.Q_.xe(e),Ps(t).R_(e)}function pv(t){t.Q_=new ry({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ps(t).start(),t.q_.v_()}function gv(t){return hi(t)&&!Ps(t).n_()&&t.N_.size>0}function hi(t){return Y(t).L_.size===0}function zC(t){t.Q_=void 0}function RU(t){return S(this,null,function*(){t.q_.set("Online")})}function NU(t){return S(this,null,function*(){t.N_.forEach((e,n)=>{fv(t,e)})})}function MU(t,e){return S(this,null,function*(){zC(t),gv(t)?(t.q_.M_(e),pv(t)):t.q_.set("Unknown")})}function xU(t,e,n){return S(this,null,function*(){if(t.q_.set("Online"),e instanceof Yl&&e.state===2&&e.cause)try{yield function(i,s){return S(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield id(t,r)}else if(e instanceof ys?t.Q_.Ke(e):e instanceof Ql?t.Q_.He(e):t.Q_.We(e),!n.isEqual(te.min()))try{let r=yield $C(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(rt.EMPTY_BYTE_STRING,h.snapshotVersion)),HC(s,u);let p=new Ca(h.target,u,l,h.sequenceNumber);fv(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){V("RemoteStore","Failed to raise snapshot:",r),yield id(t,r)}})}function id(t,e,n){return S(this,null,function*(){if(!La(e))throw e;t.L_.add(1),yield Va(t),t.q_.set("Offline"),n||(n=()=>$C(t.localStore)),t.asyncQueue.enqueueRetryable(()=>S(this,null,function*(){V("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield bd(t)}))})}function GC(t,e){return e().catch(n=>id(t,n,e))}function Cd(t){return S(this,null,function*(){let e=Y(t),n=Er(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;PU(e);)try{let i=yield bU(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,OU(e,i)}catch(i){yield id(e,i)}WC(e)&&KC(e)})}function PU(t){return hi(t)&&t.O_.length<10}function OU(t,e){t.O_.push(e);let n=Er(t);n.r_()&&n.V_&&n.m_(e.mutations)}function WC(t){return hi(t)&&!Er(t).n_()&&t.O_.length>0}function KC(t){Er(t).start()}function kU(t){return S(this,null,function*(){Er(t).p_()})}function FU(t){return S(this,null,function*(){let e=Er(t);for(let n of t.O_)e.m_(n.mutations)})}function LU(t,e,n){return S(this,null,function*(){let r=t.O_.shift(),i=Xm.from(r,e,n);yield GC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Cd(t)})}function VU(t,e){return S(this,null,function*(){e&&Er(t).V_&&(yield function(r,i){return S(this,null,function*(){if(function(o){return tU(o)&&o!==M.ABORTED}(i.code)){let s=r.O_.shift();Er(r).s_(),yield GC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Cd(r)}})}(t,e)),WC(t)&&KC(t)})}function Jb(t,e){return S(this,null,function*(){let n=Y(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");let r=hi(n);n.L_.add(3),yield Va(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield bd(n)})}function UU(t,e){return S(this,null,function*(){let n=Y(t);e?(n.L_.delete(2),yield bd(n)):e||(n.L_.add(2),yield Va(n),n.q_.set("Unknown"))})}function Ps(t){return t.K_||(t.K_=function(n,r,i){let s=Y(n);return s.w_(),new Oy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:RU.bind(null,t),Ro:NU.bind(null,t),mo:MU.bind(null,t),d_:xU.bind(null,t)}),t.B_.push(e=>S(this,null,function*(){e?(t.K_.s_(),gv(t)?pv(t):t.q_.set("Unknown")):(yield t.K_.stop(),zC(t))}))),t.K_}function Er(t){return t.U_||(t.U_=function(n,r,i){let s=Y(n);return s.w_(),new ky(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:kU.bind(null,t),mo:VU.bind(null,t),f_:FU.bind(null,t),g_:LU.bind(null,t)}),t.B_.push(e=>S(this,null,function*(){e?(t.U_.s_(),yield Cd(t)):(yield t.U_.stop(),t.O_.length>0&&(V("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Uy=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Gt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function mv(t,e){if(Fn("AsyncQueue",`${e}: ${t}`),La(t))return new F(M.UNAVAILABLE,`${e}: ${t}`);throw t}var sd=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||z.comparator(n.key,r.key):(n,r)=>z.comparator(n.key,r.key),this.keyedMap=ma(),this.sortedSet=new Me(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var od=class{constructor(){this.W_=new Me(z.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):K():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Rs=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,sd.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var jy=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},By=class{constructor(){this.queries=Zb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Y(n),s=i.queries;i.queries=Zb(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new F(M.ABORTED,"Firestore shutting down"))}};function Zb(){return new _r(t=>wC(t),Ed)}function yv(t,e){return S(this,null,function*(){let n=Y(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new jy,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=mv(o,`Initialization of query '${fs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&_v(n)})}function vv(t,e){return S(this,null,function*(){let n=Y(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function jU(t,e){let n=Y(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&_v(n)}function BU(t,e,n){let r=Y(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function _v(t){t.Y_.forEach(e=>{e.next()})}var $y,Xb;(Xb=$y||($y={})).ea="default",Xb.Cache="cache";var Ra=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Rs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Rs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==$y.Cache}};var ad=class{constructor(e){this.key=e}},cd=class{constructor(e){this.key=e}},qy=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ue(),this.mutatedKeys=ue(),this.Aa=EC(e),this.Ra=new sd(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new od,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),v=Td(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),N=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),R=!1;m&&v?m.data.isEqual(v.data)?C!==N&&(r.track({type:3,doc:v}),R=!0):this.ga(m,v)||(r.track({type:2,doc:v}),R=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),R=!0):m&&!v&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(v?(o=o.add(v),s=N?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(v,C){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return N(v)-N(C)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new Rs(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new od,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new cd(r))}),this.da.forEach(r=>{e.has(r)||n.push(new ad(r))}),n}ba(e){this.Ta=e.Ts,this.da=ue();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Rs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Hy=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},zy=class{constructor(e){this.key=e,this.va=!1}},Gy=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new _r(a=>wC(a),Ed),this.Ma=new Map,this.xa=new Set,this.Oa=new Me(z.comparator),this.Na=new Map,this.La=new Aa,this.Ba={},this.ka=new Map,this.qa=Sa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function $U(t,e,n=!0){return S(this,null,function*(){let r=e0(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield QC(r,e,n,!0),i})}function qU(t,e){return S(this,null,function*(){let n=e0(t);yield QC(n,e,!0,!1)})}function QC(t,e,n,r){return S(this,null,function*(){let i=yield CU(t.localStore,hn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield HU(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&qC(t.remoteStore,i),a})}function HU(t,e,n,r,i){return S(this,null,function*(){t.Ka=(p,m,v)=>function(N,R,P,$){return S(this,null,function*(){let L=R.view.ma(P);L.ns&&(L=yield Yb(N.localStore,R.query,!1).then(({documents:E})=>R.view.ma(E,L)));let J=$&&$.targetChanges.get(R.targetId),_e=$&&$.targetMismatches.get(R.targetId)!=null,Z=R.view.applyChanges(L,N.isPrimaryClient,J,_e);return tC(N,R.targetId,Z.wa),Z.snapshot})}(t,p,m,v);let s=yield Yb(t.localStore,e,!0),o=new qy(e,s.Ts),a=o.ma(s.documents),u=ba.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);tC(t,n,l.wa);let h=new Hy(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function zU(t,e,n){return S(this,null,function*(){let r=Y(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Ed(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Ry(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&hv(r.remoteStore,i.targetId),Wy(r,i.targetId)}).catch(Fa))):(Wy(r,i.targetId),yield Ry(r.localStore,i.targetId,!0))})}function GU(t,e){return S(this,null,function*(){let n=Y(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hv(n.remoteStore,r.targetId))})}function WU(t,e,n){return S(this,null,function*(){let r=ej(t);try{let i=yield function(o,a){let u=Y(o),l=He.now(),h=a.reduce((v,C)=>v.add(C.key),ue()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let C=Vn(),N=ue();return u.cs.getEntries(v,h).next(R=>{C=R,C.forEach((P,$)=>{$.isValidDocument()||(N=N.add(P))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,C)).next(R=>{p=R;let P=[];for(let $ of a){let L=eU($,p.get($.key).overlayedDocument);L!=null&&P.push(new mn($.key,L,pC(L.value.mapValue),fn.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,P,a)}).next(R=>{m=R;let P=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(v,R.batchId,P)})}).then(()=>({batchId:m.batchId,changes:DC(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Me(fe)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Ua(r,i.changes),yield Cd(r.remoteStore)}catch(i){let s=mv(i,"Failed to persist write");n.reject(s)}})}function YC(t,e){return S(this,null,function*(){let n=Y(t);try{let r=yield TU(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ve(o.va):i.removedDocuments.size>0&&(ve(o.va),o.va=!1))}),yield Ua(n,r,e)}catch(r){yield Fa(r)}})}function eC(t,e,n){let r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=Y(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&_v(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function KU(t,e,n){return S(this,null,function*(){let r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Me(z.comparator);o=o.insert(s,Wt.newNoDocument(s,te.min()));let a=ue().add(s),u=new Kl(te.min(),new Map,new Me(fe),o,a);yield YC(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),Iv(r)}else yield Ry(r.localStore,e,!1).then(()=>Wy(r,e,n)).catch(Fa)})}function QU(t,e){return S(this,null,function*(){let n=Y(t),r=e.batch.batchId;try{let i=yield EU(n.localStore,e);ZC(n,r,null),JC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ua(n,i)}catch(i){yield Fa(i)}})}function YU(t,e,n){return S(this,null,function*(){let r=Y(t);try{let i=yield function(o,a){let u=Y(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(ve(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);ZC(r,e,n),JC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ua(r,i)}catch(i){yield Fa(i)}})}function JC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function ZC(t,e,n){let r=Y(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Wy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||XC(t,r)})}function XC(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(hv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Iv(t))}function tC(t,e,n){for(let r of n)r instanceof ad?(t.La.addReference(r.key,e),JU(t,r)):r instanceof cd?(V("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||XC(t,r.key)):K()}function JU(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(V("SyncEngine","New document in limbo: "+n),t.xa.add(r),Iv(t))}function Iv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new z(Se.fromString(e)),r=t.qa.next();t.Na.set(r,new zy(n)),t.Oa=t.Oa.insert(n,r),qC(t.remoteStore,new Ca(hn(wd(n.path)),r,"TargetPurposeLimboResolution",lC.oe))}}function Ua(t,e,n){return S(this,null,function*(){let r=Y(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=by.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return S(this,null,function*(){let h=Y(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.$i,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>x.forEach(m.Ui,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!La(p))throw p;V("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.os.get(m),C=v.snapshotVersion,N=v.withLastLimboFreeSnapshotVersion(C);h.os=h.os.insert(m,N)}}})}(r.localStore,s))})}function ZU(t,e){return S(this,null,function*(){let n=Y(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());let r=yield BC(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new F(M.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ua(n,r.hs)}})}function XU(t,e){let n=Y(t),r=n.Na.get(e);if(r&&r.va)return ue().add(r.key);{let i=ue(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function e0(t){let e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KU.bind(null,e),e.Ca.d_=jU.bind(null,e.eventManager),e.Ca.$a=BU.bind(null,e.eventManager),e}function ej(t){let e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YU.bind(null,e),e}var nC=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return S(this,null,function*(){this.serializer=Dd(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return wU(this.persistence,new Sy,n.initialUser,this.serializer)}Ga(n){return new Ey(Dy.Zr,this.serializer)}Wa(n){return new Ny}terminate(){return S(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var tj=(()=>{class t{initialize(n,r){return S(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>eC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZU.bind(null,this.syncEngine),yield UU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new By}()}createDatastore(n){let r=Dd(n.databaseInfo.databaseId),i=function(o){return new Py(o)}(n.databaseInfo);return function(o,a,u,l){return new Fy(o,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,a,u){return new Vy(i,s,o,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>eC(this.syncEngine,r,0),function(){return td.D()?new td:new My}())}createSyncEngine(n,r){return function(s,o,a,u,l,h,p){let m=new Gy(s,o,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return S(this,null,function*(){var n,r;yield function(s){return S(this,null,function*(){let o=Y(s);V("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Va(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Na=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Fn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Ky=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Be.UNAUTHENTICATED,this.clientId=Bl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>S(this,null,function*(){V("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(V("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Gt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=mv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function bm(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>S(this,null,function*(){r.isEqual(i)||(yield BC(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function rC(t,e){return S(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield nj(t);V("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Jb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Jb(e.remoteStore,i)),t._onlineComponents=e})}function nj(t){return S(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield bm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;_s("Error using user provided cache. Falling back to memory cache: "+n),yield bm(t,new nC)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield bm(t,new nC);return t._offlineComponents})}function t0(t){return S(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield rC(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield rC(t,new tj))),t._onlineComponents})}function rj(t){return t0(t).then(e=>e.syncEngine)}function ud(t){return S(this,null,function*(){let e=yield t0(t),n=e.eventManager;return n.onListen=$U.bind(null,e.syncEngine),n.onUnlisten=zU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=qU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=GU.bind(null,e.syncEngine),n})}function ij(t,e,n={}){let r=new Gt;return t.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return function(s,o,a,u,l){let h=new Na({next:m=>{h.Za(),o.enqueueAndForget(()=>vv(s,p));let v=m.docs.has(a);!v&&m.fromCache?l.reject(new F(M.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&u&&u.source==="server"?l.reject(new F(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Ra(wd(a.path),h,{includeMetadataChanges:!0,_a:!0});return yv(s,p)}(yield ud(t),t.asyncQueue,e,n,r)})),r.promise}function sj(t,e,n={}){let r=new Gt;return t.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return function(s,o,a,u,l){let h=new Na({next:m=>{h.Za(),o.enqueueAndForget(()=>vv(s,p)),m.fromCache&&u.source==="server"?l.reject(new F(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Ra(a,h,{includeMetadataChanges:!0,_a:!0});return yv(s,p)}(yield ud(t),t.asyncQueue,e,n,r)})),r.promise}function n0(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var iC=new Map;function r0(t,e,n){if(!n)throw new F(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oj(t,e,n,r){if(e===!0&&r===!0)throw new F(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sC(t){if(!z.isDocumentKey(t))throw new F(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oC(t){if(z.isDocumentKey(t))throw new F(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":K()}function gt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Sd(t);throw new F(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var ld=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new F(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new F(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ns=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ld({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new F(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ld(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Cm;switch(r.type){case"firstParty":return new Nm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return S(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=iC.get(n);r&&(V("ComponentProvider","Removing Datastore"),iC.delete(n),r.terminate())}(this),Promise.resolve()}};function i0(t,e,n,r={}){var i;let s=(t=gt(t,Ns))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&_s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Be.MOCK_USER;else{a=BD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new F(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Be(l)}t._authCredentials=new Sm(new jl(a,u))}}var ui=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},nt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},yr=class t extends ui{constructor(e,n,r){super(e,n,wd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new nt(this.firestore,null,new z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function s0(t,e,...n){if(t=Xe(t),r0("collection","path",e),t instanceof Ns){let r=Se.fromString(e,...n);return oC(r),new yr(t,null,r)}{if(!(t instanceof nt||t instanceof yr))throw new F(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Se.fromString(e,...n));return oC(r),new yr(t.firestore,null,r)}}function wv(t,e,...n){if(t=Xe(t),arguments.length===1&&(e=Bl.newId()),r0("doc","path",e),t instanceof Ns){let r=Se.fromString(e,...n);return sC(r),new nt(t,null,new z(r))}{if(!(t instanceof nt||t instanceof yr))throw new F(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Se.fromString(e,...n));return sC(r),new nt(t.firestore,t instanceof yr?t.converter:null,new z(r))}}var dd=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new nd(this,"async_queue_retry"),this.Vu=()=>{let r=Dm();r&&V("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=Dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=Dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Gt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return S(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!La(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Fn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=Uy.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&K()}verifyOperationInProgress(){}wu(){return S(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function aC(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Qt=class extends Ns{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new dd,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return S(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new dd(e),this._firestoreClient=void 0,yield e}})}};function o0(t,e){let n=typeof t=="object"?t:ia(),r=typeof t=="string"?t:e||"(default)",i=Jg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=UD("firestore");s&&i0(i,...s)}return i}function Ad(t){if(t._terminated)throw new F(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||aj(t),t._firestoreClient}function aj(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new km(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,n0(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Ky(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Ma=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(rt.fromBase64String(e))}catch(n){throw new F(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ms=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var li=class{constructor(e){this._methodName=e}};var xa=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}};var Pa=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var cj=/^__.*__$/,Qy=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mn(e,this.data,this.fieldMask,n,this.fieldTransforms):new ci(e,this.data,n,this.fieldTransforms)}},hd=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new mn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function a0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}var fd=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return gd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(a0(this.Cu)&&cj.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Yy=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dd(e)}Qu(e,n,r,i=!1){return new fd({Cu:e,methodName:n,qu:r,path:Tt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Rd(t){let e=t._freezeSettings(),n=Dd(t._databaseId);return new Yy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function c0(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Ev("Data must be an object, but it was:",o,r);let a=l0(r,o),u,l;if(s.merge)u=new Ot(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=Xy(e,p,n);if(!o.contains(m))throw new F(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);h0(h,m)||h.push(m)}u=new Ot(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new Qy(new Et(a),u,l)}var pd=class t extends li{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function u0(t,e,n){return new fd({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var Jy=class t extends li{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){let n=u0(this,e,!0),r=this.Ku.map(s=>fi(s,n)),i=new Ir(r);return new Wl(e.path,i)}isEqual(e){return e instanceof t&&dr(this.Ku,e.Ku)}},Zy=class t extends li{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){let n=u0(this,e,!0),r=this.Ku.map(s=>fi(s,n)),i=new wr(r);return new Wl(e.path,i)}isEqual(e){return e instanceof t&&dr(this.Ku,e.Ku)}};function uj(t,e,n,r){let i=t.Qu(1,e,n);Ev("Data must be an object, but it was:",i,r);let s=[],o=Et.empty();di(r,(u,l)=>{let h=Tv(e,u,n);l=Xe(l);let p=i.Nu(h);if(l instanceof pd)s.push(h);else{let m=fi(l,p);m!=null&&(s.push(h),o.set(h,m))}});let a=new Ot(s);return new hd(o,a,i.fieldTransforms)}function lj(t,e,n,r,i,s){let o=t.Qu(1,e,n),a=[Xy(e,r,n)],u=[i];if(s.length%2!=0)throw new F(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(Xy(e,s[m])),u.push(s[m+1]);let l=[],h=Et.empty();for(let m=a.length-1;m>=0;--m)if(!h0(l,a[m])){let v=a[m],C=u[m];C=Xe(C);let N=o.Nu(v);if(C instanceof pd)l.push(v);else{let R=fi(C,N);R!=null&&(l.push(v),h.set(v,R))}}let p=new Ot(l);return new hd(h,p,o.fieldTransforms)}function dj(t,e,n,r=!1){return fi(n,t.Qu(r?4:3,e))}function fi(t,e){if(d0(t=Xe(t)))return Ev("Unsupported field value:",e,t),l0(t,e);if(t instanceof li)return function(r,i){if(!a0(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=fi(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=He.fromDate(r);return{timestampValue:Zl(i.serializer,s)}}if(r instanceof He){let s=new He(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zl(i.serializer,s)}}if(r instanceof xa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ma)return{bytesValue:OC(i.serializer,r._byteString)};if(r instanceof nt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:dv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Pa)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return lv(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Sd(r)}`)}(t,e)}function l0(t,e){let n={};return dC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):di(t,(r,i)=>{let s=fi(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function d0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof He||t instanceof xa||t instanceof Ma||t instanceof nt||t instanceof li||t instanceof Pa)}function Ev(t,e,n){if(!d0(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Sd(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Xy(t,e,n){if((e=Xe(e))instanceof Ms)return e._internalPath;if(typeof e=="string")return Tv(t,e);throw gd("Field path arguments must be of type string or ",t,!1,void 0,n)}var hj=new RegExp("[~\\*/\\[\\]]");function Tv(t,e,n){if(e.search(hj)>=0)throw gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ms(...e.split("."))._internalPath}catch{throw gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gd(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new F(M.INVALID_ARGUMENT,a+t+u)}function h0(t,e){return t.some(n=>n.isEqual(e))}var md=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new ev(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Dv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},ev=class extends md{data(){return super.data()}};function Dv(t,e){return typeof e=="string"?Tv(t,e):e instanceof Ms?e._internalPath:e._delegate._internalPath}function f0(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Oa=class{},tv=class extends Oa{};function p0(t,e,...n){let r=[];e instanceof Oa&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof nv).length,a=s.filter(u=>u instanceof yd).length;if(o>1||o>0&&a>0)throw new F(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var yd=class t extends tv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return m0(e._query,n),new ui(e.firestore,e.converter,Km(e._query,n))}_parse(e){let n=Rd(e.firestore);return function(s,o,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new F(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){uC(p,h);let v=[];for(let C of p)v.push(cC(u,s,C));m={arrayValue:{values:v}}}else m=cC(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||uC(p,h),m=dj(a,o,p,h==="in"||h==="not-in");return ke.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function g0(t,e,n){let r=e,i=Dv("where",t);return yd._create(i,r,n)}var nv=class t extends Oa{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Kt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)m0(o,u),o=Km(o,u)}(e._query,n),new ui(e.firestore,e.converter,Km(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function cC(t,e,n){if(typeof(n=Xe(n))=="string"){if(n==="")throw new F(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IC(e)&&n.indexOf("/")!==-1)throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Se.fromString(n));if(!z.isDocumentKey(r))throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Pb(t,new z(r))}if(n instanceof nt)return Pb(t,n._key);throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sd(n)}.`)}function uC(t,e){if(!Array.isArray(t)||t.length===0)throw new F(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function m0(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new F(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var rv=class{convertValue(e,n="none"){switch(oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw K()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return di(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>be(o.doubleValue));return new Pa(s)}convertGeoPoint(e){return new xa(be(e.latitude),be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=ov(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ea(e));default:return null}}convertTimestamp(e){let n=Ln(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Se.fromString(e);ve(jC(r));let i=new zl(r.get(1),r.get(3)),s=new z(r.popFirst(5));return i.isEqual(n)||Fn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function y0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var ri=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},vd=class extends md{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new vs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Dv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},vs=class extends vd{data(e={}){return super.data(e)}},_d=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ri(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vs(this._firestore,this._userDataWriter,r.key,r,new ri(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new vs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ri(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new vs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ri(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:fj(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function fj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}function v0(t){t=gt(t,nt);let e=gt(t.firestore,Qt);return ij(Ad(e),t._key).then(n=>D0(e,t,n))}var ka=class extends rv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ma(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new nt(this.firestore,null,n)}};function _0(t){t=gt(t,ui);let e=gt(t.firestore,Qt),n=Ad(e),r=new ka(e);return f0(t._query),sj(n,t._query).then(i=>new _d(e,r,t,i))}function I0(t,e,n){t=gt(t,nt);let r=gt(t.firestore,Qt),i=y0(t.converter,e,n);return Nd(r,[c0(Rd(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,fn.none())])}function w0(t,e,n,...r){t=gt(t,nt);let i=gt(t.firestore,Qt),s=Rd(i),o;return o=typeof(e=Xe(e))=="string"||e instanceof Ms?lj(s,"updateDoc",t._key,e,n,r):uj(s,"updateDoc",t._key,e),Nd(i,[o.toMutation(t._key,fn.exists(!0))])}function E0(t){return Nd(gt(t.firestore,Qt),[new Da(t._key,fn.none())])}function T0(t,e){let n=gt(t.firestore,Qt),r=wv(t),i=y0(t.converter,e);return Nd(n,[c0(Rd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,fn.exists(!1))]).then(()=>r)}function bv(t,...e){var n,r,i;t=Xe(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||aC(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(aC(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof nt)l=gt(t.firestore,Qt),h=wd(t._key.path),u={next:p=>{e[o]&&e[o](D0(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=gt(t,ui);l=gt(p.firestore,Qt),h=p._query;let m=new ka(l);u={next:v=>{e[o]&&e[o](new _d(l,m,p,v))},error:e[o+1],complete:e[o+2]},f0(t._query)}return function(m,v,C,N){let R=new Na(N),P=new Ra(v,R,C);return m.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return yv(yield ud(m),P)})),()=>{R.Za(),m.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return vv(yield ud(m),P)}))}}(Ad(l),h,a,u)}function Nd(t,e){return function(r,i){let s=new Gt;return r.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return WU(yield rj(r),i,s)})),s.promise}(Ad(t),e)}function D0(t,e,n){let r=n.docs.get(e._key),i=new ka(t);return new vd(t,i,e._key,r,new ri(n.hasPendingWrites,n.fromCache),e.converter)}function b0(...t){return new Jy("arrayUnion",t)}function C0(...t){return new Zy("arrayRemove",t)}(function(e,n=!0){(function(i){xs=i})(us),pr(new Pt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Qt(new Am(r.getProvider("auth-internal")),new xm(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new F(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ue(Rb,"4.7.3",e),Ue(Rb,"4.7.3","esm2017")})();var Md=function(){return Md=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Md.apply(this,arguments)};var mj={includeMetadataChanges:!1};function S0(t,e){return e===void 0&&(e=mj),new X(function(n){var r=bv(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function A0(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Md(Md({},r),(n={},n[e.idField]=t.id,n))}function R0(t){return S0(t,{includeMetadataChanges:!0}).pipe(ee(function(e){return e.docs}))}function N0(t,e){return e===void 0&&(e={}),R0(t).pipe(ee(function(n){return n.map(function(r){return A0(r,e)})}))}var ja=class{constructor(e){return e}},M0="firestore",Cv=class{constructor(){return oa(M0)}};var Sv=new q("angularfire2.firestore-instances");function yj(t,e){let n=em(M0,t,e);return n&&new ja(n)}function vj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ja(r)}}var _j={provide:Cv,deps:[[new vt,Sv]]},Ij={provide:ja,useFactory:yj,deps:[[new vt,Sv],Zr]};function m5(t,...e){return Ue("angularfire",ds.full,"fst"),sn([Ij,_j,{provide:Sv,useFactory:vj(t),multi:!0,deps:[me,At,aa,ca,[new vt,Pl],[new vt,sa],...e]}])}var y5=je(N0,!0);var v5=je(T0,!0);var _5=je(C0,!0),I5=je(b0,!0);var w5=je(s0,!0);var E5=je(E0,!0);var T5=je(wv,!0);var D5=je(v0,!0);var b5=je(_0,!0);var C5=je(o0,!0);var S5=je(p0,!0);var A5=je(I0,!0);var R5=je(w0,!0);var N5=je(g0,!0);export{Ce as a,X as b,Qe as c,qe as d,xS as e,Te as f,W as g,ee as h,eo as i,PS as j,yh as k,jS as l,BS as m,at as n,$S as o,En as p,xc as q,dt as r,Ih as s,xe as t,j as u,KI as v,B as w,qr as x,q as y,H as z,O as A,Bt as B,uw as C,Hr as D,zi as E,Ye as F,mo as G,k4 as H,F4 as I,L4 as J,V4 as K,Yf as L,vo as M,Ut as N,Rt as O,U4 as P,Le as Q,Mu as R,me as S,Wi as T,$M as U,gp as V,XM as W,_p as X,dx as Y,hx as Z,WE as _,KE as $,Ip as aa,q4 as ba,wp as ca,H4 as da,z4 as ea,G4 as fa,Ox as ga,YE as ha,kx as ia,Fx as ja,Lx as ka,W4 as la,Vx as ma,K4 as na,ZE as oa,Q4 as pa,Y4 as qa,J4 as ra,Z4 as sa,X4 as ta,eG as ua,Io as va,Ki as wa,Eo as xa,To as ya,tG as za,Qi as Aa,Ze as Ba,EG as Ca,TG as Da,DG as Ea,bG as Fa,CG as Ga,xP as Ha,OP as Ia,qP as Ja,UG as Ka,uW as La,ek as Ma,xn as Na,NW as Oa,MW as Pa,xW as Qa,w9 as Ra,E9 as Sa,ja as Ta,m5 as Ua,y5 as Va,v5 as Wa,_5 as Xa,I5 as Ya,w5 as Za,E5 as _a,T5 as $a,D5 as ab,b5 as bb,C5 as cb,S5 as db,A5 as eb,R5 as fb,N5 as gb};
