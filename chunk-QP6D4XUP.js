import{a as U,b as Se,e as C}from"./chunk-5FZOKLP6.js";var d_=null;var Ud=1,h_=Symbol("SIGNAL");function fe(t){let e=d_;return d_=t,e}var f_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function M0(t){if(!($d(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ud)){if(!t.producerMustRecompute(t)&&!jd(t)){t.dirty=!1,t.lastCleanEpoch=Ud;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ud}}function p_(t){return t&&(t.nextProducerIndex=0),fe(t)}function g_(t,e){if(fe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if($d(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Bd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function jd(t){Qa(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(M0(n),r!==n.version))return!0}return!1}function m_(t){if(Qa(t),$d(t))for(let e=0;e<t.producerNode.length;e++)Bd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Bd(t,e){if(P0(t),Qa(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Bd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Qa(i),i.producerIndexOfThis[r]=e}}function $d(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Qa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function P0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function x0(){throw new Error}var O0=x0;function y_(t){O0=t}function J(t){return typeof t=="function"}function ui(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ya=ui(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function yr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Re=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(J(r))try{r()}catch(s){e=s instanceof Ya?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{v_(s)}catch(o){e=e??[],o instanceof Ya?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ya(e)}}add(e){var n;if(e&&e!==this)if(this.closed)v_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&yr(n,e)}remove(e){let{_finalizers:n}=this;n&&yr(n,e),e instanceof t&&e._removeParent(this)}};Re.EMPTY=(()=>{let t=new Re;return t.closed=!0,t})();var qd=Re.EMPTY;function Ja(t){return t instanceof Re||t&&"closed"in t&&J(t.remove)&&J(t.add)&&J(t.unsubscribe)}function v_(t){J(t)?t():t.unsubscribe()}var Ot={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var li={setTimeout(t,e,...n){let{delegate:r}=li;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=li;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Za(t){li.setTimeout(()=>{let{onUnhandledError:e}=Ot;if(e)e(t);else throw t})}function Ws(){}var __=Hd("C",void 0,void 0);function I_(t){return Hd("E",void 0,t)}function w_(t){return Hd("N",t,void 0)}function Hd(t,e,n){return{kind:t,value:e,error:n}}var vr=null;function di(t){if(Ot.useDeprecatedSynchronousErrorHandling){let e=!vr;if(e&&(vr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=vr;if(vr=null,n)throw r}}else t()}function E_(t){Ot.useDeprecatedSynchronousErrorHandling&&vr&&(vr.errorThrown=!0,vr.error=t)}var _r=class extends Re{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ja(e)&&e.add(this)):this.destination=L0}static create(e,n,r){return new hi(e,n,r)}next(e){this.isStopped?Gd(w_(e),this):this._next(e)}error(e){this.isStopped?Gd(I_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Gd(__,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},k0=Function.prototype.bind;function zd(t,e){return k0.call(t,e)}var Wd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Xa(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Xa(r)}else Xa(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Xa(n)}}},hi=class extends _r{constructor(e,n,r){super();let i;if(J(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ot.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&zd(e.next,s),error:e.error&&zd(e.error,s),complete:e.complete&&zd(e.complete,s)}):i=e}this.destination=new Wd(i)}};function Xa(t){Ot.useDeprecatedSynchronousErrorHandling?E_(t):Za(t)}function F0(t){throw t}function Gd(t,e){let{onStoppedNotification:n}=Ot;n&&li.setTimeout(()=>n(t,e))}var L0={closed:!0,next:Ws,error:F0,complete:Ws};var fi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ft(t){return t}function ec(...t){return Kd(t)}function Kd(t){return t.length===0?ft:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var re=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=U0(n)?n:new hi(n,r,i);return di(()=>{let{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=T_(r),new r((i,s)=>{let o=new hi({next:c=>{try{n(c)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[fi](){return this}pipe(...n){return Kd(n)(this)}toPromise(n){return n=T_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function T_(t){var e;return(e=t??Ot.Promise)!==null&&e!==void 0?e:Promise}function V0(t){return t&&J(t.next)&&J(t.error)&&J(t.complete)}function U0(t){return t&&t instanceof _r||V0(t)&&Ja(t)}function Qd(t){return J(t?.lift)}function ue(t){return e=>{if(Qd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(t,e,n,r,i){return new Yd(t,e,n,r,i)}var Yd=class extends _r{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function pi(){return ue((t,e)=>{let n=null;t._refCount++;let r=se(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var gi=class extends re{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Qd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Re;let n=this.getSubject();e.add(this.source.subscribe(se(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Re.EMPTY)}return e}refCount(){return pi()(this)}};var D_=ui(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ke=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new tc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new D_}next(n){di(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){di(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){di(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?qd:(this.currentObservers=null,s.push(n),new Re(()=>{this.currentObservers=null,yr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new re;return n.source=this,n}}return t.create=(e,n)=>new tc(e,n),t})(),tc=class extends Ke{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:qd}};var je=class extends Ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Jd={now(){return(Jd.delegate||Date).now()},delegate:void 0};var nc=class extends Re{constructor(e,n){super()}schedule(e,n=0){return this}};var Ks={setInterval(t,e,...n){let{delegate:r}=Ks;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ks;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var mi=class extends nc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Ks.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ks.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,yr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var yi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};yi.now=Jd.now;var vi=class extends yi{constructor(e,n=yi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Zd=new vi(mi);var rc=class extends mi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ic=class extends vi{};var Xd=new ic(rc);var pt=new re(t=>t.complete());function b_(t){return t&&J(t.schedule)}function C_(t){return t[t.length-1]}function sc(t){return J(C_(t))?t.pop():void 0}function Vn(t){return b_(C_(t))?t.pop():void 0}function eh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function A_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function c(f){try{l(r.next(f))}catch(p){o(p)}}function u(f){try{l(r.throw(f))}catch(p){o(p)}}function l(f){f.done?s(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function S_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ir(t){return this instanceof Ir?(this.v=t,this):new Ir(t)}function R_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(I){return function(S){return Promise.resolve(S).then(I,p)}}function c(I,S){r[I]&&(i[I]=function(R){return new Promise(function(N,k){s.push([I,R,N,k])>1||u(I,R)})},S&&(i[I]=S(i[I])))}function u(I,S){try{l(r[I](S))}catch(R){m(s[0][3],R)}}function l(I){I.value instanceof Ir?Promise.resolve(I.value.v).then(f,p):m(s[0][2],I)}function f(I){u("next",I)}function p(I){u("throw",I)}function m(I,S){I(S),s.shift(),s.length&&u(s[0][0],s[0][1])}}function N_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof S_=="function"?S_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(c,u){o=t[s](o),i(c,u,o.done,o.value)})}}function i(s,o,c,u){Promise.resolve(u).then(function(l){s({value:l,done:c})},o)}}var oc=t=>t&&typeof t.length=="number"&&typeof t!="function";function ac(t){return J(t?.then)}function cc(t){return J(t[fi])}function uc(t){return Symbol.asyncIterator&&J(t?.[Symbol.asyncIterator])}function lc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function j0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var dc=j0();function hc(t){return J(t?.[dc])}function fc(t){return R_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ir(n.read());if(i)return yield Ir(void 0);yield yield Ir(r)}}finally{n.releaseLock()}})}function pc(t){return J(t?.getReader)}function Ne(t){if(t instanceof re)return t;if(t!=null){if(cc(t))return B0(t);if(oc(t))return $0(t);if(ac(t))return q0(t);if(uc(t))return M_(t);if(hc(t))return H0(t);if(pc(t))return z0(t)}throw lc(t)}function B0(t){return new re(e=>{let n=t[fi]();if(J(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function $0(t){return new re(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function q0(t){return new re(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Za)})}function H0(t){return new re(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function M_(t){return new re(e=>{G0(t,e).catch(n=>e.error(n))})}function z0(t){return M_(fc(t))}function G0(t,e){var n,r,i,s;return A_(this,void 0,void 0,function*(){try{for(n=N_(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function at(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Un(t,e=0){return ue((n,r)=>{n.subscribe(se(r,i=>at(r,t,()=>r.next(i),e),()=>at(r,t,()=>r.complete(),e),i=>at(r,t,()=>r.error(i),e)))})}function jn(t,e=0){return ue((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function P_(t,e){return Ne(t).pipe(jn(e),Un(e))}function x_(t,e){return Ne(t).pipe(jn(e),Un(e))}function O_(t,e){return new re(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function k_(t,e){return new re(n=>{let r;return at(n,e,()=>{r=t[dc](),at(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>J(r?.return)&&r.return()})}function gc(t,e){if(!t)throw new Error("Iterable cannot be null");return new re(n=>{at(n,e,()=>{let r=t[Symbol.asyncIterator]();at(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function F_(t,e){return gc(fc(t),e)}function L_(t,e){if(t!=null){if(cc(t))return P_(t,e);if(oc(t))return O_(t,e);if(ac(t))return x_(t,e);if(uc(t))return gc(t,e);if(hc(t))return k_(t,e);if(pc(t))return F_(t,e)}throw lc(t)}function Te(t,e){return e?L_(t,e):Ne(t)}function z(...t){let e=Vn(t);return Te(t,e)}function _i(t,e){let n=J(t)?t:()=>t,r=i=>i.error(n());return new re(e?i=>e.schedule(r,0,i):r)}function th(t){return!!t&&(t instanceof re||J(t.lift)&&J(t.subscribe))}var mn=ui(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Z(t,e){return ue((n,r)=>{let i=0;n.subscribe(se(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:W0}=Array;function K0(t,e){return W0(e)?t(...e):t(e)}function mc(t){return Z(e=>K0(t,e))}var{isArray:Q0}=Array,{getPrototypeOf:Y0,prototype:J0,keys:Z0}=Object;function yc(t){if(t.length===1){let e=t[0];if(Q0(e))return{args:e,keys:null};if(X0(e)){let n=Z0(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function X0(t){return t&&typeof t=="object"&&Y0(t)===J0}function vc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Qs(...t){let e=Vn(t),n=sc(t),{args:r,keys:i}=yc(t);if(r.length===0)return Te([],e);let s=new re(eS(r,e,i?o=>vc(i,o):ft));return n?s.pipe(mc(n)):s}function eS(t,e,n=ft){return r=>{V_(e,()=>{let{length:i}=t,s=new Array(i),o=i,c=i;for(let u=0;u<i;u++)V_(e,()=>{let l=Te(t[u],e),f=!1;l.subscribe(se(r,p=>{s[u]=p,f||(f=!0,c--),c||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function V_(t,e,n){t?at(n,t,e):e()}function U_(t,e,n,r,i,s,o,c){let u=[],l=0,f=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},I=R=>l<r?S(R):u.push(R),S=R=>{s&&e.next(R),l++;let N=!1;Ne(n(R,f++)).subscribe(se(e,k=>{i?.(k),s?I(k):e.next(k)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let k=u.shift();o?at(e,o,()=>S(k)):S(k)}m()}catch(k){e.error(k)}}))};return t.subscribe(se(e,I,()=>{p=!0,m()})),()=>{c?.()}}function Me(t,e,n=1/0){return J(e)?Me((r,i)=>Z((s,o)=>e(r,s,i,o))(Ne(t(r,i))),n):(typeof e=="number"&&(n=e),ue((r,i)=>U_(r,i,t,n)))}function Ii(t=1/0){return Me(ft,t)}function j_(){return Ii(1)}function wi(...t){return j_()(Te(t,Vn(t)))}function _c(t){return new re(e=>{Ne(t()).subscribe(e)})}function tS(...t){let e=sc(t),{args:n,keys:r}=yc(t),i=new re(s=>{let{length:o}=n;if(!o){s.complete();return}let c=new Array(o),u=o,l=o;for(let f=0;f<o;f++){let p=!1;Ne(n[f]).subscribe(se(s,m=>{p||(p=!0,l--),c[f]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?vc(r,c):c),s.complete())}))}});return e?i.pipe(mc(e)):i}function it(t,e){return ue((n,r)=>{let i=0;n.subscribe(se(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Bn(t){return ue((e,n)=>{let r=null,i=!1,s;r=e.subscribe(se(n,void 0,void 0,o=>{s=Ne(t(o,Bn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function B_(t,e,n,r,i){return(s,o)=>{let c=n,u=e,l=0;s.subscribe(se(o,f=>{let p=l++;u=c?t(u,f,p):(c=!0,f),r&&o.next(u)},i&&(()=>{c&&o.next(u),o.complete()})))}}function yn(t,e){return J(e)?Me(t,e,1):Me(t,1)}function $n(t){return ue((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function vn(t){return t<=0?()=>pt:ue((e,n)=>{let r=0;e.subscribe(se(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function nh(t){return Z(()=>t)}function Ic(t=nS){return ue((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function nS(){return new mn}function qn(t){return ue((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Gt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?it((i,s)=>t(i,s,r)):ft,vn(1),n?$n(e):Ic(()=>new mn))}function Ei(t){return t<=0?()=>pt:ue((e,n)=>{let r=[];e.subscribe(se(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function rh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?it((i,s)=>t(i,s,r)):ft,Ei(1),n?$n(e):Ic(()=>new mn))}function wc(t,e){return ue(B_(t,e,arguments.length>=2,!0))}function Ec(...t){let e=Vn(t);return ue((n,r)=>{(e?wi(t,n,e):wi(t,n)).subscribe(r)})}function ct(t,e){return ue((n,r)=>{let i=null,s=0,o=!1,c=()=>o&&!i&&r.complete();n.subscribe(se(r,u=>{i?.unsubscribe();let l=0,f=s++;Ne(t(u,f)).subscribe(i=se(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function ih(t){return ue((e,n)=>{Ne(t).subscribe(se(n,()=>n.complete(),Ws)),!n.closed&&e.subscribe(n)})}function Pe(t,e,n){let r=J(t)||e||n?{next:t,error:e,complete:n}:t;return r?ue((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let c=!0;i.subscribe(se(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):ft}var CI="https://g.co/ng/security#xss",$=class extends Error{constructor(e,n){super(eu(e,n)),this.code=e}};function eu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ao(t){return{toString:t}.toString()}var Tc="__parameters__";function rS(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function SI(t,e,n){return ao(()=>{let r=rS(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return c.annotation=o,c;function c(u,l,f){let p=u.hasOwnProperty(Tc)?u[Tc]:Object.defineProperty(u,Tc,{value:[]})[Tc];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var wr=globalThis;function Ie(t){for(let e in t)if(t[e]===Ie)return e;throw Error("Could not find renamed property on target object.")}function iS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ot(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ot).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function $_(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var sS=Ie({__forward_ref__:Ie});function AI(t){return t.__forward_ref__=AI,t.toString=function(){return ot(this())},t}function st(t){return RI(t)?t():t}function RI(t){return typeof t=="function"&&t.hasOwnProperty(sS)&&t.__forward_ref__===AI}function j(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function xr(t){return{providers:t.providers||[],imports:t.imports||[]}}function tu(t){return q_(t,MI)||q_(t,PI)}function NI(t){return tu(t)!==null}function q_(t,e){return t.hasOwnProperty(e)?t[e]:null}function oS(t){let e=t&&(t[MI]||t[PI]);return e||null}function H_(t){return t&&(t.hasOwnProperty(z_)||t.hasOwnProperty(aS))?t[z_]:null}var MI=Ie({\u0275prov:Ie}),z_=Ie({\u0275inj:Ie}),PI=Ie({ngInjectableDef:Ie}),aS=Ie({ngInjectorDef:Ie}),H=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=j({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function xI(t){return t&&!!t.\u0275providers}var cS=Ie({\u0275cmp:Ie}),uS=Ie({\u0275dir:Ie}),lS=Ie({\u0275pipe:Ie}),dS=Ie({\u0275mod:Ie}),Pc=Ie({\u0275fac:Ie}),Ys=Ie({__NG_ELEMENT_ID__:Ie}),G_=Ie({__NG_ENV_ID__:Ie});function _n(t){return typeof t=="string"?t:t==null?"":String(t)}function hS(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():_n(t)}function fS(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,t)}function df(t,e){throw new $(-201,!1)}var ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ie||{}),Ih;function OI(){return Ih}function ut(t){let e=Ih;return Ih=t,e}function kI(t,e,n){let r=tu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ie.Optional)return null;if(e!==void 0)return e;df(t,"Injector")}var pS={},Js=pS,wh="__NG_DI_FLAG__",xc="ngTempTokenPath",gS="ngTokenPath",mS=/\n/gm,yS="\u0275",W_="__source",Si;function vS(){return Si}function Hn(t){let e=Si;return Si=t,e}function _S(t,e=ie.Default){if(Si===void 0)throw new $(-203,!1);return Si===null?kI(t,void 0,e):Si.get(t,e&ie.Optional?null:void 0,e)}function B(t,e=ie.Default){return(OI()||_S)(st(t),e)}function x(t,e=ie.Default){return B(t,nu(e))}function nu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Eh(t){let e=[];for(let n=0;n<t.length;n++){let r=st(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,s=ie.Default;for(let o=0;o<r.length;o++){let c=r[o],u=IS(c);typeof u=="number"?u===-1?i=c.token:s|=u:i=c}e.push(B(i,s))}else e.push(B(r))}return e}function FI(t,e){return t[wh]=e,t.prototype[wh]=e,t}function IS(t){return t[wh]}function wS(t,e,n,r){let i=t[xc];throw e[W_]&&i.unshift(e[W_]),t.message=ES(`
`+t.message,i,n,r),t[gS]=i,t[xc]=null,t}function ES(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==yS?t.slice(2):t;let i=ot(e);if(Array.isArray(e))i=e.map(ot).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+(typeof c=="string"?JSON.stringify(c):ot(c)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(mS,`
  `)}`}var gt=FI(SI("Optional"),8);var ru=FI(SI("SkipSelf"),4);function Dr(t,e){let n=t.hasOwnProperty(Pc);return n?t[Pc]:null}function hf(t,e){t.forEach(n=>Array.isArray(n)?hf(n,e):e(n))}function LI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Oc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function TS(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function DS(t,e,n){let r=co(t,e);return r>=0?t[r|1]=n:(r=~r,TS(t,r,e,n)),r}function sh(t,e){let n=co(t,e);if(n>=0)return t[n|1]}function co(t,e){return bS(t,e,1)}function bS(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Ri={},Et=[],Ni=new H(""),VI=new H("",-1),UI=new H(""),kc=class{get(e,n=Js){if(n===Js){let r=new Error(`NullInjectorError: No provider for ${ot(e)}!`);throw r.name="NullInjectorError",r}return n}},jI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(jI||{}),Qt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Qt||{}),Vt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Vt||{});function CS(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Th(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],c=n[r++];t.setAttribute(e,o,c,s)}else{let s=i,o=n[++r];SS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function BI(t){return t===3||t===4||t===6}function SS(t){return t.charCodeAt(0)===64}function Zs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?K_(t,n,i,null,e[++r]):K_(t,n,i,null,null))}}return t}function K_(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let c=t[s++];if(typeof c=="number"){if(c===e){o=-1;break}else if(c>e){o=s-1;break}}}for(;s<t.length;){let c=t[s];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var $I="ng-template";function AS(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&CS(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ff(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function ff(t){return t.type===4&&t.value!==$I}function RS(t,e,n){let r=t.type===4&&!n?$I:t.value;return e===r}function NS(t,e,n){let r=4,i=t.attrs,s=i!==null?xS(i):0,o=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!o&&!kt(r)&&!kt(u))return!1;if(o&&kt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!RS(t,u,n)||u===""&&e.length===1){if(kt(r))return!1;o=!0}}else if(r&8){if(i===null||!AS(t,i,u,n)){if(kt(r))return!1;o=!0}}else{let l=e[++c],f=MS(u,i,ff(t),n);if(f===-1){if(kt(r))return!1;o=!0;continue}if(l!==""){let p;if(f>s?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(kt(r))return!1;o=!0}}}}return kt(r)||o}function kt(t){return(t&1)===0}function MS(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return OS(e,t)}function PS(t,e,n=!1){for(let r=0;r<e.length;r++)if(NS(t,e[r],n))return!0;return!1}function xS(t){for(let e=0;e<t.length;e++){let n=t[e];if(BI(n))return e}return t.length}function OS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Q_(t,e){return t?":not("+e.trim()+")":e}function kS(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let c=t[++n];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!kt(o)&&(e+=Q_(s,i),i=""),r=o,s=s||!kt(r);n++}return i!==""&&(e+=Q_(s,i)),e}function FS(t){return t.map(kS).join(",")}function LS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!kt(i))break;i=s}r++}return{attrs:e,classes:n}}function iu(t){return ao(()=>{let e=KI(t),n=Se(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===jI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Qt.Emulated,styles:t.styles||Et,_:null,schemas:t.schemas||null,tView:null,id:""});QI(n);let r=t.dependencies;return n.directiveDefs=J_(r,!1),n.pipeDefs=J_(r,!0),n.id=jS(n),n})}function VS(t){return Gn(t)||HI(t)}function US(t){return t!==null}function Or(t){return ao(()=>({type:t.type,bootstrap:t.bootstrap||Et,declarations:t.declarations||Et,imports:t.imports||Et,exports:t.exports||Et,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Y_(t,e){if(t==null)return Ri;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,c=Vt.None;Array.isArray(i)?(c=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=c!==Vt.None?[r,c]:r,e[s]=o):n[s]=r}return n}function Li(t){return ao(()=>{let e=KI(t);return QI(e),e})}function qI(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Gn(t){return t[cS]||null}function HI(t){return t[uS]||null}function zI(t){return t[lS]||null}function GI(t){let e=Gn(t)||HI(t)||zI(t);return e!==null?e.standalone:!1}function WI(t,e){let n=t[dS]||null;if(!n&&e===!0)throw new Error(`Type ${ot(t)} does not have '\u0275mod' property.`);return n}function KI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ri,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Et,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Y_(t.inputs,e),outputs:Y_(t.outputs),debugInfo:null}}function QI(t){t.features?.forEach(e=>e(t))}function J_(t,e){if(!t)return null;let n=e?zI:VS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(US)}function jS(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Xt(t){return{\u0275providers:t}}function BS(...t){return{\u0275providers:YI(!0,t),\u0275fromNgModule:!0}}function YI(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return hf(e,o=>{let c=o;Dh(c,s,[],r)&&(i||=[],i.push(c))}),i!==void 0&&JI(i,s),n}function JI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];pf(i,s=>{e(s,r)})}}function Dh(t,e,n,r){if(t=st(t),!t)return!1;let i=null,s=H_(t),o=!s&&Gn(t);if(!s&&!o){let u=t.ngModule;if(s=H_(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)Dh(l,e,n,r)}}else if(s){if(s.imports!=null&&!c){r.add(i);let l;try{hf(s.imports,f=>{Dh(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&JI(l,e)}if(!c){let l=Dr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Et},i),e({provide:UI,useValue:i,multi:!0},i),e({provide:Ni,useValue:()=>B(i),multi:!0},i)}let u=s.providers;if(u!=null&&!c){let l=t;pf(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function pf(t,e){for(let n of t)xI(n)&&(n=n.\u0275providers),Array.isArray(n)?pf(n,e):e(n)}var $S=Ie({provide:String,useValue:Ie});function ZI(t){return t!==null&&typeof t=="object"&&$S in t}function qS(t){return!!(t&&t.useExisting)}function HS(t){return!!(t&&t.useFactory)}function Mi(t){return typeof t=="function"}function zS(t){return!!t.useClass}var su=new H(""),Sc={},GS={},oh;function gf(){return oh===void 0&&(oh=new kc),oh}var Qe=class{},Xs=class extends Qe{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ch(e,o=>this.processProvider(o)),this.records.set(VI,Ti(void 0,this)),i.has("environment")&&this.records.set(Qe,Ti(void 0,this));let s=this.records.get(su);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(UI,Et,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Hn(this),r=ut(void 0),i;try{return e()}finally{Hn(n),ut(r)}}get(e,n=Js,r=ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(G_))return e[G_](this);r=nu(r);let i,s=Hn(this),o=ut(void 0);try{if(!(r&ie.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=JS(e)&&tu(e);l&&this.injectableDefInScope(l)?u=Ti(bh(e),Sc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&ie.Self?gf():this.parent;return n=r&ie.Optional&&n===Js?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[xc]=c[xc]||[]).unshift(ot(e)),s)throw c;return wS(c,e,"R3InjectorError",this.source)}else throw c}finally{ut(o),Hn(s)}}resolveInjectorInitializers(){let e=fe(null),n=Hn(this),r=ut(void 0),i;try{let s=this.get(Ni,Et,ie.Self);for(let o of s)o()}finally{Hn(n),ut(r),fe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ot(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=st(e);let n=Mi(e)?e:st(e&&e.provide),r=KS(e);if(!Mi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ti(void 0,Sc,!0),i.factory=()=>Eh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=fe(null);try{return n.value===Sc&&(n.value=GS,n.value=n.factory()),typeof n.value=="object"&&n.value&&YS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{fe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=st(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function bh(t){let e=tu(t),n=e!==null?e.factory:Dr(t);if(n!==null)return n;if(t instanceof H)throw new $(204,!1);if(t instanceof Function)return WS(t);throw new $(204,!1)}function WS(t){if(t.length>0)throw new $(204,!1);let n=oS(t);return n!==null?()=>n.factory(t):()=>new t}function KS(t){if(ZI(t))return Ti(void 0,t.useValue);{let e=XI(t);return Ti(e,Sc)}}function XI(t,e,n){let r;if(Mi(t)){let i=st(t);return Dr(i)||bh(i)}else if(ZI(t))r=()=>st(t.useValue);else if(HS(t))r=()=>t.useFactory(...Eh(t.deps||[]));else if(qS(t))r=()=>B(st(t.useExisting));else{let i=st(t&&(t.useClass||t.provide));if(QS(t))r=()=>new i(...Eh(t.deps));else return Dr(i)||bh(i)}return r}function Ti(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function QS(t){return!!t.deps}function YS(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function JS(t){return typeof t=="function"||typeof t=="object"&&t instanceof H}function Ch(t,e){for(let n of t)Array.isArray(n)?Ch(n,e):n&&xI(n)?Ch(n.\u0275providers,e):e(n)}function $t(t,e){t instanceof Xs&&t.assertNotDestroyed();let n,r=Hn(t),i=ut(void 0);try{return e()}finally{Hn(r),ut(i)}}function ew(){return OI()!==void 0||vS()!=null}function ZS(t){if(!ew())throw new $(-203,!1)}function XS(t){return typeof t=="function"}var wn=0,oe=1,K=2,Ye=3,Lt=4,qt=5,Fc=6,eo=7,Ut=8,Pi=9,jt=10,Be=11,to=12,Z_=13,Vi=14,Yt=15,ou=16,Di=17,xi=18,au=19,tw=20,zn=21,ah=22,br=23,Bt=25,nw=1;var Cr=7,Lc=8,Vc=9,Tt=10,mf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(mf||{});function Er(t){return Array.isArray(t)&&typeof t[nw]=="object"}function En(t){return Array.isArray(t)&&t[nw]===!0}function rw(t){return(t.flags&4)!==0}function cu(t){return t.componentOffset>-1}function yf(t){return(t.flags&1)===1}function Wn(t){return!!t.template}function eA(t){return(t[K]&512)!==0}var Sh=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function iw(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function uo(){return sw}function sw(t){return t.type.prototype.ngOnChanges&&(t.setInput=nA),tA}uo.ngInherit=!0;function tA(){let t=aw(this),e=t?.current;if(e){let n=t.previous;if(n===Ri)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function nA(t,e,n,r,i){let s=this.declaredInputs[r],o=aw(t)||rA(t,{previous:Ri,current:null}),c=o.current||(o.current={}),u=o.previous,l=u[s];c[s]=new Sh(l&&l.currentValue,n,u===Ri),iw(t,e,i,n)}var ow="__ngSimpleChanges__";function aw(t){return t[ow]||null}function rA(t,e){return t[ow]=e}var X_=null;var Wt=function(t,e,n){X_?.(t,e,n)},cw="svg",iA="math",sA=!1;function oA(){return sA}function Jt(t){for(;Array.isArray(t);)t=t[wn];return t}function uw(t,e){return Jt(e[t])}function Dt(t,e){return Jt(e[t.index])}function lw(t,e){return t.data[e]}function dw(t,e){return t[e]}function Yn(t,e){let n=e[t];return Er(n)?n:n[wn]}function vf(t){return(t[K]&128)===128}function aA(t){return En(t[Ye])}function Uc(t,e){return e==null?null:t[e]}function hw(t){t[Di]=0}function cA(t){t[K]&1024||(t[K]|=1024,vf(t)&&no(t))}function uA(t,e){for(;t>0;)e=e[Vi],t--;return e}function _f(t){return!!(t[K]&9216||t[br]?.dirty)}function Ah(t){t[jt].changeDetectionScheduler?.notify(1),_f(t)?no(t):t[K]&64&&(oA()?(t[K]|=1024,no(t)):t[jt].changeDetectionScheduler?.notify())}function no(t){t[jt].changeDetectionScheduler?.notify();let e=ro(t);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!vf(e)));)e=ro(e)}function fw(t,e){if((t[K]&256)===256)throw new $(911,!1);t[zn]===null&&(t[zn]=[]),t[zn].push(e)}function lA(t,e){if(t[zn]===null)return;let n=t[zn].indexOf(e);n!==-1&&t[zn].splice(n,1)}function ro(t){let e=t[Ye];return En(e)?e[Ye]:e}var ee={lFrame:Ew(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function dA(){return ee.lFrame.elementDepthCount}function hA(){ee.lFrame.elementDepthCount++}function fA(){ee.lFrame.elementDepthCount--}function pw(){return ee.bindingsEnabled}function pA(){return ee.skipHydrationRootTNode!==null}function gA(t){return ee.skipHydrationRootTNode===t}function mA(){ee.skipHydrationRootTNode=null}function ve(){return ee.lFrame.lView}function bt(){return ee.lFrame.tView}function FH(t){return ee.lFrame.contextLView=t,t[Ut]}function LH(t){return ee.lFrame.contextLView=null,t}function mt(){let t=gw();for(;t!==null&&t.type===64;)t=t.parent;return t}function gw(){return ee.lFrame.currentTNode}function yA(){let t=ee.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function lo(t,e){let n=ee.lFrame;n.currentTNode=t,n.isParent=e}function mw(){return ee.lFrame.isParent}function vA(){ee.lFrame.isParent=!1}function _A(){return ee.lFrame.contextLView}function yw(){let t=ee.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function vw(){return ee.lFrame.bindingIndex}function IA(t){return ee.lFrame.bindingIndex=t}function If(){return ee.lFrame.bindingIndex++}function wf(t){let e=ee.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function wA(){return ee.lFrame.inI18n}function EA(t,e){let n=ee.lFrame;n.bindingIndex=n.bindingRootIndex=t,Rh(e)}function TA(){return ee.lFrame.currentDirectiveIndex}function Rh(t){ee.lFrame.currentDirectiveIndex=t}function DA(t){let e=ee.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function _w(t){ee.lFrame.currentQueryIndex=t}function bA(t){let e=t[oe];return e.type===2?e.declTNode:e.type===1?t[qt]:null}function Iw(t,e,n){if(n&ie.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ie.Host);)if(i=bA(s),i===null||(s=s[Vi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ee.lFrame=ww();return r.currentTNode=e,r.lView=t,!0}function Ef(t){let e=ww(),n=t[oe];ee.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ww(){let t=ee.lFrame,e=t===null?null:t.child;return e===null?Ew(t):e}function Ew(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Tw(){let t=ee.lFrame;return ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Dw=Tw;function Tf(){let t=Tw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function CA(t){return(ee.lFrame.contextLView=uA(t,ee.lFrame.contextLView))[Ut]}function Jn(){return ee.lFrame.selectedIndex}function Sr(t){ee.lFrame.selectedIndex=t}function bw(){let t=ee.lFrame;return lw(t.tView,t.selectedIndex)}function VH(){ee.lFrame.currentNamespace=cw}function UH(){SA()}function SA(){ee.lFrame.currentNamespace=null}function AA(){return ee.lFrame.currentNamespace}var Cw=!0;function Df(){return Cw}function bf(t){Cw=t}function RA(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=sw(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Cf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Ac(t,e,n){Sw(t,e,3,n)}function Rc(t,e,n,r){(t[K]&3)===n&&Sw(t,e,n,r)}function ch(t,e){let n=t[K];(n&3)===e&&(n&=16383,n+=1,t[K]=n)}function Sw(t,e,n,r){let i=r!==void 0?t[Di]&65535:0,s=r??-1,o=e.length-1,c=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Di]+=65536),(c<s||s==-1)&&(NA(t,n,e,u),t[Di]=(t[Di]&4294901760)+u+2),u++}function eI(t,e){Wt(4,t,e);let n=fe(null);try{e.call(t)}finally{fe(n),Wt(5,t,e)}}function NA(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],c=t[o];i?t[K]>>14<t[Di]>>16&&(t[K]&3)===e&&(t[K]+=16384,eI(c,s)):eI(c,s)}var Ai=-1,Ar=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function MA(t){return t instanceof Ar}function PA(t){return(t.flags&8)!==0}function xA(t){return(t.flags&16)!==0}function Aw(t){return t!==Ai}function jc(t){return t&32767}function OA(t){return t>>16}function Bc(t,e){let n=OA(t),r=e;for(;n>0;)r=r[Vi],n--;return r}var Nh=!0;function $c(t){let e=Nh;return Nh=t,e}var kA=256,Rw=kA-1,Nw=5,FA=0,Kt={};function LA(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ys)&&(r=n[Ys]),r==null&&(r=n[Ys]=FA++);let i=r&Rw,s=1<<i;e.data[t+(i>>Nw)]|=s}function qc(t,e){let n=Mw(t,e);if(n!==-1)return n;let r=e[oe];r.firstCreatePass&&(t.injectorIndex=e.length,uh(r.data,t),uh(e,null),uh(r.blueprint,null));let i=Sf(t,e),s=t.injectorIndex;if(Aw(i)){let o=jc(i),c=Bc(i,e),u=c[oe].data;for(let l=0;l<8;l++)e[s+l]=c[o+l]|u[o+l]}return e[s+8]=i,s}function uh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Mw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Sf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Fw(i),r===null)return Ai;if(n++,i=i[Vi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ai}function Mh(t,e,n){LA(t,e,n)}function VA(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(BI(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function Pw(t,e,n){if(n&ie.Optional||t!==void 0)return t;df(e,"NodeInjector")}function xw(t,e,n,r){if(n&ie.Optional&&r===void 0&&(r=null),!(n&(ie.Self|ie.Host))){let i=t[Pi],s=ut(void 0);try{return i?i.get(e,r,n&ie.Optional):kI(e,r,n&ie.Optional)}finally{ut(s)}}return Pw(r,e,n)}function Ow(t,e,n,r=ie.Default,i){if(t!==null){if(e[K]&2048&&!(r&ie.Self)){let o=qA(t,e,n,r,Kt);if(o!==Kt)return o}let s=kw(t,e,n,r,Kt);if(s!==Kt)return s}return xw(e,n,r,i)}function kw(t,e,n,r,i){let s=BA(n);if(typeof s=="function"){if(!Iw(e,t,r))return r&ie.Host?Pw(i,n,r):xw(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ie.Optional))df(n);else return o}finally{Dw()}}else if(typeof s=="number"){let o=null,c=Mw(t,e),u=Ai,l=r&ie.Host?e[Yt][qt]:null;for((c===-1||r&ie.SkipSelf)&&(u=c===-1?Sf(t,e):e[c+8],u===Ai||!nI(r,!1)?c=-1:(o=e[oe],c=jc(u),e=Bc(u,e)));c!==-1;){let f=e[oe];if(tI(s,c,f.data)){let p=UA(c,e,n,o,r,l);if(p!==Kt)return p}u=e[c+8],u!==Ai&&nI(r,e[oe].data[c+8]===l)&&tI(s,c,e)?(o=f,c=jc(u),e=Bc(u,e)):c=-1}}return i}function UA(t,e,n,r,i,s){let o=e[oe],c=o.data[t+8],u=r==null?cu(c)&&Nh:r!=o&&(c.type&3)!==0,l=i&ie.Host&&s===c,f=jA(c,o,n,u,l);return f!==null?Oi(e,o,f,c):Kt}function jA(t,e,n,r,i){let s=t.providerIndexes,o=e.data,c=s&1048575,u=t.directiveStart,l=t.directiveEnd,f=s>>20,p=r?c:c+f,m=i?c+f:l;for(let I=p;I<m;I++){let S=o[I];if(I<u&&n===S||I>=u&&S.type===n)return I}if(i){let I=o[u];if(I&&Wn(I)&&I.type===n)return u}return null}function Oi(t,e,n,r){let i=t[n],s=e.data;if(MA(i)){let o=i;o.resolving&&fS(hS(s[n]));let c=$c(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?ut(o.injectImpl):null,f=Iw(t,r,ie.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&RA(n,s[n],e)}finally{l!==null&&ut(l),$c(c),o.resolving=!1,Dw()}}return i}function BA(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ys)?t[Ys]:void 0;return typeof e=="number"?e>=0?e&Rw:$A:e}function tI(t,e,n){let r=1<<t;return!!(n[e+(t>>Nw)]&r)}function nI(t,e){return!(t&ie.Self)&&!(t&ie.Host&&e)}var Tr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Ow(this._tNode,this._lView,e,nu(r),n)}};function $A(){return new Tr(mt(),ve())}function Af(t){return ao(()=>{let e=t.prototype.constructor,n=e[Pc]||Ph(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Pc]||Ph(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Ph(t){return RI(t)?()=>{let e=Ph(st(t));return e&&e()}:Dr(t)}function qA(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[K]&2048&&!(o[K]&512);){let c=kw(s,o,n,r|ie.Self,Kt);if(c!==Kt)return c;let u=s.parent;if(!u){let l=o[tw];if(l){let f=l.get(n,Kt,r);if(f!==Kt)return f}u=Fw(o),o=o[Vi]}s=u}return i}function Fw(t){let e=t[oe],n=e.type;return n===2?e.declTNode:n===1?t[qt]:null}function Rf(t){return VA(mt(),t)}function rI(t,e=null,n=null,r){let i=Lw(t,e,n,r);return i.resolveInjectorInitializers(),i}function Lw(t,e=null,n=null,r,i=new Set){let s=[n||Et,BS(t)];return r=r||(typeof t=="object"?void 0:ot(t)),new Xs(s,e||gf(),r||null,i)}var Ct=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Js}static{this.NULL=new kc}static create(n,r){if(Array.isArray(n))return rI({name:""},r,n,"");{let i=n.name??"";return rI({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=j({token:t,providedIn:"any",factory:()=>B(VI)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();var HA="ngOriginalError";function lh(t){return t[HA]}var Zt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&lh(e);for(;n&&lh(n);)n=lh(n);return n||null}},Vw=new H("",{providedIn:"root",factory:()=>x(Zt).handleError.bind(void 0)}),Nf=(()=>{class t{static{this.__NG_ELEMENT_ID__=zA}static{this.__NG_ENV_ID__=n=>n}}return t})(),xh=class extends Nf{constructor(e){super(),this._lView=e}onDestroy(e){return fw(this._lView,e),()=>lA(this._lView,e)}};function zA(){return new xh(ve())}function GA(){return uu(mt(),ve())}function uu(t,e){return new ho(Dt(t,e))}var ho=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=GA}}return t})();var Oh=class extends Ke{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,ew()&&(this.destroyRef=x(Nf,{optional:!0})??void 0)}emit(e){let n=fe(null);try{super.next(e)}finally{fe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=dh(s),i&&(i=dh(i)),o&&(o=dh(o)));let c=super.subscribe({next:i,error:s,complete:o});return e instanceof Re&&e.add(c),c}};function dh(t){return e=>{setTimeout(t,void 0,e)}}var Ft=Oh;function Uw(t){return(t.flags&128)===128}var jw=new Map,WA=0;function KA(){return WA++}function QA(t){jw.set(t[au],t)}function YA(t){jw.delete(t[au])}var iI="__ngContext__";function Rr(t,e){Er(e)?(t[iI]=e[au],QA(e)):t[iI]=e}function Bw(t){return qw(t[to])}function $w(t){return qw(t[Lt])}function qw(t){for(;t!==null&&!En(t);)t=t[Lt];return t}var kh;function Hw(t){kh=t}function JA(){if(kh!==void 0)return kh;if(typeof document<"u")return document;throw new $(210,!1)}var Mf=new H("",{providedIn:"root",factory:()=>ZA}),ZA="ng",Pf=new H(""),St=new H("",{providedIn:"platform",factory:()=>"unknown"});var xf=new H("",{providedIn:"root",factory:()=>JA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var XA="h",eR="b";var tR=()=>null;function Of(t,e,n=!1){return tR(t,e,n)}var zw=!1,nR=new H("",{providedIn:"root",factory:()=>zw});var Dc;function rR(){if(Dc===void 0&&(Dc=null,wr.trustedTypes))try{Dc=wr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Dc}function sI(t){return rR()?.createScriptURL(t)||t}var Hc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${CI})`}};function fo(t){return t instanceof Hc?t.changingThisBreaksApplicationSecurity:t}function kf(t,e){let n=iR(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${CI})`)}return n===e}function iR(t){return t instanceof Hc&&t.getTypeName()||null}var sR=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Gw(t){return t=String(t),t.match(sR)?t:"unsafe:"+t}var lu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(lu||{});function oR(t){let e=Kw();return e?e.sanitize(lu.URL,t)||"":kf(t,"URL")?fo(t):Gw(_n(t))}function aR(t){let e=Kw();if(e)return sI(e.sanitize(lu.RESOURCE_URL,t)||"");if(kf(t,"ResourceURL"))return sI(fo(t));throw new $(904,!1)}function cR(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?aR:oR}function Ww(t,e,n){return cR(e,n)(t)}function Kw(){let t=ve();return t&&t[jt].sanitizer}function Qw(t){return t instanceof Function?t():t}function uR(t){return(t??x(Ct)).get(St)==="browser"}var In=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(In||{}),lR;function Ff(t,e){return lR(t,e)}function bi(t,e,n,r,i){if(r!=null){let s,o=!1;En(r)?s=r:Er(r)&&(o=!0,r=r[wn]);let c=Jt(r);t===0&&n!==null?i==null?eE(e,n,c):zc(e,n,c,i||null,!0):t===1&&n!==null?zc(e,n,c,i||null,!0):t===2?SR(e,c,o):t===3&&e.destroyNode(c),s!=null&&RR(e,t,s,n,i)}}function dR(t,e){return t.createText(e)}function hR(t,e,n){t.setValue(e,n)}function Yw(t,e,n){return t.createElement(e,n)}function fR(t,e){Jw(t,e),e[wn]=null,e[qt]=null}function pR(t,e,n,r,i,s){r[wn]=i,r[qt]=e,du(t,r,n,1,i,s)}function Jw(t,e){e[jt].changeDetectionScheduler?.notify(1),du(t,e,e[Be],2,null,null)}function gR(t){let e=t[to];if(!e)return hh(t[oe],t);for(;e;){let n=null;if(Er(e))n=e[to];else{let r=e[Tt];r&&(n=r)}if(!n){for(;e&&!e[Lt]&&e!==t;)Er(e)&&hh(e[oe],e),e=e[Ye];e===null&&(e=t),Er(e)&&hh(e[oe],e),n=e&&e[Lt]}e=n}}function mR(t,e,n,r){let i=Tt+r,s=n.length;r>0&&(n[i-1][Lt]=e),r<s-Tt?(e[Lt]=n[i],LI(n,Tt+r,e)):(n.push(e),e[Lt]=null),e[Ye]=n;let o=e[ou];o!==null&&n!==o&&yR(o,e);let c=e[xi];c!==null&&c.insertView(t),Ah(e),e[K]|=128}function yR(t,e){let n=t[Vc],i=e[Ye][Ye][Yt];e[Yt]!==i&&(t[K]|=mf.HasTransplantedViews),n===null?t[Vc]=[e]:n.push(e)}function Zw(t,e){let n=t[Vc],r=n.indexOf(e);n.splice(r,1)}function Fh(t,e){if(t.length<=Tt)return;let n=Tt+e,r=t[n];if(r){let i=r[ou];i!==null&&i!==t&&Zw(i,r),e>0&&(t[n-1][Lt]=r[Lt]);let s=Oc(t,Tt+e);fR(r[oe],r);let o=s[xi];o!==null&&o.detachView(s[oe]),r[Ye]=null,r[Lt]=null,r[K]&=-129}return r}function Xw(t,e){if(!(e[K]&256)){let n=e[Be];n.destroyNode&&du(t,e,n,3,null,null),gR(e)}}function hh(t,e){if(e[K]&256)return;let n=fe(null);try{e[K]&=-129,e[K]|=256,e[br]&&m_(e[br]),_R(t,e),vR(t,e),e[oe].type===1&&e[Be].destroy();let r=e[ou];if(r!==null&&En(e[Ye])){r!==e[Ye]&&Zw(r,e);let i=e[xi];i!==null&&i.detachView(t)}YA(e)}finally{fe(n)}}function vR(t,e){let n=t.cleanup,r=e[eo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[eo]=null);let i=e[zn];if(i!==null){e[zn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function _R(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ar)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let c=i[s[o]],u=s[o+1];Wt(4,c,u);try{u.call(c)}finally{Wt(5,c,u)}}else{Wt(4,i,s);try{s.call(i)}finally{Wt(5,i,s)}}}}}function IR(t,e,n){return wR(t,e.parent,n)}function wR(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[wn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Qt.None||s===Qt.Emulated)return null}return Dt(r,n)}}function zc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function eE(t,e,n){t.appendChild(e,n)}function oI(t,e,n,r,i){r!==null?zc(t,e,n,r,i):eE(t,e,n)}function ER(t,e,n,r){t.removeChild(e,n,r)}function Lf(t,e){return t.parentNode(e)}function TR(t,e){return t.nextSibling(e)}function DR(t,e,n){return CR(t,e,n)}function bR(t,e,n){return t.type&40?Dt(t,n):null}var CR=bR,aI;function Vf(t,e,n,r){let i=IR(t,r,e),s=e[Be],o=r.parent||e[qt],c=DR(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)oI(s,i,n[u],c,!1);else oI(s,i,n,c,!1);aI!==void 0&&aI(s,r,e,n,i)}function Nc(t,e){if(e!==null){let n=e.type;if(n&3)return Dt(e,t);if(n&4)return Lh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Nc(t,r);{let i=t[e.index];return En(i)?Lh(-1,i):Jt(i)}}else{if(n&32)return Ff(e,t)()||Jt(t[e.index]);{let r=tE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ro(t[Yt]);return Nc(i,r)}else return Nc(t,e.next)}}}return null}function tE(t,e){if(e!==null){let r=t[Yt][qt],i=e.projection;return r.projection[i]}return null}function Lh(t,e){let n=Tt+t+1;if(n<e.length){let r=e[n],i=r[oe].firstChild;if(i!==null)return Nc(r,i)}return e[Cr]}function SR(t,e,n){let r=Lf(t,e);r&&ER(t,r,e,n)}function Uf(t,e,n,r,i,s,o){for(;n!=null;){let c=r[n.index],u=n.type;if(o&&e===0&&(c&&Rr(Jt(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Uf(t,e,n.child,r,i,s,!1),bi(e,t,i,c,s);else if(u&32){let l=Ff(n,r),f;for(;f=l();)bi(e,t,i,f,s);bi(e,t,i,c,s)}else u&16?AR(t,e,r,n,i,s):bi(e,t,i,c,s);n=o?n.projectionNext:n.next}}function du(t,e,n,r,i,s){Uf(n,r,t.firstChild,e,i,s,!1)}function AR(t,e,n,r,i,s){let o=n[Yt],u=o[qt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];bi(e,t,i,f,s)}else{let l=u,f=o[Ye];Uw(r)&&(l.flags|=128),Uf(t,e,l,f,i,s,!0)}}function RR(t,e,n,r,i){let s=n[Cr],o=Jt(n);s!==o&&bi(e,t,r,s,i);for(let c=Tt;c<n.length;c++){let u=n[c];du(u[oe],u,t,e,r,s)}}function NR(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:In.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=In.Important),t.setStyle(n,r,i,s))}}function MR(t,e,n){t.setAttribute(e,"style",n)}function nE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function rE(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Th(t,e,r),i!==null&&nE(t,e,i),s!==null&&MR(t,e,s)}var At={};function jH(t=1){iE(bt(),ve(),Jn()+t,!1)}function iE(t,e,n,r){if(!r)if((e[K]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Ac(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Rc(e,s,0,n)}Sr(n)}function $e(t,e=ie.Default){let n=ve();if(n===null)return B(t,e);let r=mt();return Ow(r,n,st(t),e)}function sE(){let t="invalid";throw new Error(t)}function oE(t,e,n,r,i,s){let o=fe(null);try{let c=null;i&Vt.SignalBased&&(c=e[r][h_]),c!==null&&c.transformFn!==void 0&&(s=c.transformFn(s)),i&Vt.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,c,s,n,r):iw(e,c,r,s)}finally{fe(o)}}function PR(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Sr(~i);else{let s=i,o=n[++r],c=n[++r];EA(o,s);let u=e[s];c(2,u)}}}finally{Sr(-1)}}function hu(t,e,n,r,i,s,o,c,u,l,f){let p=e.blueprint.slice();return p[wn]=i,p[K]=r|4|128|8|64,(l!==null||t&&t[K]&2048)&&(p[K]|=2048),hw(p),p[Ye]=p[Vi]=t,p[Ut]=n,p[jt]=o||t&&t[jt],p[Be]=c||t&&t[Be],p[Pi]=u||t&&t[Pi]||null,p[qt]=s,p[au]=KA(),p[Fc]=f,p[tw]=l,p[Yt]=e.type==2?t[Yt]:p,p}function fu(t,e,n,r,i){let s=t.data[e];if(s===null)s=xR(t,e,n,r,i),wA()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=yA();s.injectorIndex=o===null?-1:o.injectorIndex}return lo(s,!0),s}function xR(t,e,n,r,i){let s=gw(),o=mw(),c=o?s:s&&s.parent,u=t.data[e]=VR(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function aE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function cE(t,e,n,r,i){let s=Jn(),o=r&2;try{Sr(-1),o&&e.length>Bt&&iE(t,e,Bt,!1),Wt(o?2:0,i),n(r,i)}finally{Sr(s),Wt(o?3:1,i)}}function uE(t,e,n){if(rw(e)){let r=fe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let c=t.data[o];if(c.contentQueries){let u=n[o];c.contentQueries(1,u,o)}}}finally{fe(r)}}}function lE(t,e,n){pw()&&(zR(t,e,n,Dt(n,e)),(n.flags&64)===64&&gE(t,e,n))}function dE(t,e,n=Dt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],c=o===-1?n(e,t):t[o];t[i++]=c}}}function hE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=jf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function jf(t,e,n,r,i,s,o,c,u,l,f){let p=Bt+r,m=p+i,I=OR(p,m),S=typeof l=="function"?l():l;return I[oe]={type:t,blueprint:I,template:n,queries:null,viewQuery:c,declTNode:e,data:I.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:f}}function OR(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:At);return n}function kR(t,e,n,r){let s=r.get(nR,zw)||n===Qt.ShadowDom,o=t.selectRootElement(e,s);return FR(o),o}function FR(t){LR(t)}var LR=()=>null;function VR(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,c=0;return pA()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function cI(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let c,u=Vt.None;Array.isArray(o)?(c=o[0],u=o[1]):c=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?uI(r,n,l,c,u):uI(r,n,l,c)}return r}function uI(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function UR(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let p=s[f],m=n?n.get(p):null,I=m?m.inputs:null,S=m?m.outputs:null;u=cI(0,p.inputs,f,u,I),l=cI(1,p.outputs,f,l,S);let R=u!==null&&o!==null&&!ff(e)?nN(u,f,o):null;c.push(R)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function jR(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function BR(t,e,n,r,i,s,o,c){let u=Dt(e,n),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(Bf(t,n,f,r,i),cu(e)&&$R(n,e.index)):e.type&3?(r=jR(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function $R(t,e){let n=Yn(e,t);n[K]&16||(n[K]|=64)}function fE(t,e,n,r){if(pw()){let i=r===null?null:{"":-1},s=WR(t,n),o,c;s===null?o=c=null:[o,c]=s,o!==null&&pE(t,e,n,o,i,c),i&&KR(n,r,i)}n.mergedAttrs=Zs(n.mergedAttrs,n.attrs)}function pE(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Mh(qc(n,e),t,r[l].type);YR(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,c=!1,u=aE(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=Zs(n.mergedAttrs,f.hostAttrs),JR(t,n,e,u,f),QR(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}UR(t,n,s)}function qR(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let c=~e.index;HR(o)!=c&&o.push(c),o.push(n,r,s)}}function HR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function zR(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;cu(n)&&ZR(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||qc(n,e),Rr(r,e);let o=n.initialInputs;for(let c=i;c<s;c++){let u=t.data[c],l=Oi(e,t,c,n);if(Rr(l,e),o!==null&&tN(e,c-i,l,u,n,o),Wn(u)){let f=Yn(n.index,e);f[Ut]=Oi(e,t,c,n)}}}function gE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=TA();try{Sr(s);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];Rh(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&GR(u,l)}}finally{Sr(-1),Rh(o)}}function GR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function WR(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(PS(e,o.selectors,!1))if(r||(r=[]),Wn(o))if(o.findHostDirectiveDefs!==null){let c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o);let u=c.length;Vh(t,e,u)}else r.unshift(o),Vh(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Vh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function KR(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new $(-301,!1);r.push(e[i],s)}}}function QR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Wn(e)&&(n[""]=t)}}function YR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function JR(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Dr(i.type,!0)),o=new Ar(s,Wn(i),$e);t.blueprint[r]=o,n[r]=o,qR(t,e,r,aE(t,n,i.hostVars,At),i)}function ZR(t,e,n){let r=Dt(e,t),i=hE(n),s=t[jt].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let c=pu(t,hu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=c}function XR(t,e,n,r,i,s){let o=Dt(t,e);eN(e[Be],o,s,t.value,n,r,i)}function eN(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let c=o==null?_n(s):o(s,r||"",i);t.setAttribute(e,i,c,n)}}function tN(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let c=0;c<o.length;){let u=o[c++],l=o[c++],f=o[c++],p=o[c++];oE(r,n,u,l,f,p)}}function nN(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let c=0;c<o.length;c+=3)if(o[c]===e){r.push(s,o[c+1],o[c+2],n[i+1]);break}}i+=2}return r}function mE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function yE(t,e){let n=t.contentQueries;if(n!==null){let r=fe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let c=t.data[o];_w(s),c.contentQueries(2,e[o],o)}}}finally{fe(r)}}}function pu(t,e){return t[to]?t[Z_][Lt]=e:t[to]=e,t[Z_]=e,e}function Uh(t,e,n){_w(0);let r=fe(null);try{e(t,n)}finally{fe(r)}}function rN(t){return t[eo]||(t[eo]=[])}function iN(t){return t.cleanup||(t.cleanup=[])}function vE(t,e){let n=t[Pi],r=n?n.get(Zt,null):null;r&&r.handleError(e)}function Bf(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],c=n[s++],u=n[s++],l=e[o],f=t.data[o];oE(f,l,r,c,u,i)}}function $f(t,e,n){let r=uw(e,t);hR(t[Be],r,n)}function sN(t,e){let n=Yn(e,t),r=n[oe];oN(r,n);let i=n[wn];i!==null&&n[Fc]===null&&(n[Fc]=Of(i,n[Pi])),qf(r,n,n[Ut])}function oN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function qf(t,e,n){Ef(e);try{let r=t.viewQuery;r!==null&&Uh(1,r,n);let i=t.template;i!==null&&cE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[xi]?.finishViewCreation(t),t.staticContentQueries&&yE(t,e),t.staticViewQueries&&Uh(2,t.viewQuery,n);let s=t.components;s!==null&&aN(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[K]&=-5,Tf()}}function aN(t,e){for(let n=0;n<e.length;n++)sN(t,e[n])}function cN(t,e,n,r){let i=fe(null);try{let s=e.tView,c=t[K]&4096?4096:16,u=hu(t,s,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[ou]=l;let f=t[xi];return f!==null&&(u[xi]=f.createEmbeddedView(s)),qf(s,u,n),u}finally{fe(i)}}function lI(t,e){return!e||e.firstChild===null||Uw(t)}function uN(t,e,n,r=!0){let i=e[oe];if(mR(i,e,t,n),r){let o=Lh(n,t),c=e[Be],u=Lf(c,t[Cr]);u!==null&&pR(i,t[qt],c,e,u,o)}let s=e[Fc];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Gc(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Jt(s)),En(s)&&lN(s,r);let o=n.type;if(o&8)Gc(t,e,n.child,r);else if(o&32){let c=Ff(n,e),u;for(;u=c();)r.push(u)}else if(o&16){let c=tE(e,n);if(Array.isArray(c))r.push(...c);else{let u=ro(e[Yt]);Gc(u[oe],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function lN(t,e){for(let n=Tt;n<t.length;n++){let r=t[n],i=r[oe].firstChild;i!==null&&Gc(r[oe],r,i,e)}t[Cr]!==t[wn]&&e.push(t[Cr])}var _E=[];function dN(t){return t[br]??hN(t)}function hN(t){let e=_E.pop()??Object.create(pN);return e.lView=t,e}function fN(t){t.lView[br]!==t&&(t.lView=null,_E.push(t))}var pN=Se(U({},f_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{no(t.lView)},consumerOnSignalRead(){this.lView[br]=this}}),IE=100;function wE(t,e=!0,n=0){let r=t[jt],i=r.rendererFactory,s=!1;s||i.begin?.();try{gN(t,n)}catch(o){throw e&&vE(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function gN(t,e){jh(t,e);let n=0;for(;_f(t);){if(n===IE)throw new $(103,!1);n++,jh(t,1)}}function mN(t,e,n,r){let i=e[K];if((i&256)===256)return;let s=!1;!s&&e[jt].inlineEffectRunner?.flush(),Ef(e);let o=null,c=null;!s&&yN(t)&&(c=dN(e),o=p_(c));try{hw(e),IA(t.bindingStartIndex),n!==null&&cE(t,e,n,2,r);let u=(i&3)===3;if(!s)if(u){let p=t.preOrderCheckHooks;p!==null&&Ac(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Rc(e,p,0,null),ch(e,0)}if(vN(e),EE(e,0),t.contentQueries!==null&&yE(t,e),!s)if(u){let p=t.contentCheckHooks;p!==null&&Ac(e,p)}else{let p=t.contentHooks;p!==null&&Rc(e,p,1),ch(e,1)}PR(t,e);let l=t.components;l!==null&&DE(e,l,0);let f=t.viewQuery;if(f!==null&&Uh(2,f,r),!s)if(u){let p=t.viewCheckHooks;p!==null&&Ac(e,p)}else{let p=t.viewHooks;p!==null&&Rc(e,p,2),ch(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ah]){for(let p of e[ah])p();e[ah]=null}s||(e[K]&=-73)}catch(u){throw no(e),u}finally{c!==null&&(g_(c,o),fN(c)),Tf()}}function yN(t){return t.type!==2}function EE(t,e){for(let n=Bw(t);n!==null;n=$w(n))for(let r=Tt;r<n.length;r++){let i=n[r];TE(i,e)}}function vN(t){for(let e=Bw(t);e!==null;e=$w(e)){if(!(e[K]&mf.HasTransplantedViews))continue;let n=e[Vc];for(let r=0;r<n.length;r++){let i=n[r],s=i[Ye];cA(i)}}}function _N(t,e,n){let r=Yn(e,t);TE(r,n)}function TE(t,e){vf(t)&&jh(t,e)}function jh(t,e){let r=t[oe],i=t[K],s=t[br],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&jd(s)),s&&(s.dirty=!1),t[K]&=-9217,o)mN(r,t,r.template,t[Ut]);else if(i&8192){EE(t,1);let c=r.components;c!==null&&DE(t,c,1)}}function DE(t,e,n){for(let r=0;r<e.length;r++)_N(t,e[r],n)}function Hf(t){for(t[jt].changeDetectionScheduler?.notify();t;){t[K]|=64;let e=ro(t);if(eA(t)&&!e)return t;t=e}return null}var Nr=class{get rootNodes(){let e=this._lView,n=e[oe];return Gc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ut]}set context(e){this._lView[Ut]=e}get destroyed(){return(this._lView[K]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ye];if(En(e)){let n=e[Lc],r=n?n.indexOf(this):-1;r>-1&&(Fh(e,r),Oc(n,r))}this._attachedToViewContainer=!1}Xw(this._lView[oe],this._lView)}onDestroy(e){fw(this._lView,e)}markForCheck(){Hf(this._cdRefInjectingView||this._lView)}detach(){this._lView[K]&=-129}reattach(){Ah(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,wE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Jw(this._lView[oe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e,Ah(this._lView)}},gu=(()=>{class t{static{this.__NG_ELEMENT_ID__=EN}}return t})(),IN=gu,wN=class extends IN{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=cN(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Nr(i)}};function EN(){return bE(mt(),ve())}function bE(t,e){return t.type&4?new wN(e,t,uu(t,e)):null}var $H=new RegExp(`^(\\d+)*(${eR}|${XA})*(.*)`);var TN=()=>null;function dI(t,e){return TN(t,e)}var Wc=class{},Bh=class{},Kc=class{};function DN(t){let e=Error(`No component factory found for ${ot(t)}.`);return e[bN]=t,e}var bN="ngComponent";var $h=class{resolveComponentFactory(e){throw DN(e)}},mu=(()=>{class t{static{this.NULL=new $h}}return t})(),io=class{},yu=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>CN()}}return t})();function CN(){let t=ve(),e=mt(),n=Yn(e.index,t);return(Er(n)?n:t)[Be]}var SN=(()=>{class t{static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>null})}}return t})(),fh={};var hI=new Set;function vu(t){hI.has(t)||(hI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function fI(...t){}function AN(){let t=typeof wr.requestAnimationFrame=="function",e=wr[t?"requestAnimationFrame":"setTimeout"],n=wr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ge=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ft(!1),this.onMicrotaskEmpty=new Ft(!1),this.onStable=new Ft(!1),this.onError=new Ft(!1),typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=AN().nativeRequestAnimationFrame,MN(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,RN,fI,fI);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},RN={};function zf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function NN(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(wr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,qh(t),t.isCheckStableRunning=!0,zf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),qh(t))}function MN(t){let e=()=>{NN(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,c)=>{if(PN(c))return n.invokeTask(i,s,o,c);try{return pI(t),n.invokeTask(i,s,o,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),gI(t)}},onInvoke:(n,r,i,s,o,c,u)=>{try{return pI(t),n.invoke(i,s,o,c,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),gI(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,qh(t),zf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function qh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function pI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function gI(t){t._nesting--,zf(t)}function PN(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Ci=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ci||{}),xN={destroy(){}};function _u(t,e){!e&&ZS(_u);let n=e?.injector??x(Ct);if(!uR(n))return xN;vu("NgAfterNextRender");let r=n.get(Gf),i=r.handler??=new zh,s=e?.phase??Ci.MixedReadWrite,o=()=>{i.unregister(u),c()},c=n.get(Nf).onDestroy(o),u=$t(n,()=>new Hh(s,()=>{o(),t()}));return i.register(u),{destroy:o}}var Hh=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=x(ge),this.errorHandler=x(Zt,{optional:!0}),x(Wc,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},zh=class{constructor(){this.executingCallbacks=!1,this.buckets={[Ci.EarlyRead]:new Set,[Ci.Write]:new Set,[Ci.MixedReadWrite]:new Set,[Ci.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Gf=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Gh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let c=e[o];if(typeof c=="number")s=c;else if(s==1)i=$_(i,c);else if(s==2){let u=c,l=e[++o];r=$_(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Qc=class extends mu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Gn(e);return new ki(n,this.ngModule)}};function mI(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function ON(t){let e=t.toLowerCase();return e==="svg"?cw:e==="math"?iA:null}var Wh=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=nu(r);let i=this.injector.get(e,fh,r);return i!==fh||n===fh?i:this.parentInjector.get(e,n,r)}},ki=class extends Kc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=mI(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return mI(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=FS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=fe(null);try{i=i||this.ngModule;let o=i instanceof Qe?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let c=o?new Wh(e,o):e,u=c.get(io,null);if(u===null)throw new $(407,!1);let l=c.get(SN,null),f=c.get(Gf,null),p=c.get(Wc,null),m={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:p},I=u.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",R=r?kR(I,r,this.componentDef.encapsulation,c):Yw(I,S,ON(S)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let k=null;R!==null&&(k=Of(R,c,!0));let W=jf(0,null,null,1,0,null,null,null,null,null,null),L=hu(null,W,null,N,null,null,m,I,c,null,k);Ef(L);let ne,Ee;try{let Y=this.componentDef,E,y=null;Y.findHostDirectiveDefs?(E=[],y=new Map,Y.findHostDirectiveDefs(Y,E,y),E.push(Y)):E=[Y];let v=kN(L,R),w=FN(v,R,Y,E,L,m,I);Ee=lw(W,Bt),R&&UN(I,Y,R,r),n!==void 0&&jN(Ee,this.ngContentSelectors,n),ne=VN(w,Y,E,y,L,[BN]),qf(W,L,null)}finally{Tf()}return new Kh(this.componentType,ne,uu(Ee,L),L,Ee)}finally{fe(s)}}},Kh=class extends Bh{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Nr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Bf(s[oe],s,i,e,n),this.previousInputValues.set(e,n);let o=Yn(this._tNode.index,s);Hf(o)}}get injector(){return new Tr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function kN(t,e){let n=t[oe],r=Bt;return t[r]=e,fu(n,r,2,"#host",null)}function FN(t,e,n,r,i,s,o){let c=i[oe];LN(r,t,e,o);let u=null;e!==null&&(u=Of(e,i[Pi]));let l=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let p=hu(i,hE(n),null,f,i[t.index],t,s,l,null,null,u);return c.firstCreatePass&&Vh(c,t,r.length-1),pu(i,p),i[t.index]=p}function LN(t,e,n,r){for(let i of t)e.mergedAttrs=Zs(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Gh(e,e.mergedAttrs,!0),n!==null&&rE(r,n,e))}function VN(t,e,n,r,i,s){let o=mt(),c=i[oe],u=Dt(o,i);pE(c,i,o,n,null,r);for(let f=0;f<n.length;f++){let p=o.directiveStart+f,m=Oi(i,c,p,o);Rr(m,i)}gE(c,i,o),u&&Rr(u,i);let l=Oi(i,c,o.directiveStart+o.componentOffset,o);if(t[Ut]=i[Ut]=l,s!==null)for(let f of s)f(l,e);return uE(c,o,i),l}function UN(t,e,n,r){if(r)Th(t,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:s}=LS(e.selectors[0]);i&&Th(t,n,i),s&&s.length>0&&nE(t,n,s.join(" "))}}function jN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function BN(){let t=mt();Cf(ve()[oe],t)}var Ui=(()=>{class t{static{this.__NG_ELEMENT_ID__=$N}}return t})();function $N(){let t=mt();return HN(t,ve())}var qN=Ui,CE=class extends qN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return uu(this._hostTNode,this._hostLView)}get injector(){return new Tr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Sf(this._hostTNode,this._hostLView);if(Aw(e)){let n=Bc(e,this._hostLView),r=jc(e),i=n[oe].data[r+8];return new Tr(i,n)}else return new Tr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=yI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Tt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=dI(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(c,i,lI(this._hostTNode,o)),c}createComponent(e,n,r,i,s){let o=e&&!XS(e),c;if(o)c=n;else{let S=n||{};c=S.index,r=S.injector,i=S.projectableNodes,s=S.environmentInjector||S.ngModuleRef}let u=o?e:new ki(Gn(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let R=(o?l:this.parentInjector).get(Qe,null);R&&(s=R)}let f=Gn(u.componentType??{}),p=dI(this._lContainer,f?.id??null),m=p?.firstChild??null,I=u.create(l,i,m,s);return this.insertImpl(I.hostView,c,lI(this._hostTNode,p)),I}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(aA(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[Ye],l=new CE(u,u[qt],u[Ye]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return uN(o,i,s,r),e.attachToViewContainerRef(),LI(ph(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=yI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Fh(this._lContainer,n);r&&(Oc(ph(this._lContainer),n),Xw(r[oe],r))}detach(e){let n=this._adjustIndex(e,-1),r=Fh(this._lContainer,n);return r&&Oc(ph(this._lContainer),n)!=null?new Nr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function yI(t){return t[Lc]}function ph(t){return t[Lc]||(t[Lc]=[])}function HN(t,e){let n,r=e[t.index];return En(r)?n=r:(n=mE(r,e,null,t),e[t.index]=n,pu(e,n)),GN(n,e,t,r),new CE(n,t,e)}function zN(t,e){let n=t[Be],r=n.createComment(""),i=Dt(e,t),s=Lf(n,i);return zc(n,s,r,TR(n,i),!1),r}var GN=QN,WN=()=>!1;function KN(t,e,n){return WN(t,e,n)}function QN(t,e,n,r){if(t[Cr])return;let i;n.type&8?i=Jt(r):i=zN(e,n),t[Cr]=i}function YN(t){return Object.getPrototypeOf(t.prototype).constructor}function JN(t){let e=YN(t.type),n=!0,r=[t];for(;e;){let i;if(Wn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=bc(t.inputs),o.inputTransforms=bc(t.inputTransforms),o.declaredInputs=bc(t.declaredInputs),o.outputs=bc(t.outputs);let c=i.hostBindings;c&&nM(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&eM(t,u),l&&tM(t,l),ZN(t,i),iS(t.outputs,i.outputs),Wn(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let c=s[o];c&&c.ngInherit&&c(t),c===JN&&(n=!1)}}e=Object.getPrototypeOf(e)}XN(r)}function ZN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function XN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Zs(i.hostAttrs,n=Zs(n,i.hostAttrs))}}function bc(t){return t===Ri?{}:t===Et?[]:t}function eM(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function tM(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function nM(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Wf(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Kn=class{},so=class{};var Qh=class extends Kn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qc(this);let i=WI(e);this._bootstrapComponents=Qw(i.bootstrap),this._r3Injector=Lw(e,n,[{provide:Kn,useValue:this},{provide:mu,useValue:this.componentFactoryResolver},...r],ot(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Yh=class extends so{constructor(e){super(),this.moduleType=e}create(e){return new Qh(this.moduleType,e,[])}};var Yc=class extends Kn{constructor(e){super(),this.componentFactoryResolver=new Qc(this),this.instance=null;let n=new Xs([...e.providers,{provide:Kn,useValue:this},{provide:mu,useValue:this.componentFactoryResolver}],e.parent||gf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Iu(t,e,n=null){return new Yc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var kr=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new je(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function SE(t){return Kf(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function rM(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Kf(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function AE(t,e,n){return t[e]=n}function iM(t,e){return t[e]}function Mr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Qf(t,e,n,r){let i=Mr(t,e,n);return Mr(t,e+1,r)||i}function sM(t,e,n,r,i){let s=Qf(t,e,n,r);return Mr(t,e+2,i)||s}function oM(t){return(t.flags&32)===32}function aM(t,e,n,r,i,s,o,c,u){let l=e.consts,f=fu(e,t,4,o||null,Uc(l,c));fE(e,n,f,Uc(l,u)),Cf(e,f);let p=f.tView=jf(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function cM(t,e,n,r,i,s,o,c){let u=ve(),l=bt(),f=t+Bt,p=l.firstCreatePass?aM(f,l,u,e,n,r,i,s,o):l.data[f];lo(p,!1);let m=uM(l,u,p,t);Df()&&Vf(l,u,m,p),Rr(m,u);let I=mE(m,u,m,p);return u[f]=I,pu(u,I),KN(I,p,u),yf(p)&&lE(l,u,p),o!=null&&dE(u,p,c),cM}var uM=lM;function lM(t,e,n,r){return bf(!0),e[Be].createComment("")}function Yf(t,e,n,r){let i=ve(),s=If();if(Mr(i,s,e)){let o=bt(),c=bw();XR(c,i,t,e,n,r)}return Yf}function dM(t,e,n,r){return Mr(t,If(),n)?e+_n(n)+r:At}function hM(t,e,n,r,i,s){let o=vw(),c=Qf(t,o,n,i);return wf(2),c?e+_n(n)+r+_n(i)+s:At}function fM(t,e,n,r,i,s,o,c){let u=vw(),l=sM(t,u,n,i,o);return wf(3),l?e+_n(n)+r+_n(i)+s+_n(o)+c:At}function Cc(t,e){return t<<17|e<<2}function Pr(t){return t>>17&32767}function pM(t){return(t&2)==2}function gM(t,e){return t&131071|e<<17}function Jh(t){return t|2}function Fi(t){return(t&131068)>>2}function gh(t,e){return t&-131069|e<<2}function mM(t){return(t&1)===1}function Zh(t){return t|1}function yM(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,c=Pr(o),u=Fi(o);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||co(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let m=Pr(t[c+1]);t[r+1]=Cc(m,c),m!==0&&(t[m+1]=gh(t[m+1],r)),t[c+1]=gM(t[c+1],r)}else t[r+1]=Cc(c,0),c!==0&&(t[c+1]=gh(t[c+1],r)),c=r;else t[r+1]=Cc(u,0),c===0?c=r:t[u+1]=gh(t[u+1],r),u=r;l&&(t[r+1]=Jh(t[r+1])),vI(t,f,r,!0),vI(t,f,r,!1),vM(e,f,t,r,s),o=Cc(c,u),s?e.classBindings=o:e.styleBindings=o}function vM(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&co(s,e)>=0&&(n[r+1]=Zh(n[r+1]))}function vI(t,e,n,r){let i=t[n+1],s=e===null,o=r?Pr(i):Fi(i),c=!1;for(;o!==0&&(c===!1||s);){let u=t[o],l=t[o+1];_M(u,e)&&(c=!0,t[o+1]=r?Zh(l):Jh(l)),o=r?Pr(l):Fi(l)}c&&(t[n+1]=r?Jh(i):Zh(i))}function _M(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?co(t,e)>=0:!1}function IM(t,e,n){let r=ve(),i=If();if(Mr(r,i,e)){let s=bt(),o=bw();BR(s,o,r,t,e,r[Be],n,!1)}return IM}function _I(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Bf(t,n,s[o],o,r)}function wM(t,e){return EM(t,e,null,!0),wM}function EM(t,e,n,r){let i=ve(),s=bt(),o=wf(2);if(s.firstUpdatePass&&DM(s,t,o,r),e!==At&&Mr(i,o,e)){let c=s.data[Jn()];RM(s,c,i,i[Be],t,i[o+1]=NM(e,n),r,o)}}function TM(t,e){return e>=t.expandoStartIndex}function DM(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Jn()],o=TM(t,n);MM(s,r)&&e===null&&!o&&(e=!1),e=bM(i,s,e,r),yM(i,s,e,n,o,r)}}function bM(t,e,n,r){let i=DA(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=mh(null,t,e,n,r),n=oo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=mh(i,t,e,n,r),s===null){let u=CM(t,e,r);u!==void 0&&Array.isArray(u)&&(u=mh(null,t,e,u[1],r),u=oo(u,e.attrs,r),SM(t,e,r,u))}else s=AM(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function CM(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Fi(r)!==0)return t[Pr(r)]}function SM(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Pr(i)]=r}function AM(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=oo(r,o,n)}return oo(r,e.attrs,n)}function mh(t,e,n,r,i){let s=null,o=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<o&&(s=e[c],r=oo(r,s.hostAttrs,i),s!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function oo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),DS(t,o,n?!0:e[++s]))}return t===void 0?null:t}function RM(t,e,n,r,i,s,o,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=mM(l)?II(u,e,n,i,Fi(l),o):void 0;if(!Jc(f)){Jc(s)||pM(l)&&(s=II(u,null,n,i,c,o));let p=uw(Jn(),n);NR(r,o,p,i,s)}}function II(t,e,n,r,i,s){let o=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,m=n[i+1];m===At&&(m=p?Et:void 0);let I=p?sh(m,r):f===r?m:void 0;if(l&&!Jc(I)&&(I=sh(u,r)),Jc(I)&&(c=I,o))return c;let S=t[i+1];i=o?Pr(S):Fi(S)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(c=sh(u,r))}return c}function Jc(t){return t!==void 0}function NM(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ot(fo(t)))),t}function MM(t,e){return(t.flags&(e?8:16))!==0}function PM(t,e,n,r,i,s){let o=e.consts,c=Uc(o,i),u=fu(e,t,2,r,c);return fE(e,n,u,Uc(o,s)),u.attrs!==null&&Gh(u,u.attrs,!1),u.mergedAttrs!==null&&Gh(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function wu(t,e,n,r){let i=ve(),s=bt(),o=Bt+t,c=i[Be],u=s.firstCreatePass?PM(o,s,i,e,n,r):s.data[o],l=xM(s,i,u,c,e,t);i[o]=l;let f=yf(u);return lo(u,!0),rE(c,l,u),!oM(u)&&Df()&&Vf(s,i,l,u),dA()===0&&Rr(l,i),hA(),f&&(lE(s,i,u),uE(s,u,i)),r!==null&&dE(i,u),wu}function Eu(){let t=mt();mw()?vA():(t=t.parent,lo(t,!1));let e=t;gA(e)&&mA(),fA();let n=bt();return n.firstCreatePass&&(Cf(n,t),rw(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&PA(e)&&_I(n,e,ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&xA(e)&&_I(n,e,ve(),e.stylesWithoutHost,!1),Eu}function po(t,e,n,r){return wu(t,e,n,r),Eu(),po}var xM=(t,e,n,r,i,s)=>(bf(!0),Yw(r,i,AA()));function HH(){return ve()}var Zc="en-US";var OM=Zc;function kM(t){typeof t=="string"&&(OM=t.toLowerCase().replace(/_/g,"-"))}function Jf(t,e,n,r){let i=ve(),s=bt(),o=mt();return LM(s,i,i[Be],o,t,e,r),Jf}function FM(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let c=e[eo],u=i[s+2];return c.length>u?c[u]:null}typeof o=="string"&&(s+=2)}return null}function LM(t,e,n,r,i,s,o){let c=yf(r),l=t.firstCreatePass&&iN(t),f=e[Ut],p=rN(e),m=!0;if(r.type&3||o){let R=Dt(r,e),N=o?o(R):R,k=p.length,W=o?ne=>o(Jt(ne[r.index])):r.index,L=null;if(!o&&c&&(L=FM(t,e,i,r.index)),L!==null){let ne=L.__ngLastListenerFn__||L;ne.__ngNextListenerFn__=s,L.__ngLastListenerFn__=s,m=!1}else{s=EI(r,e,f,s,!1);let ne=n.listen(N,i,s);p.push(s,ne),l&&l.push(i,W,k,k+1)}}else s=EI(r,e,f,s,!1);let I=r.outputs,S;if(m&&I!==null&&(S=I[i])){let R=S.length;if(R)for(let N=0;N<R;N+=2){let k=S[N],W=S[N+1],Ee=e[k][W].subscribe(s),Y=p.length;p.push(s,Ee),l&&l.push(i,r.index,Y,-(Y+1))}}}function wI(t,e,n,r){let i=fe(null);try{return Wt(6,e,n),n(r)!==!1}catch(s){return vE(t,s),!1}finally{Wt(7,e,n),fe(i)}}function EI(t,e,n,r,i){return function s(o){if(o===Function)return r;let c=t.componentOffset>-1?Yn(t.index,e):e;Hf(c);let u=wI(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)u=wI(e,n,l,o)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&o.preventDefault(),u}}function zH(t=1){return CA(t)}function VM(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function GH(t){let e=_A();return dw(e,Bt+t)}function WH(t,e=""){let n=ve(),r=bt(),i=t+Bt,s=r.firstCreatePass?fu(r,i,1,e,null):r.data[i],o=UM(r,n,s,e,t);n[i]=o,Df()&&Vf(r,n,o,s),lo(s,!1)}var UM=(t,e,n,r,i)=>(bf(!0),dR(e[Be],r));function jM(t){return RE("",t,""),jM}function RE(t,e,n){let r=ve(),i=dM(r,t,e,n);return i!==At&&$f(r,Jn(),i),RE}function BM(t,e,n,r,i){let s=ve(),o=hM(s,t,e,n,r,i);return o!==At&&$f(s,Jn(),o),BM}function $M(t,e,n,r,i,s,o){let c=ve(),u=fM(c,t,e,n,r,i,s,o);return u!==At&&$f(c,Jn(),u),$M}function qM(t,e,n){let r=bt();if(r.firstCreatePass){let i=Wn(t);Xh(n,r.data,r.blueprint,i,!0),Xh(e,r.data,r.blueprint,i,!1)}}function Xh(t,e,n,r,i){if(t=st(t),Array.isArray(t))for(let s=0;s<t.length;s++)Xh(t[s],e,n,r,i);else{let s=bt(),o=ve(),c=mt(),u=Mi(t)?t:st(t.provide),l=XI(t),f=c.providerIndexes&1048575,p=c.directiveStart,m=c.providerIndexes>>20;if(Mi(t)||!t.multi){let I=new Ar(l,i,$e),S=vh(u,e,i?f:f+m,p);S===-1?(Mh(qc(c,o),s,u),yh(s,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),o.push(I)):(n[S]=I,o[S]=I)}else{let I=vh(u,e,f+m,p),S=vh(u,e,f,f+m),R=I>=0&&n[I],N=S>=0&&n[S];if(i&&!N||!i&&!R){Mh(qc(c,o),s,u);let k=GM(i?zM:HM,n.length,i,r,l);!i&&N&&(n[S].providerFactory=k),yh(s,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(k),o.push(k)}else{let k=NE(n[i?S:I],l,!i&&r);yh(s,t,I>-1?I:S,k)}!i&&r&&N&&n[S].componentProviders++}}}function yh(t,e,n,r){let i=Mi(e),s=zS(e);if(i||s){let u=(s?st(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function NE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function vh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function HM(t,e,n,r){return ef(this.multi,[])}function zM(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,c=Oi(n,n[oe],this.providerFactory.index,r);s=c.slice(0,o),ef(i,s);for(let u=o;u<c.length;u++)s.push(c[u])}else s=[],ef(i,s);return s}function ef(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function GM(t,e,n,r,i){let s=new Ar(t,n,$e);return s.multi=[],s.index=e,s.componentProviders=0,NE(s,i,r&&!n),s}function KH(t,e=[]){return n=>{n.providersResolver=(r,i)=>qM(r,i?i(t):t,e)}}var WM=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=YI(!1,n.type),i=r.length>0?Iu([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=j({token:t,providedIn:"environment",factory:()=>new t(B(Qe))})}}return t})();function Tu(t){vu("NgStandalone"),t.getStandaloneInjector=e=>e.get(WM).getOrCreateStandaloneInjector(t)}function QH(t,e,n){let r=yw()+t,i=ve();return i[r]===At?AE(i,r,n?e.call(n):e()):iM(i,r)}function KM(t,e){let n=t[e];return n===At?void 0:n}function QM(t,e,n,r,i,s,o){let c=e+n;return Qf(t,c,i,s)?AE(t,c+2,o?r.call(o,i,s):r(i,s)):KM(t,c+2)}function YH(t,e){let n=bt(),r,i=t+Bt;n.firstCreatePass?(r=YM(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Dr(r.type,!0)),o,c=ut($e);try{let u=$c(!1),l=s();return $c(u),VM(n,ve(),i,l),l}finally{ut(c)}}function YM(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function JH(t,e,n,r){let i=t+Bt,s=ve(),o=dw(s,i);return JM(s,i)?QM(s,yw(),e,o.transform,n,r,o):o.transform(n,r)}function JM(t,e){return t[oe].data[e].pure}function ZH(t,e){return bE(t,e)}var Qn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},ME=new Qn("17.3.12"),Du=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var PE=new H("");function go(t){return!!t&&typeof t.then=="function"}function xE(t){return!!t&&typeof t.subscribe=="function"}var bu=new H(""),OE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=x(bu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(go(s))n.push(s);else if(xE(s)){let o=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),mo=new H("");function ZM(){y_(()=>{throw new $(600,!1)})}function XM(t){return t.isBoundToModule}function eP(t,e,n){try{let r=n();return go(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ji=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=x(Vw),this.afterRenderEffectManager=x(Gf),this.externalTestViews=new Set,this.beforeRender=new Ke,this.afterTick=new Ke,this.componentTypes=[],this.components=[],this.isStable=x(kr).hasPendingTasks.pipe(Z(n=>!n)),this._injector=x(Qe)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Kc;if(!this._injector.get(OE).done){let m=!i&&GI(n),I=!1;throw new $(405,I)}let o;i?o=n:o=this._injector.get(mu).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let c=XM(o)?void 0:this._injector.get(Kn),u=r||o.selector,l=o.create(Ct.NULL,[],u,c),f=l.location.nativeElement,p=l.injector.get(PE,null);return p?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),_h(this.components,l),p?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new $(101,!1);let r=fe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,fe(r)}}detectChangesInAttachedViews(n){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===IE)throw new $(103,!1);if(n){let s=r===0;this.beforeRender.next(s);for(let{_lView:o,notifyErrorHandler:c}of this._views)tP(o,s,c)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>tf(s))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>tf(s))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;_h(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(mo,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>_h(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function _h(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function tP(t,e,n){!e&&!tf(t)||nP(t,n,e)}function tf(t){return _f(t)}function nP(t,e,n){let r;n?(r=0,t[K]|=1024):t[K]&64?r=0:r=1,wE(t,e,r)}var nf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Cu=(()=>{class t{compileModuleSync(n){return new Yh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=WI(n),s=Qw(i.declarations).reduce((o,c)=>{let u=Gn(c);return u&&o.push(new ki(u)),o},[]);return new nf(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var rP=(()=>{class t{constructor(){this.zone=x(ge),this.applicationRef=x(ji)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function iP(t){return[{provide:ge,useFactory:t},{provide:Ni,multi:!0,useFactory:()=>{let e=x(rP,{optional:!0});return()=>e.initialize()}},{provide:Ni,multi:!0,useFactory:()=>{let e=x(cP);return()=>{e.initialize()}}},{provide:Vw,useFactory:sP}]}function sP(){let t=x(ge),e=x(Zt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function oP(t){let e=iP(()=>new ge(aP(t)));return Xt([[],e])}function aP(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var cP=(()=>{class t{constructor(){this.subscription=new Re,this.initialized=!1,this.zone=x(ge),this.pendingTasks=x(kr)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ge.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function uP(){return typeof $localize<"u"&&$localize.locale||Zc}var Zf=new H("",{providedIn:"root",factory:()=>x(Zf,ie.Optional|ie.SkipSelf)||uP()});var kE=new H("");var Mc=null;function lP(t=[],e){return Ct.create({name:e,providers:[{provide:su,useValue:"platform"},{provide:kE,useValue:new Set([()=>Mc=null])},...t]})}function dP(t=[]){if(Mc)return Mc;let e=lP(t);return Mc=e,ZM(),hP(e),e}function hP(t){t.get(Pf,null)?.forEach(n=>n())}var yo=(()=>{class t{static{this.__NG_ELEMENT_ID__=fP}}return t})();function fP(t){return pP(mt(),ve(),(t&16)===16)}function pP(t,e,n){if(cu(t)&&!n){let r=Yn(t.index,e);return new Nr(r,r)}else if(t.type&47){let r=e[Yt];return new Nr(r,e)}return null}var rf=class{constructor(){}supports(e){return SE(e)}create(e){return new sf(e)}},gP=(t,e)=>e,sf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||gP}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<TI(r,i,s)?n:r,c=TI(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=c-i,f=u-i;if(l!=f){for(let m=0;m<l;m++){let I=m<s.length?s[m]:s[m]=0,S=I+m;f<=S&&S<l&&(s[m]=I+1)}let p=o.previousIndex;s[p]=f-l}}c!==u&&e(o,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!SE(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],o=this._trackByFn(c,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,c),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,c)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,rM(e,c=>{o=this._trackByFn(i,c),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,c,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,o,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new of(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Xc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Xc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},of=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},af=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Xc=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new af,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function TI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var cf=class{constructor(){}supports(e){return e instanceof Map||Kf(e)}create(){return new uf}},uf=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Kf(e)))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new lf(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},lf=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function DI(){return new Xf([new rf])}var Xf=(()=>{class t{static{this.\u0275prov=j({token:t,providedIn:"root",factory:DI})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||DI()),deps:[[t,new ru,new gt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new $(901,!1)}}return t})();function bI(){return new ep([new cf])}var ep=(()=>{class t{static{this.\u0275prov=j({token:t,providedIn:"root",factory:bI})}constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||bI()),deps:[[t,new ru,new gt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new $(901,!1)}}return t})();function FE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=dP(r),s=[oP(),...n||[]],c=new Yc({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=c.get(ge);return u.run(()=>{c.resolveInjectorInitializers();let l=c.get(Zt,null),f;u.runOutsideAngular(()=>{f=u.onError.subscribe({next:I=>{l.handleError(I)}})});let p=()=>c.destroy(),m=i.get(kE);return m.add(p),c.onDestroy(()=>{f.unsubscribe(),m.delete(p)}),eP(l,u,()=>{let I=c.get(OE);return I.runInitializers(),I.donePromise.then(()=>{let S=c.get(Zf,Zc);kM(S||Zc);let R=c.get(ji);return e!==void 0&&R.bootstrap(e),R})})})}catch(e){return Promise.reject(e)}}function vo(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function LE(t){let e=Gn(t);if(!e)return null;let n=new ki(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var qE=null;function Bi(){return qE}function HE(t){qE??=t}var Su=class{};var Je=new H(""),sp=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>x(mP),providedIn:"platform"})}}return t})(),zE=new H(""),mP=(()=>{class t extends sp{constructor(){super(),this._doc=x(Je),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Bi().getBaseHref(this._doc)}onPopState(n){let r=Bi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Bi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function op(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function VE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Tn(t){return t&&t[0]!=="?"?"?"+t:t}var Dn=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>x(ap),providedIn:"root"})}}return t})(),GE=new H(""),ap=(()=>{class t extends Dn{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(Je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return op(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Tn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Tn(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Tn(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(B(sp),B(GE,8))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),WE=(()=>{class t extends Dn{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=op(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Tn(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Tn(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(B(sp),B(GE,8))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),qi=(()=>{class t{constructor(n){this._subject=new Ft,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=_P(VE(UE(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Tn(r))}normalize(n){return t.stripTrailingSlash(vP(this._basePath,UE(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Tn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Tn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Tn}static{this.joinWithSlash=op}static{this.stripTrailingSlash=VE}static{this.\u0275fac=function(r){return new(r||t)(B(Dn))}}static{this.\u0275prov=j({token:t,factory:()=>yP(),providedIn:"root"})}}return t})();function yP(){return new qi(B(Dn))}function vP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function UE(t){return t.replace(/\/index.html$/,"")}function _P(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Au(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var tp=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ez=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new tp(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let c=r.get(s);r.move(c,o),jE(c,i)}});for(let i=0,s=r.length;i<s;i++){let c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);jE(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)($e(Ui),$e(gu),$e(Xf))}}static{this.\u0275dir=Li({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function jE(t,e){t.context.$implicit=e.item}var Tz=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new np,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){BE("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){BE("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)($e(Ui),$e(gu))}}static{this.\u0275dir=Li({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),np=class{constructor(){this.$implicit=null,this.ngIf=null}};function BE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ot(e)}'.`)}function IP(t,e){return{key:t,value:e}}var Dz=(()=>{class t{constructor(n){this.differs=n,this.keyValues=[],this.compareFn=$E}transform(n,r=$E){if(!n||!(n instanceof Map)&&typeof n!="object")return null;this.differ??=this.differs.find(n).create();let i=this.differ.diff(n),s=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(o=>{this.keyValues.push(IP(o.key,o.currentValue))})),(i||s)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}static{this.\u0275fac=function(r){return new(r||t)($e(ep,16))}}static{this.\u0275pipe=qI({name:"keyvalue",type:t,pure:!1,standalone:!0})}}return t})();function $E(t,e){let n=t.key,r=e.key;if(n===r)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(n===null)return 1;if(r===null)return-1;if(typeof n=="string"&&typeof r=="string")return n<r?-1:1;if(typeof n=="number"&&typeof r=="number")return n-r;if(typeof n=="boolean"&&typeof r=="boolean")return n<r?-1:1;let i=String(n),s=String(r);return i==s?0:i<s?-1:1}var wP=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Or({type:t})}static{this.\u0275inj=xr({})}}return t})(),cp="browser",EP="server";function TP(t){return t===cp}function Ru(t){return t===EP}var KE=(()=>{class t{static{this.\u0275prov=j({token:t,providedIn:"root",factory:()=>TP(x(St))?new rp(x(Je),window):new ip})}}return t})(),rp=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=DP(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function DP(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var ip=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},$i=class{};var Io=class{},Mu=class{},Lr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(c=>s.indexOf(c)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var lp=class{encodeKey(e){return YE(e)}encodeValue(e){return YE(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function SP(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,c]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(c),n.set(o,u)}),n}var AP=/%(\d[a-f0-9])/gi,RP={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function YE(t){return encodeURIComponent(t).replace(AP,(e,n)=>RP[n]??e)}function Nu(t){return`${t}`}var Zn=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new lp,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=SP(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Nu):[Nu(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Nu(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Nu(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var dp=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function NP(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function JE(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function ZE(t){return typeof Blob<"u"&&t instanceof Blob}function XE(t){return typeof FormData<"u"&&t instanceof FormData}function MP(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var _o=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(NP(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Lr,this.context??=new dp,!this.params)this.params=new Zn,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let c=n.indexOf("?"),u=c===-1?"?":c<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||JE(this.body)||ZE(this.body)||XE(this.body)||MP(this.body)?this.body:this.body instanceof Zn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||XE(this.body)?null:ZE(this.body)?this.body.type||null:JE(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Zn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,f=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,I)=>m.set(I,e.setHeaders[I]),l)),e.setParams&&(f=Object.keys(e.setParams).reduce((m,I)=>m.set(I,e.setParams[I]),f)),new t(n,r,o,{params:f,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:c,transferCache:s})}},Hi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Hi||{}),wo=class{constructor(e,n=Ou.Ok,r="OK"){this.headers=e.headers||new Lr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},hp=class t extends wo{constructor(e={}){super(e),this.type=Hi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Pu=class t extends wo{constructor(e={}){super(e),this.type=Hi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},xu=class extends wo{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Ou=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Ou||{});function up(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var PP=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof _o)s=n;else{let u;i.headers instanceof Lr?u=i.headers:u=new Lr(i.headers);let l;i.params&&(i.params instanceof Zn?l=i.params:l=new Zn({fromObject:i.params})),s=new _o(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=z(s).pipe(yn(u=>this.handler.handle(u)));if(n instanceof _o||i.observe==="events")return o;let c=o.pipe(it(u=>u instanceof Pu));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(Z(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(Z(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(Z(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(Z(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Zn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,up(i,r))}post(n,r,i={}){return this.request("POST",n,up(i,r))}put(n,r,i={}){return this.request("PUT",n,up(i,r))}static{this.\u0275fac=function(r){return new(r||t)(B(Io))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function rT(t,e){return e(t)}function xP(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function OP(t,e,n){return(r,i)=>$t(n,()=>e(r,s=>t(s,i)))}var kP=new H(""),fp=new H(""),FP=new H(""),LP=new H("");function VP(){let t=null;return(e,n)=>{t===null&&(t=(x(kP,{optional:!0})??[]).reduceRight(xP,rT));let r=x(kr),i=r.add();return t(e,n).pipe(qn(()=>r.remove(i)))}}var eT=(()=>{class t extends Io{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=x(kr);let i=x(LP,{optional:!0});this.backend=i??n}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(fp),...this.injector.get(FP,[])]));this.chain=i.reduceRight((s,o)=>OP(s,o,this.injector),rT)}let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(qn(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||t)(B(Mu),B(Qe))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();var UP=/^\)\]\}',?\n/;function jP(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var tT=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new $(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Te(r.\u0275loadImpl()):z(null)).pipe(ct(()=>new re(s=>{let o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((R,N)=>o.setRequestHeader(R,N.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let R=n.detectContentTypeHeader();R!==null&&o.setRequestHeader("Content-Type",R)}if(n.responseType){let R=n.responseType.toLowerCase();o.responseType=R!=="json"?R:"text"}let c=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let R=o.statusText||"OK",N=new Lr(o.getAllResponseHeaders()),k=jP(o)||n.url;return u=new hp({headers:N,status:o.status,statusText:R,url:k}),u},f=()=>{let{headers:R,status:N,statusText:k,url:W}=l(),L=null;N!==Ou.NoContent&&(L=typeof o.response>"u"?o.responseText:o.response),N===0&&(N=L?Ou.Ok:0);let ne=N>=200&&N<300;if(n.responseType==="json"&&typeof L=="string"){let Ee=L;L=L.replace(UP,"");try{L=L!==""?JSON.parse(L):null}catch(Y){L=Ee,ne&&(ne=!1,L={error:Y,text:L})}}ne?(s.next(new Pu({body:L,headers:R,status:N,statusText:k,url:W||void 0})),s.complete()):s.error(new xu({error:L,headers:R,status:N,statusText:k,url:W||void 0}))},p=R=>{let{url:N}=l(),k=new xu({error:R,status:o.status||0,statusText:o.statusText||"Unknown Error",url:N||void 0});s.error(k)},m=!1,I=R=>{m||(s.next(l()),m=!0);let N={type:Hi.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(N.total=R.total),n.responseType==="text"&&o.responseText&&(N.partialText=o.responseText),s.next(N)},S=R=>{let N={type:Hi.UploadProgress,loaded:R.loaded};R.lengthComputable&&(N.total=R.total),s.next(N)};return o.addEventListener("load",f),o.addEventListener("error",p),o.addEventListener("timeout",p),o.addEventListener("abort",p),n.reportProgress&&(o.addEventListener("progress",I),c!==null&&o.upload&&o.upload.addEventListener("progress",S)),o.send(c),s.next({type:Hi.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",f),o.removeEventListener("timeout",p),n.reportProgress&&(o.removeEventListener("progress",I),c!==null&&o.upload&&o.upload.removeEventListener("progress",S)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(B($i))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),iT=new H(""),BP="XSRF-TOKEN",$P=new H("",{providedIn:"root",factory:()=>BP}),qP="X-XSRF-TOKEN",HP=new H("",{providedIn:"root",factory:()=>qP}),ku=class{},zP=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Au(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(B(Je),B(St),B($P))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function GP(t,e){let n=t.url.toLowerCase();if(!x(iT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=x(ku).getToken(),i=x(HP);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var sT=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(sT||{});function WP(t,e){return{\u0275kind:t,\u0275providers:e}}function KP(...t){let e=[PP,tT,eT,{provide:Io,useExisting:eT},{provide:Mu,useExisting:tT},{provide:fp,useValue:GP,multi:!0},{provide:iT,useValue:!0},{provide:ku,useClass:zP}];for(let n of t)e.push(...n.\u0275providers);return Xt(e)}var nT=new H("");function QP(){return WP(sT.LegacyInterceptors,[{provide:nT,useFactory:VP},{provide:fp,useExisting:nT,multi:!0}])}var Lz=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Or({type:t})}static{this.\u0275inj=xr({providers:[KP(QP())]})}}return t})();var mp=class extends Su{constructor(){super(...arguments),this.supportsDOMEvents=!0}},yp=class t extends mp{static makeCurrent(){HE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=YP();return n==null?null:JP(n)}resetBaseElement(){Eo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Au(document.cookie,e)}},Eo=null;function YP(){return Eo=Eo||document.querySelector("base"),Eo?Eo.getAttribute("href"):null}function JP(t){return new URL(t,document.baseURI).pathname}var ZP=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),vp=new H(""),uT=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(B(vp),B(ge))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),Fu=class{constructor(e){this._doc=e}},pp="ng-app-id",lT=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ru(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${pp}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(pp),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(pp,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(B(Je),B(Mf),B(xf,8),B(St))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),gp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ip=/%COMP%/g,dT="%COMP%",XP=`_nghost-${dT}`,ex=`_ngcontent-${dT}`,tx=!0,nx=new H("",{providedIn:"root",factory:()=>tx});function rx(t){return ex.replace(Ip,t)}function ix(t){return XP.replace(Ip,t)}function hT(t,e){return e.map(n=>n.replace(Ip,t))}var oT=(()=>{class t{constructor(n,r,i,s,o,c,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Ru(c),this.defaultRenderer=new To(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Qt.ShadowDom&&(r=Se(U({},r),{encapsulation:Qt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Lu?i.applyToHost(n):i instanceof Do&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Qt.Emulated:s=new Lu(u,l,r,this.appId,f,o,c,p);break;case Qt.ShadowDom:return new _p(u,l,n,r,o,c,this.nonce,p);default:s=new Do(u,l,r,f,o,c,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(B(uT),B(lT),B(Mf),B(nx),B(Je),B(St),B(ge),B(xf))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),To=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(gp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(aT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(aT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=gp[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=gp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(In.DashCase|In.Important)?e.style.setProperty(n,r,i&In.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&In.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Bi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function aT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var _p=class extends To{constructor(e,n,r,i,s,o,c,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=hT(i.id,i.styles);for(let f of l){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Do=class extends To{constructor(e,n,r,i,s,o,c,u){super(e,s,o,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?hT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Lu=class extends Do{constructor(e,n,r,i,s,o,c,u){let l=i+"-"+r.id;super(e,n,r,s,o,c,u,l),this.contentAttr=rx(l),this.hostAttr=ix(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},sx=(()=>{class t extends Fu{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(B(Je))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})(),cT=["alt","control","meta","shift"],ox={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ax={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},cx=(()=>{class t extends Fu{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bi().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),cT.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=ox[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),cT.forEach(o=>{if(o!==i){let c=ax[o];c(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(B(Je))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function a4(t,e){return FE(U({rootComponent:t},ux(e)))}function ux(t){return{appProviders:[...px,...t?.providers??[]],platformProviders:fx}}function lx(){yp.makeCurrent()}function dx(){return new Zt}function hx(){return Hw(document),document}var fx=[{provide:St,useValue:cp},{provide:Pf,useValue:lx,multi:!0},{provide:Je,useFactory:hx,deps:[]}];var px=[{provide:su,useValue:"root"},{provide:Zt,useFactory:dx,deps:[]},{provide:vp,useClass:sx,multi:!0,deps:[Je,ge,St]},{provide:vp,useClass:cx,multi:!0,deps:[Je]},oT,lT,uT,{provide:io,useExisting:oT},{provide:$i,useClass:ZP,deps:[]},[]];var fT=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(B(Je))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var te="primary",jo=Symbol("RouteTitle"),bp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Qi(t){return new bp(t)}function mx(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=t[s];if(o.startsWith(":"))i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function yx(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!en(t[n],e[n]))return!1;return!0}function en(t,e){let n=t?Cp(t):void 0,r=e?Cp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!ET(t[i],e[i]))return!1;return!0}function Cp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ET(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function TT(t){return t.length>0?t[t.length-1]:null}function rr(t){return th(t)?t:go(t)?Te(Promise.resolve(t)):z(t)}var vx={exact:bT,subset:CT},DT={exact:_x,subset:Ix,ignored:()=>!0};function pT(t,e,n){return vx[n.paths](t.root,e.root,n.matrixParams)&&DT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function _x(t,e){return en(t,e)}function bT(t,e,n){if(!Ur(t.segments,e.segments)||!ju(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!bT(t.children[r],e.children[r],n))return!1;return!0}function Ix(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ET(t[n],e[n]))}function CT(t,e,n){return ST(t,e,e.segments,n)}function ST(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ur(i,n)||e.hasChildren()||!ju(i,n,r))}else if(t.segments.length===n.length){if(!Ur(t.segments,n)||!ju(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!CT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Ur(t.segments,i)||!ju(t.segments,i,r)||!t.children[te]?!1:ST(t.children[te],e,s,r)}}function ju(t,e,n){return e.every((r,i)=>DT[n](t[i].parameters,r.parameters))}var Xn=class{constructor(e=new me([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Qi(this.queryParams),this._queryParamMap}toString(){return Tx.serialize(this)}},me=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bu(this)}},Vr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Qi(this.parameters),this._parameterMap}toString(){return RT(this)}};function wx(t,e){return Ur(t,e)&&t.every((n,r)=>en(n.parameters,e[r].parameters))}function Ur(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Ex(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===te&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==te&&(n=n.concat(e(i,r)))}),n}var Bo=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>new Mo,providedIn:"root"})}}return t})(),Mo=class{parse(e){let n=new Ap(e);return new Xn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${bo(e.root,!0)}`,r=Cx(e.queryParams),i=typeof e.fragment=="string"?`#${Dx(e.fragment)}`:"";return`${n}${r}${i}`}},Tx=new Mo;function Bu(t){return t.segments.map(e=>RT(e)).join("/")}function bo(t,e){if(!t.hasChildren())return Bu(t);if(e){let n=t.children[te]?bo(t.children[te],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==te&&r.push(`${i}:${bo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Ex(t,(r,i)=>i===te?[bo(t.children[te],!1)]:[`${i}:${bo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[te]!=null?`${Bu(t)}/${n[0]}`:`${Bu(t)}/(${n.join("//")})`}}function AT(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vu(t){return AT(t).replace(/%3B/gi,";")}function Dx(t){return encodeURI(t)}function Sp(t){return AT(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $u(t){return decodeURIComponent(t)}function gT(t){return $u(t.replace(/\+/g,"%20"))}function RT(t){return`${Sp(t.path)}${bx(t.parameters)}`}function bx(t){return Object.entries(t).map(([e,n])=>`;${Sp(e)}=${Sp(n)}`).join("")}function Cx(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Vu(n)}=${Vu(i)}`).join("&"):`${Vu(n)}=${Vu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Sx=/^[^\/()?;#]+/;function wp(t){let e=t.match(Sx);return e?e[0]:""}var Ax=/^[^\/()?;=#]+/;function Rx(t){let e=t.match(Ax);return e?e[0]:""}var Nx=/^[^=?&#]+/;function Mx(t){let e=t.match(Nx);return e?e[0]:""}var Px=/^[^&#]+/;function xx(t){let e=t.match(Px);return e?e[0]:""}var Ap=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new me([],{}):new me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[te]=new me(e,n)),r}parseSegment(){let e=wp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new Vr($u(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Rx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=wp(this.remaining);i&&(r=i,this.capture(r))}e[$u(n)]=$u(r)}parseQueryParam(e){let n=Mx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=xx(this.remaining);o&&(r=o,this.capture(r))}let i=gT(n),s=gT(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=wp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=te);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[te]:new me([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function NT(t){return t.segments.length>0?new me([],{[te]:t}):t}function MT(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=MT(i);if(r===te&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new me(t.segments,e);return Ox(n)}function Ox(t){if(t.numberOfChildren===1&&t.children[te]){let e=t.children[te];return new me(t.segments.concat(e.segments),e.children)}return t}function Yi(t){return t instanceof Xn}function kx(t,e,n=null,r=null){let i=PT(t);return xT(i,e,n,r)}function PT(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let c=new me(s.url,o);return s===t&&(e=c),c}let r=n(t.root),i=NT(r);return e??i}function xT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Ep(i,i,i,n,r);let s=Fx(e);if(s.toRoot())return Ep(i,i,new me([],{}),n,r);let o=Lx(s,i,t),c=o.processChildren?Ao(o.segmentGroup,o.index,s.commands):kT(o.segmentGroup,o.index,s.commands);return Ep(i,o.segmentGroup,c,n,r)}function qu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Po(t){return typeof t=="object"&&t!=null&&t.outlets}function Ep(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;t===e?o=n:o=OT(t,e,n);let c=NT(MT(o));return new Xn(c,s,i)}function OT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=OT(s,e,n)}),new me(t.segments,r)}var Hu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&qu(r[0]))throw new $(4003,!1);let i=r.find(Po);if(i&&i!==TT(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Fx(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Hu(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new Hu(n,e,r)}var Wi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Lx(t,e,n){if(t.isAbsolute)return new Wi(e,!0,0);if(!n)return new Wi(e,!1,NaN);if(n.parent===null)return new Wi(n,!0,0);let r=qu(t.commands[0])?0:1,i=n.segments.length-1+r;return Vx(n,i,t.numberOfDoubleDots)}function Vx(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new Wi(r,!1,i-s)}function Ux(t){return Po(t[0])?t[0].outlets:{[te]:t}}function kT(t,e,n){if(t??=new me([],{}),t.segments.length===0&&t.hasChildren())return Ao(t,e,n);let r=jx(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new me(t.segments.slice(0,r.pathIndex),{});return s.children[te]=new me(t.segments.slice(r.pathIndex),t.children),Ao(s,0,i)}else return r.match&&i.length===0?new me(t.segments,{}):r.match&&!t.hasChildren()?Rp(t,e,n):r.match?Ao(t,0,i):Rp(t,e,n)}function Ao(t,e,n){if(n.length===0)return new me(t.segments,{});{let r=Ux(n),i={};if(Object.keys(r).some(s=>s!==te)&&t.children[te]&&t.numberOfChildren===1&&t.children[te].segments.length===0){let s=Ao(t.children[te],e,n);return new me(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=kT(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new me(t.segments,i)}}function jx(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],c=n[r];if(Po(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!yT(u,l,o))return s;r+=2}else{if(!yT(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Rp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Po(s)){let u=Bx(s.outlets);return new me(r,u)}if(i===0&&qu(n[0])){let u=t.segments[e];r.push(new Vr(u.path,mT(n[0]))),i++;continue}let o=Po(s)?s.outlets[te]:`${s}`,c=i<n.length-1?n[i+1]:null;o&&c&&qu(c)?(r.push(new Vr(o,mT(c))),i+=2):(r.push(new Vr(o,{})),i++)}return new me(r,{})}function Bx(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Rp(new me([],{}),0,r))}),e}function mT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function yT(t,e,n){return t==n.path&&en(e,n.parameters)}var Ro="imperative",Fe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Fe||{}),Rt=class{constructor(e,n){this.id=e,this.url=n}},Ji=class extends Rt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Fe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},tn=class extends Rt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Fe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},vt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(vt||{}),zu=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(zu||{}),er=class extends Rt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Fe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},tr=class extends Rt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Fe.NavigationSkipped}},xo=class extends Rt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Fe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Gu=class extends Rt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Fe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Np=class extends Rt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Fe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mp=class extends Rt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Fe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Pp=class extends Rt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Fe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xp=class extends Rt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Fe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Op=class{constructor(e){this.route=e,this.type=Fe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},kp=class{constructor(e){this.route=e,this.type=Fe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Fp=class{constructor(e){this.snapshot=e,this.type=Fe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lp=class{constructor(e){this.snapshot=e,this.type=Fe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vp=class{constructor(e){this.snapshot=e,this.type=Fe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Up=class{constructor(e){this.snapshot=e,this.type=Fe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wu=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Fe.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Oo=class{},ko=class{constructor(e){this.url=e}};var jp=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new $o,this.attachRef=null}},$o=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new jp,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ku=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Bp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Bp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=$p(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return $p(e,this._root).map(n=>n.value)}};function Bp(t,e){if(t===e.value)return e;for(let n of e.children){let r=Bp(t,n);if(r)return r}return null}function $p(t,e){if(t===e.value)return[e];for(let n of e.children){let r=$p(t,n);if(r.length)return r.unshift(e),r}return[]}var yt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Gi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Qu=class extends Ku{constructor(e,n){super(e),this.snapshot=n,Zp(this,e)}toString(){return this.snapshot.toString()}};function FT(t){let e=$x(t),n=new je([new Vr("",{})]),r=new je({}),i=new je({}),s=new je({}),o=new je(""),c=new nr(n,r,s,o,i,te,t,e.root);return c.snapshot=e.root,new Qu(new yt(c,[]),e)}function $x(t){let e={},n={},r={},i="",s=new Fo([],e,r,i,n,te,t,null,{});return new Yu("",new yt(s,[]))}var nr=class{constructor(e,n,r,i,s,o,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Z(l=>l[jo]))??z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(e=>Qi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(e=>Qi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Jp(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),i?.data),t._resolvedData)}:r={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},i&&VT(i)&&(r.resolve[jo]=i.title),r}var Fo=class{get title(){return this.data?.[jo]}constructor(e,n,r,i,s,o,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Qi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Qi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Yu=class extends Ku{constructor(e,n){super(n),this.url=e,Zp(this,n)}toString(){return LT(this._root)}};function Zp(t,e){e.value._routerState=t,e.children.forEach(n=>Zp(t,n))}function LT(t){let e=t.children.length>0?` { ${t.children.map(LT).join(", ")} } `:"";return`${t.value}${e}`}function Tp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,en(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),en(e.params,n.params)||t.paramsSubject.next(n.params),yx(e.url,n.url)||t.urlSubject.next(n.url),en(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function qp(t,e){let n=en(t.params,e.params)&&wx(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||qp(t.parent,e.parent))}function VT(t){return typeof t.title=="string"||t.title===null}var qx=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=te,this.activateEvents=new Ft,this.deactivateEvents=new Ft,this.attachEvents=new Ft,this.detachEvents=new Ft,this.parentContexts=x($o),this.location=x(Ui),this.changeDetector=x(yo),this.environmentInjector=x(Qe),this.inputBinder=x(el,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Hp(n,c,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Li({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[uo]})}}return t})(),Hp=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===nr?this.route:e===$o?this.childContexts:this.parent.get(e,n)}},el=new H(""),vT=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Qs([r.queryParams,r.params,r.data]).pipe(ct(([s,o,c],u)=>(c=U(U(U({},s),o),c),u===0?z(c):Promise.resolve(c)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let o=LE(r.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:c}of o.inputs)n.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function Hx(t,e,n){let r=Lo(t,e._root,n?n._root:void 0);return new Qu(r,e)}function Lo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=zx(t,e,n);return new yt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>Lo(t,c)),o}}let r=Gx(e.value),i=e.children.map(s=>Lo(t,s));return new yt(r,i)}}function zx(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Lo(t,r,i);return Lo(t,r)})}function Gx(t){return new nr(new je(t.url),new je(t.params),new je(t.queryParams),new je(t.fragment),new je(t.data),t.outlet,t.component,t)}var UT="ngNavigationCancelingError";function jT(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Yi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=BT(!1,vt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function BT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[UT]=!0,n.cancellationCode=e,n}function Wx(t){return $T(t)&&Yi(t.url)}function $T(t){return!!t&&t[UT]}var Kx=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=iu({type:t,selectors:[["ng-component"]],standalone:!0,features:[Tu],decls:1,vars:0,template:function(r,i){r&1&&po(0,"router-outlet")},dependencies:[qx],encapsulation:2})}}return t})();function Qx(t,e){return t.providers&&!t._injector&&(t._injector=Iu(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Xp(t){let e=t.children&&t.children.map(Xp),n=e?Se(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==te&&(n.component=Kx),n}function nn(t){return t.outlet||te}function Yx(t,e){let n=t.filter(r=>nn(r)===e);return n.push(...t.filter(r=>nn(r)!==e)),n}function qo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Jx=(t,e,n,r)=>Z(i=>(new zp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),zp=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Tp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Gi(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Gi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Gi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Gi(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Up(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Lp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Tp(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Tp(c.route.value),this.activateChildRoutes(e,null,o.children)}else{let c=qo(i.snapshot);o.attachRef=null,o.route=i,o.injector=c,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Ju=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ki=class{constructor(e,n){this.component=e,this.route=n}};function Zx(t,e,n){let r=t._root,i=e?e._root:null;return Co(r,i,n,[r.value])}function Xx(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Xi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!NI(t)?t:e.get(t):r}function Co(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Gi(e);return t.children.forEach(o=>{eO(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>No(c,n.getContext(o),i)),i}function eO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=tO(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ju(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Co(t,e,c?c.children:null,r,i):Co(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Ki(c.outlet.component,o))}else o&&No(e,c,i),i.canActivateChecks.push(new Ju(r)),s.component?Co(t,null,c?c.children:null,r,i):Co(t,null,n,r,i);return i}function tO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ur(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ur(t.url,e.url)||!en(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qp(t,e)||!en(t.queryParams,e.queryParams);case"paramsChange":default:return!qp(t,e)}}function No(t,e,n){let r=Gi(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?No(o,e.children.getContext(s),n):No(o,null,n):No(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ki(e.outlet.component,i)):n.canDeactivateChecks.push(new Ki(null,i)):n.canDeactivateChecks.push(new Ki(null,i))}function Ho(t){return typeof t=="function"}function nO(t){return typeof t=="boolean"}function rO(t){return t&&Ho(t.canLoad)}function iO(t){return t&&Ho(t.canActivate)}function sO(t){return t&&Ho(t.canActivateChild)}function oO(t){return t&&Ho(t.canDeactivate)}function aO(t){return t&&Ho(t.canMatch)}function qT(t){return t instanceof mn||t?.name==="EmptyError"}var Uu=Symbol("INITIAL_VALUE");function Zi(){return ct(t=>Qs(t.map(e=>e.pipe(vn(1),Ec(Uu)))).pipe(Z(e=>{for(let n of e)if(n!==!0){if(n===Uu)return Uu;if(n===!1||n instanceof Xn)return n}return!0}),it(e=>e!==Uu),vn(1)))}function cO(t,e){return Me(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?z(Se(U({},n),{guardsResult:!0})):uO(o,r,i,t).pipe(Me(c=>c&&nO(c)?lO(r,s,t,e):z(c)),Z(c=>Se(U({},n),{guardsResult:c})))})}function uO(t,e,n,r){return Te(t).pipe(Me(i=>gO(i.component,i.route,n,e,r)),Gt(i=>i!==!0,!0))}function lO(t,e,n,r){return Te(e).pipe(yn(i=>wi(hO(i.route.parent,r),dO(i.route,r),pO(t,i.path,n),fO(t,i.route,n))),Gt(i=>i!==!0,!0))}function dO(t,e){return t!==null&&e&&e(new Vp(t)),z(!0)}function hO(t,e){return t!==null&&e&&e(new Fp(t)),z(!0)}function fO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return z(!0);let i=r.map(s=>_c(()=>{let o=qo(e)??n,c=Xi(s,o),u=iO(c)?c.canActivate(e,t):$t(o,()=>c(e,t));return rr(u).pipe(Gt())}));return z(i).pipe(Zi())}function pO(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Xx(o)).filter(o=>o!==null).map(o=>_c(()=>{let c=o.guards.map(u=>{let l=qo(o.node)??n,f=Xi(u,l),p=sO(f)?f.canActivateChild(r,t):$t(l,()=>f(r,t));return rr(p).pipe(Gt())});return z(c).pipe(Zi())}));return z(s).pipe(Zi())}function gO(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return z(!0);let o=s.map(c=>{let u=qo(e)??i,l=Xi(c,u),f=oO(l)?l.canDeactivate(t,e,n,r):$t(u,()=>l(t,e,n,r));return rr(f).pipe(Gt())});return z(o).pipe(Zi())}function mO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return z(!0);let s=i.map(o=>{let c=Xi(o,t),u=rO(c)?c.canLoad(e,n):$t(t,()=>c(e,n));return rr(u)});return z(s).pipe(Zi(),HT(r))}function HT(t){return ec(Pe(e=>{if(Yi(e))throw jT(t,e)}),Z(e=>e===!0))}function yO(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return z(!0);let s=i.map(o=>{let c=Xi(o,t),u=aO(c)?c.canMatch(e,n):$t(t,()=>c(e,n));return rr(u)});return z(s).pipe(Zi(),HT(r))}var Vo=class{constructor(e){this.segmentGroup=e||null}},Zu=class extends Error{constructor(e){super(),this.urlTree=e}};function zi(t){return _i(new Vo(t))}function vO(t){return _i(new $(4e3,!1))}function _O(t){return _i(BT(!1,vt.GuardRejected))}var Gp=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return z(r);if(i.numberOfChildren>1||!i.children[te])return vO(e.redirectTo);i=i.children[te]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Zu(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Xn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let c=s.substring(1);r[i]=n[c]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([c,u])=>{o[c]=this.createSegmentGroup(e,u,r,i)}),new me(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Wp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function IO(t,e,n,r,i){let s=eg(t,e,n);return s.matched?(r=Qx(e,r),yO(r,e,n,i).pipe(Z(o=>o===!0?s:U({},Wp)))):z(s)}function eg(t,e,n){if(e.path==="**")return wO(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},Wp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||mx)(n,t,e);if(!i)return U({},Wp);let s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});let o=i.consumed.length>0?U(U({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function wO(t){return{matched:!0,parameters:t.length>0?TT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function _T(t,e,n,r){return n.length>0&&DO(t,n,r)?{segmentGroup:new me(e,TO(r,new me(n,t.children))),slicedSegments:[]}:n.length===0&&bO(t,n,r)?{segmentGroup:new me(t.segments,EO(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new me(t.segments,t.children),slicedSegments:n}}function EO(t,e,n,r){let i={};for(let s of n)if(tl(t,e,s)&&!r[nn(s)]){let o=new me([],{});i[nn(s)]=o}return U(U({},r),i)}function TO(t,e){let n={};n[te]=e;for(let r of t)if(r.path===""&&nn(r)!==te){let i=new me([],{});n[nn(r)]=i}return n}function DO(t,e,n){return n.some(r=>tl(t,e,r)&&nn(r)!==te)}function bO(t,e,n){return n.some(r=>tl(t,e,r))}function tl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function CO(t,e,n,r){return nn(t)!==r&&(r===te||!tl(e,n,t))?!1:eg(e,t,n).matched}function SO(t,e,n){return e.length===0&&!t.children[n]}var Kp=class{};function AO(t,e,n,r,i,s,o="emptyOnly"){return new Qp(t,e,n,r,i,o,s).recognize()}var RO=31,Qp=class{constructor(e,n,r,i,s,o,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new Gp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=_T(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Z(n=>{let r=new Fo([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,{},te,this.rootComponentType,null,{}),i=new yt(r,n),s=new Yu("",i),o=kx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,te).pipe(Bn(r=>{if(r instanceof Zu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Vo?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Jp(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(Z(s=>s instanceof yt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Te(i).pipe(yn(s=>{let o=r.children[s],c=Yx(n,s);return this.processSegmentGroup(e,c,o,s)}),wc((s,o)=>(s.push(...o),s)),$n(null),rh(),Me(s=>{if(s===null)return zi(r);let o=zT(s);return NO(o),z(o)}))}processSegment(e,n,r,i,s,o){return Te(n).pipe(yn(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,s,o).pipe(Bn(u=>{if(u instanceof Vo)return z(null);throw u}))),Gt(c=>!!c),Bn(c=>{if(qT(c))return SO(r,i,s)?z(new Kp):zi(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,s,o,c){return CO(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):zi(i):zi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:c,consumedSegments:u,positionalParamSegments:l,remainingSegments:f}=eg(n,i,s);if(!c)return zi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>RO&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(Me(m=>this.processSegment(e,r,n,m.concat(f),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=IO(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(ct(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ct(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:f,remainingSegments:p,parameters:m}=c,I=new Fo(f,m,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,PO(r),nn(r),r.component??r._loadedComponent??null,r,xO(r)),{segmentGroup:S,slicedSegments:R}=_T(n,f,p,u);if(R.length===0&&S.hasChildren())return this.processChildren(l,u,S).pipe(Z(k=>k===null?null:new yt(I,k)));if(u.length===0&&R.length===0)return z(new yt(I,[]));let N=nn(r)===s;return this.processSegment(l,u,S,R,N?te:s,!0).pipe(Z(k=>new yt(I,k instanceof yt?[k]:[])))}))):zi(n)))}getChildConfig(e,n,r){return n.children?z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?z({routes:n._loadedRoutes,injector:n._loadedInjector}):mO(e,n,r,this.urlSerializer).pipe(Me(i=>i?this.configLoader.loadChildren(e,n).pipe(Pe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):_O(n))):z({routes:[],injector:e})}};function NO(t){t.sort((e,n)=>e.value.outlet===te?-1:n.value.outlet===te?1:e.value.outlet.localeCompare(n.value.outlet))}function MO(t){let e=t.value.routeConfig;return e&&e.path===""}function zT(t){let e=[],n=new Set;for(let r of t){if(!MO(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=zT(r.children);e.push(new yt(r.value,i))}return e.filter(r=>!n.has(r))}function PO(t){return t.data||{}}function xO(t){return t.resolve||{}}function OO(t,e,n,r,i,s){return Me(o=>AO(t,e,n,r,o.extractedUrl,i,s).pipe(Z(({state:c,tree:u})=>Se(U({},o),{targetSnapshot:c,urlAfterRedirects:u}))))}function kO(t,e){return Me(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return z(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of GT(u))o.add(l);let c=0;return Te(o).pipe(yn(u=>s.has(u)?FO(u,r,t,e):(u.data=Jp(u,u.parent,t).resolve,z(void 0))),Pe(()=>c++),Ei(1),Me(u=>c===o.size?z(n):pt))})}function GT(t){let e=t.children.map(n=>GT(n)).flat();return[t,...e]}function FO(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!VT(i)&&(s[jo]=i.title),LO(s,t,e,r).pipe(Z(o=>(t._resolvedData=o,t.data=Jp(t,t.parent,n).resolve,null)))}function LO(t,e,n,r){let i=Cp(t);if(i.length===0)return z({});let s={};return Te(i).pipe(Me(o=>VO(t[o],e,n,r).pipe(Gt(),Pe(c=>{s[o]=c}))),Ei(1),nh(s),Bn(o=>qT(o)?pt:_i(o)))}function VO(t,e,n,r){let i=qo(e)??r,s=Xi(t,i),o=s.resolve?s.resolve(e,n):$t(i,()=>s(e,n));return rr(o)}function Dp(t){return ct(e=>{let n=t(e);return n?Te(n).pipe(Z(()=>e)):z(e)})}var WT=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===te);return r}getResolvedTitleForRoute(n){return n.data[jo]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>x(UO),providedIn:"root"})}}return t})(),UO=(()=>{class t extends WT{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(B(fT))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),zo=new H("",{providedIn:"root",factory:()=>({})}),Uo=new H(""),tg=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(Cu)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=rr(n.loadComponent()).pipe(Z(KT),Pe(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),qn(()=>{this.componentLoaders.delete(n)})),i=new gi(r,()=>new Ke).pipe(pi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=jO(r,this.compiler,n,this.onLoadEndListener).pipe(qn(()=>{this.childrenLoaders.delete(r)})),o=new gi(s,()=>new Ke).pipe(pi());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function jO(t,e,n,r){return rr(t.loadChildren()).pipe(Z(KT),Me(i=>i instanceof so||Array.isArray(i)?z(i):Te(e.compileModuleAsync(i))),Z(i=>{r&&r(t);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(n).injector,o=s.get(Uo,[],{optional:!0,self:!0}).flat()),{routes:o.map(Xp),injector:s}}))}function BO(t){return t&&typeof t=="object"&&"default"in t}function KT(t){return BO(t)?t.default:t}var ng=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>x($O),providedIn:"root"})}}return t})(),$O=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),QT=new H(""),YT=new H("");function qO(t,e,n){let r=t.get(YT),i=t.get(Je);return t.get(ge).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),c=i.startViewTransition(()=>(s(),HO(t))),{onViewTransitionCreated:u}=r;return u&&$t(t,()=>u({transition:c,from:e,to:n})),o})}function HO(t){return new Promise(e=>{_u(e,{injector:t})})}var rg=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ke,this.transitionAbortSubject=new Ke,this.configLoader=x(tg),this.environmentInjector=x(Qe),this.urlSerializer=x(Bo),this.rootContexts=x($o),this.location=x(qi),this.inputBindingEnabled=x(el,{optional:!0})!==null,this.titleStrategy=x(WT),this.options=x(zo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=x(ng),this.createViewTransition=x(QT,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>z(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Op(i)),r=i=>this.events.next(new kp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Se(U(U({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new je({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ro,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(it(s=>s.id!==0),Z(s=>Se(U({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ct(s=>{let o=!1,c=!1;return z(s).pipe(ct(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",vt.SupersededByNewNavigation),pt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Se(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&f!=="reload"){let p="";return this.events.next(new tr(u.id,this.urlSerializer.serialize(u.rawUrl),p,zu.IgnoredSameUrlNavigation)),u.resolve(null),pt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return z(u).pipe(ct(p=>{let m=this.transitions?.getValue();return this.events.next(new Ji(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?pt:Promise.resolve(p)}),OO(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Pe(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Se(U({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new Gu(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:I,restoredState:S,extras:R}=u,N=new Ji(p,this.urlSerializer.serialize(m),I,S);this.events.next(N);let k=FT(this.rootComponentType).snapshot;return this.currentTransition=s=Se(U({},u),{targetSnapshot:k,urlAfterRedirects:m,extras:Se(U({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,z(s)}else{let p="";return this.events.next(new tr(u.id,this.urlSerializer.serialize(u.extractedUrl),p,zu.IgnoredByUrlHandlingStrategy)),u.resolve(null),pt}}),Pe(u=>{let l=new Np(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Z(u=>(this.currentTransition=s=Se(U({},u),{guards:Zx(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),cO(this.environmentInjector,u=>this.events.next(u)),Pe(u=>{if(s.guardsResult=u.guardsResult,Yi(u.guardsResult))throw jT(this.urlSerializer,u.guardsResult);let l=new Mp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),it(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",vt.GuardRejected),!1)),Dp(u=>{if(u.guards.canActivateChecks.length)return z(u).pipe(Pe(l=>{let f=new Pp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),ct(l=>{let f=!1;return z(l).pipe(kO(this.paramsInheritanceStrategy,this.environmentInjector),Pe({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",vt.NoDataFromResolver)}}))}),Pe(l=>{let f=new xp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),Dp(u=>{let l=f=>{let p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe(Pe(m=>{f.component=m}),Z(()=>{})));for(let m of f.children)p.push(...l(m));return p};return Qs(l(u.targetSnapshot.root)).pipe($n(null),vn(1))}),Dp(()=>this.afterPreactivation()),ct(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,f=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return f?Te(f).pipe(Z(()=>s)):z(s)}),Z(u=>{let l=Hx(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=Se(U({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Pe(()=>{this.events.next(new Oo)}),Jx(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),vn(1),Pe({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new tn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),ih(this.transitionAbortSubject.pipe(Pe(u=>{throw u}))),qn(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",vt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Bn(u=>{if(c=!0,$T(u))this.events.next(new er(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),Wx(u)?this.events.next(new ko(u.url)):s.resolve(!1);else{this.events.next(new xo(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(l)}}return pt}))}))}cancelNavigationTransition(n,r,i){let s=new er(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function zO(t){return t!==Ro}var GO=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>x(WO),providedIn:"root"})}}return t})(),Yp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},WO=(()=>{class t extends Yp{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Af(t)))(i||t)}})()}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),JT=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:()=>x(KO),providedIn:"root"})}}return t})(),KO=(()=>{class t extends JT{constructor(){super(...arguments),this.location=x(qi),this.urlSerializer=x(Bo),this.options=x(zo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=x(ng),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Xn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=FT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Ji)this.stateMemento=this.createStateMemento();else if(n instanceof tr)this.rawUrlTree=r.initialUrl;else if(n instanceof Gu){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof Oo?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof er&&(n.code===vt.GuardRejected||n.code===vt.NoDataFromResolver)?this.restoreHistory(r):n instanceof xo?this.restoreHistory(r,!0):n instanceof tn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=U(U({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=U(U({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Af(t)))(i||t)}})()}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),So=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(So||{});function ZT(t,e){t.events.pipe(it(n=>n instanceof tn||n instanceof er||n instanceof xo||n instanceof tr),Z(n=>n instanceof tn||n instanceof tr?So.COMPLETE:(n instanceof er?n.code===vt.Redirect||n.code===vt.SupersededByNewNavigation:!1)?So.REDIRECTING:So.FAILED),it(n=>n!==So.REDIRECTING),vn(1)).subscribe(()=>{e()})}function QO(t){throw t}var YO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},JO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},bn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=x(Du),this.stateManager=x(JT),this.options=x(zo,{optional:!0})||{},this.pendingTasks=x(kr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=x(rg),this.urlSerializer=x(Bo),this.location=x(qi),this.urlHandlingStrategy=x(ng),this._events=new Ke,this.errorHandler=this.options.errorHandler||QO,this.navigated=!1,this.routeReuseStrategy=x(GO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=x(Uo,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!x(el,{optional:!0}),this.eventsSubscription=new Re,this.isNgZoneEnabled=x(ge)instanceof ge&&ge.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof er&&r.code!==vt.Redirect&&r.code!==vt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof tn)this.navigated=!0;else if(r instanceof ko){let o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||zO(i.source)};this.scheduleNavigation(o,Ro,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}XO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ro,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=U({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Xp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,f=null;switch(c){case"merge":f=U(U({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=PT(m)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),p=this.currentUrlTree.root}return xT(p,n,f,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Yi(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Ro,null,r)}navigate(n,r={skipLocationChange:!1}){return ZO(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=U({},YO):r===!1?i=U({},JO):i=r,Yi(n))return pT(this.currentUrlTree,n,i);let s=this.parseUrl(n);return pT(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,u,l;o?(c=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,m)=>{c=p,u=m});let f=this.pendingTasks.add();return ZT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ZO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function XO(t){return!(t instanceof Oo)&&!(t instanceof ko)}var A4=(()=>{class t{constructor(n,r,i,s,o,c){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new Ke,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof tn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:Ww(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)($e(bn),$e(nr),Rf("tabindex"),$e(yu),$e(ho),$e(Dn))}}static{this.\u0275dir=Li({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Jf("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&Yf("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Vt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",vo],skipLocationChange:[Vt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",vo],replaceUrl:[Vt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",vo],routerLink:"routerLink"},standalone:!0,features:[Wf,uo]})}}return t})();var Xu=class{};var ek=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(it(n=>n instanceof tn),yn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Iu(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,c=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(c,s.children??s._loadedRoutes))}return Te(i).pipe(Ii())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=z(null);let s=i.pipe(Me(o=>o===null?z(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Te([s,o]).pipe(Ii())}else return s})}static{this.\u0275fac=function(r){return new(r||t)(B(bn),B(Cu),B(Qe),B(Xu),B(tg))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),XT=new H(""),tk=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=x(Qe),o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ji?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof tn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof tr&&n.code===zu.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Wu&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>C(this,null,function*(){yield new Promise(i=>{setTimeout(()=>{i()}),_u(()=>{i()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Wu(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){sE()}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac})}}return t})();function R4(t,...e){return Xt([{provide:Uo,multi:!0,useValue:t},[],{provide:nr,useFactory:eD,deps:[bn]},{provide:mo,multi:!0,useFactory:tD},e.map(n=>n.\u0275providers)])}function eD(t){return t.routerState.root}function Go(t,e){return{\u0275kind:t,\u0275providers:e}}function tD(){let t=x(Ct);return e=>{let n=t.get(ji);if(e!==n.components[0])return;let r=t.get(bn),i=t.get(nD);t.get(ig)===1&&r.initialNavigation(),t.get(rD,null,ie.Optional)?.setUpPreloading(),t.get(XT,null,ie.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var nD=new H("",{factory:()=>new Ke}),ig=new H("",{providedIn:"root",factory:()=>1});function nk(){return Go(2,[{provide:ig,useValue:0},{provide:bu,multi:!0,deps:[Ct],useFactory:e=>{let n=e.get(zE,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(bn),s=e.get(nD);ZT(i,()=>{r(!0)}),e.get(rg).afterPreactivation=()=>(r(!0),s.closed?z(void 0):s),i.initialNavigation()}))}}])}function rk(){return Go(3,[{provide:bu,multi:!0,useFactory:()=>{let e=x(bn);return()=>{e.setUpLocationChangeListener()}}},{provide:ig,useValue:2}])}var rD=new H("");function ik(t){return Go(0,[{provide:rD,useExisting:ek},{provide:Xu,useExisting:t}])}function sk(){return Go(8,[vT,{provide:el,useExisting:vT}])}function ok(t){let e=[{provide:QT,useValue:qO},{provide:YT,useValue:U({skipNextTransition:!!t?.skipInitialTransition},t)}];return Go(9,e)}var IT=new H("ROUTER_FORROOT_GUARD"),ak=[qi,{provide:Bo,useClass:Mo},bn,$o,{provide:nr,useFactory:eD,deps:[bn]},tg,[]],N4=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[ak,[],{provide:Uo,multi:!0,useValue:n},{provide:IT,useFactory:dk,deps:[[bn,new gt,new ru]]},{provide:zo,useValue:r||{}},r?.useHash?uk():lk(),ck(),r?.preloadingStrategy?ik(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?hk(r):[],r?.bindToComponentInputs?sk().\u0275providers:[],r?.enableViewTransitions?ok().\u0275providers:[],fk()]}}static forChild(n){return{ngModule:t,providers:[{provide:Uo,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(B(IT,8))}}static{this.\u0275mod=Or({type:t})}static{this.\u0275inj=xr({})}}return t})();function ck(){return{provide:XT,useFactory:()=>{let t=x(KE),e=x(ge),n=x(zo),r=x(rg),i=x(Bo);return n.scrollOffset&&t.setOffset(n.scrollOffset),new tk(i,r,t,e,n)}}}function uk(){return{provide:Dn,useClass:WE}}function lk(){return{provide:Dn,useClass:ap}}function dk(t){return"guarded"}function hk(t){return[t.initialNavigation==="disabled"?rk().\u0275providers:[],t.initialNavigation==="enabledBlocking"?nk().\u0275providers:[]]}var wT=new H("");function fk(){return[{provide:wT,useFactory:tD},{provide:mo,multi:!0,useExisting:wT}]}var x4=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=iu({type:t,selectors:[["app-nav-bar"]],standalone:!0,features:[Tu],decls:3,vars:0,consts:[[1,"navbar","navbar-expand-lg"],[1,"container-fluid","justify-content-center","d-flex"],["src","assets/Logo/Madurai_Pandiyas_Logo.png","alt","Madurai Pandiyas Logo"]],template:function(r,i){r&1&&(wu(0,"nav",0)(1,"div",1),po(2,"img",2),Eu()())},styles:[".navbar[_ngcontent-%COMP%]{background-color:#000}.navbar[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{color:#ffb407b5}.navbar[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.navbar[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ffb407b5}.navbar[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{flex-grow:0;color:#ffb407b5}.navbar[_ngcontent-%COMP%]   .container-fluid[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#ffb407b5}"]})}}return t})();var sD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},pk=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],c=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},oD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,c=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=s>>2,p=(s&3)<<4|c>>4,m=(c&15)<<2|l>>6,I=l&63;u||(I=64,o||(m=64)),r.push(n[f],n[p],n[m],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||l==null||p==null)throw new og;let m=s<<2|c>>4;if(r.push(m),l!==64){let I=c<<4&240|l>>2;if(r.push(I),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},og=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},gk=function(t){let e=sD(t);return oD.encodeByteArray(e,!0)},Wo=function(t){return gk(t).replace(/\./g,"")},cg=function(t){try{return oD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function mk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var yk=()=>mk().__FIREBASE_DEFAULTS__,vk=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_k=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&cg(t[1]);return e&&JSON.parse(e)},rl=()=>{try{return yk()||vk()||_k()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aD=t=>{var e,n;return(n=(e=rl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},cD=t=>{let e=aD(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ug=()=>{var t;return(t=rl())===null||t===void 0?void 0:t.config},uD=t=>{var e;return(e=rl())===null||e===void 0?void 0:e[`_${t}`]};var nl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function lD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wo(JSON.stringify(n)),Wo(JSON.stringify(o)),""].join(".")}function _t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function Ik(){var t;let e=(t=rl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gD(){return!Ik()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lg(){try{return typeof indexedDB=="object"}catch{return!1}}function mD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var wk="FirebaseError",Nt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=wk,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cn.prototype.create)}},Cn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Ek(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Nt(i,c,r)}};function Ek(t,e){return t.replace(Tk,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Tk=/\{\$([^}]+)}/g;function es(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(iD(s)&&iD(o)){if(!es(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function iD(t){return t!==null&&typeof t=="object"}function dg(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yD(t,e){let n=new ag(t,e);return n.subscribe.bind(n)}var ag=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Dk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=sg),i.error===void 0&&(i.error=sg),i.complete===void 0&&(i.complete=sg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Dk(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sg(){}var k4=4*60*60*1e3;function Ze(t){return t&&t._delegate?t._delegate:t}var Mt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var jr="[DEFAULT]";var hg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new nl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ck(e))try{this.getOrInitializeService({instanceIdentifier:jr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=jr){return this.instances.has(e)}getOptions(e=jr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jr){return this.component?this.component.multipleInstances?e:jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function bk(t){return t===jr?void 0:t}function Ck(t){return t.instantiationMode==="EAGER"}var il=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new hg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Sk=[],ae=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ae||{}),Ak={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},Rk=ae.INFO,Nk={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},Mk=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Nk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ir=class{constructor(e){this.name=e,this._logLevel=Rk,this._logHandler=Mk,this._userLogHandler=null,Sk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ak[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}};var Pk=(t,e)=>e.some(n=>t instanceof n),vD,_D;function xk(){return vD||(vD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ok(){return _D||(_D=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var ID=new WeakMap,pg=new WeakMap,wD=new WeakMap,fg=new WeakMap,mg=new WeakMap;function kk(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(rn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ID.set(n,t)}).catch(()=>{}),mg.set(e,t),e}function Fk(t){if(pg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});pg.set(t,e)}var gg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ED(t){gg=t(gg)}function Lk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(sl(this),e,...n);return wD.set(r,e.sort?e.sort():[e]),rn(r)}:Ok().includes(t)?function(...e){return t.apply(sl(this),e),rn(ID.get(this))}:function(...e){return rn(t.apply(sl(this),e))}}function Vk(t){return typeof t=="function"?Lk(t):(t instanceof IDBTransaction&&Fk(t),Pk(t,xk())?new Proxy(t,gg):t)}function rn(t){if(t instanceof IDBRequest)return kk(t);if(fg.has(t))return fg.get(t);let e=Vk(t);return e!==t&&(fg.set(t,e),mg.set(e,t)),e}var sl=t=>mg.get(t);function DD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),c=rn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(rn(o.result),u.oldVersion,u.newVersion,rn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var Uk=["get","getKey","getAll","getAllKeys","count"],jk=["put","add","delete","clear"],yg=new Map;function TD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yg.get(e))return yg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=jk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Uk.includes(n)))return;let s=function(o,...c){return C(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return yg.set(e,s),s}ED(t=>Se(U({},t),{get:(e,n,r)=>TD(e,n)||t.get(e,n,r),has:(e,n)=>!!TD(e,n)||t.has(e,n)}));var _g=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Bk(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Bk(t){let e=t.getComponent();return e?.type==="VERSION"}var Ig="@firebase/app",bD="0.10.13";var Sn=new ir("@firebase/app"),$k="@firebase/app-compat",qk="@firebase/analytics-compat",Hk="@firebase/analytics",zk="@firebase/app-check-compat",Gk="@firebase/app-check",Wk="@firebase/auth",Kk="@firebase/auth-compat",Qk="@firebase/database",Yk="@firebase/data-connect",Jk="@firebase/database-compat",Zk="@firebase/functions",Xk="@firebase/functions-compat",e1="@firebase/installations",t1="@firebase/installations-compat",n1="@firebase/messaging",r1="@firebase/messaging-compat",i1="@firebase/performance",s1="@firebase/performance-compat",o1="@firebase/remote-config",a1="@firebase/remote-config-compat",c1="@firebase/storage",u1="@firebase/storage-compat",l1="@firebase/firestore",d1="@firebase/vertexai-preview",h1="@firebase/firestore-compat",f1="firebase",p1="10.14.1";var wg="[DEFAULT]",g1={[Ig]:"fire-core",[$k]:"fire-core-compat",[Hk]:"fire-analytics",[qk]:"fire-analytics-compat",[Gk]:"fire-app-check",[zk]:"fire-app-check-compat",[Wk]:"fire-auth",[Kk]:"fire-auth-compat",[Qk]:"fire-rtdb",[Yk]:"fire-data-connect",[Jk]:"fire-rtdb-compat",[Zk]:"fire-fn",[Xk]:"fire-fn-compat",[e1]:"fire-iid",[t1]:"fire-iid-compat",[n1]:"fire-fcm",[r1]:"fire-fcm-compat",[i1]:"fire-perf",[s1]:"fire-perf-compat",[o1]:"fire-rc",[a1]:"fire-rc-compat",[c1]:"fire-gcs",[u1]:"fire-gcs-compat",[l1]:"fire-fst",[h1]:"fire-fst-compat",[d1]:"fire-vertex","fire-js":"fire-js",[f1]:"fire-js-all"};var Ko=new Map,m1=new Map,Eg=new Map;function CD(t,e){try{t.container.addComponent(e)}catch(n){Sn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function or(t){let e=t.name;if(Eg.has(e))return Sn.debug(`There were multiple attempts to register component ${e}.`),!1;Eg.set(e,t);for(let n of Ko.values())CD(n,t);for(let n of m1.values())CD(n,t);return!0}function Cg(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ts(t){return t.settings!==void 0}var y1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sr=new Cn("app","Firebase",y1);var Tg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}};var ns=p1;function Sg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:wg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw sr.create("bad-app-name",{appName:String(i)});if(n||(n=ug()),!n)throw sr.create("no-options");let s=Ko.get(i);if(s){if(es(n,s.options)&&es(r,s.config))return s;throw sr.create("duplicate-app",{appName:i})}let o=new il(i);for(let u of Eg.values())o.addComponent(u);let c=new Tg(n,r,o);return Ko.set(i,c),c}function Yo(t=wg){let e=Ko.get(t);if(!e&&t===wg&&ug())return Sg();if(!e)throw sr.create("no-app",{appName:t});return e}function ol(){return Array.from(Ko.values())}function Le(t,e,n){var r;let i=(r=g1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sn.warn(c.join(" "));return}or(new Mt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var v1="firebase-heartbeat-database",_1=1,Qo="firebase-heartbeat-store",vg=null;function ND(){return vg||(vg=DD(v1,_1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qo)}catch(n){console.warn(n)}}}}).catch(t=>{throw sr.create("idb-open",{originalErrorMessage:t.message})})),vg}function I1(t){return C(this,null,function*(){try{let n=(yield ND()).transaction(Qo),r=yield n.objectStore(Qo).get(MD(t));return yield n.done,r}catch(e){if(e instanceof Nt)Sn.warn(e.message);else{let n=sr.create("idb-get",{originalErrorMessage:e?.message});Sn.warn(n.message)}}})}function SD(t,e){return C(this,null,function*(){try{let r=(yield ND()).transaction(Qo,"readwrite");yield r.objectStore(Qo).put(e,MD(t)),yield r.done}catch(n){if(n instanceof Nt)Sn.warn(n.message);else{let r=sr.create("idb-set",{originalErrorMessage:n?.message});Sn.warn(r.message)}}})}function MD(t){return`${t.name}!${t.options.appId}`}var w1=1024,E1=30*24*60*60*1e3,Dg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new bg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=AD();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=E1}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Sn.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=AD(),{heartbeatsToSend:r,unsentEntries:i}=T1(this._heartbeatsCache.heartbeats),s=Wo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Sn.warn(n),""}})}};function AD(){return new Date().toISOString().substring(0,10)}function T1(t,e=w1){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),RD(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),RD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var bg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return lg()?mD().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield I1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return SD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return SD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function RD(t){return Wo(JSON.stringify({version:2,heartbeats:t})).length}function D1(t){or(new Mt("platform-logger",e=>new _g(e),"PRIVATE")),or(new Mt("heartbeat",e=>new Dg(e),"PRIVATE")),Le(Ig,bD,t),Le(Ig,bD,"esm2017"),Le("fire-js","")}D1("");var b1="firebase",C1="10.14.1";Le(b1,C1,"app");var is=new Qn("ANGULARFIRE2_VERSION");function Rg(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Zo=(t,e)=>{let n=e?[e]:ol(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Jo=class{constructor(){return Zo(S1)}},S1="app-check";function rs(){}var al=class{zone;delegate;constructor(e,n=Xd){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Ag=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",rs,{},rs,rs)),n.pipe(Pe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Xo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new al(Zone.current)),this.insideAngular=n.run(()=>new al(Zone.current,Zd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(B(ge))};static \u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function cl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function A1(t){return cl().ngZone.runOutsideAngular(()=>t())}function Br(t){return cl().ngZone.run(()=>t())}function R1(t){return N1(cl())(t)}function N1(t){return function(n){return n=n.lift(new Ag(t.ngZone)),n.pipe(jn(t.outsideAngular),Un(t.insideAngular))}}var M1=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Br(()=>t.apply(void 0,r))},lt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Br(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",rs,{},rs,rs))),r[s]=M1(r[s],n));let i=A1(()=>t.apply(this,r));if(!e)if(i instanceof re){let s=cl();return i.pipe(jn(s.outsideAngular),Un(s.insideAngular))}else return Br(()=>i);return i instanceof re?i.pipe(R1):i instanceof Promise?Br(()=>new Promise((s,o)=>i.then(c=>Br(()=>s(c)),c=>Br(()=>o(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Br(()=>i)};var $r=class{constructor(e){return e}},ea=class{constructor(){return ol()}};function P1(t){return t&&t.length===1?t[0]:new $r(Yo())}var Ng=new H("angularfire2._apps"),x1={provide:$r,useFactory:P1,deps:[[new gt,Ng]]},O1={provide:ea,deps:[[new gt,Ng]]};function k1(t){return(e,n)=>{let r=n.get(St);Le("angularfire",is.full,"core"),Le("angularfire",is.full,"app"),Le("angular",ME.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new $r(i)}}function wG(t,...e){return Xt([x1,O1,{provide:Ng,useFactory:k1(t),multi:!0,deps:[ge,Ct,Xo,...e]}])}var EG=lt(Sg,!0);function UD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var jD=UD,BD=new Cn("auth","Firebase",UD());var hl=new ir("@firebase/auth");function L1(t,...e){hl.logLevel<=ae.WARN&&hl.warn(`Auth (${ns}): ${t}`,...e)}function ll(t,...e){hl.logLevel<=ae.ERROR&&hl.error(`Auth (${ns}): ${t}`,...e)}function PD(t,...e){throw $g(t,...e)}function Bg(t,...e){return $g(t,...e)}function $D(t,e,n){let r=Object.assign(Object.assign({},jD()),{[e]:n});return new Cn("auth","Firebase",r).create(e,{appName:t.name})}function dl(t){return $D(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $g(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return BD.create(t,...e)}function pe(t,e,...n){if(!t)throw $g(e,...n)}function ta(t){let e="INTERNAL ASSERTION FAILED: "+t;throw ll(e),new Error(e)}function fl(t,e){t||ta(e)}function V1(){return xD()==="http:"||xD()==="https:"}function xD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function U1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(V1()||fD()||"connection"in navigator)?navigator.onLine:!0}function j1(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Hr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,fl(n>e,"Short delay should be less than long delay!"),this.isMobile=dD()||pD()}get(){return U1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function B1(t,e){fl(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var pl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ta("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ta("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ta("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var $1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var q1=new Hr(3e4,6e4);function qD(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function vl(s,o,c,u){return C(this,arguments,function*(t,e,n,r,i={}){return HD(t,i,()=>C(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=dg(Object.assign({key:t.config.apiKey},f)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let I=Object.assign({method:e,headers:m},l);return hD()||(I.referrerPolicy="no-referrer"),pl.fetch()(zD(t,t.config.apiHost,n,p),I)}))})}function HD(t,e,n){return C(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},$1),e);try{let i=new xg(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw ul(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ul(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw ul(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw ul(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw $D(t,f,l);PD(t,f)}}catch(i){if(i instanceof Nt)throw i;PD(t,"network-request-failed",{message:String(i)})}})}function zD(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?B1(t.config,i):`${t.config.apiScheme}://${i}`}var xg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bg(this.auth,"network-request-failed")),q1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ul(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Bg(t,e,r);return i.customData._tokenResponse=n,i}function H1(t,e){return C(this,null,function*(){return vl(t,"POST","/v1/accounts:delete",e)})}function GD(t,e){return C(this,null,function*(){return vl(t,"POST","/v1/accounts:lookup",e)})}function na(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function qg(t,e=!1){return C(this,null,function*(){let n=Ze(t),r=yield n.getIdToken(e),i=WD(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:na(Mg(i.auth_time)),issuedAtTime:na(Mg(i.iat)),expirationTime:na(Mg(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Mg(t){return Number(t)*1e3}function WD(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ll("JWT malformed, contained fewer than 3 sections"),null;try{let i=cg(n);return i?JSON.parse(i):(ll("Failed to decode base64 JWT payload"),null)}catch(i){return ll("Caught error parsing JWT payload as JSON",i?.toString()),null}}function OD(t){let e=WD(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Og(t,e,n=!1){return C(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Nt&&z1(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function z1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var kg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),n)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ia=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=na(this.lastLoginAt),this.creationTime=na(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function gl(t){return C(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Og(t,GD(n,{idToken:r}));pe(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?KD(s.providerUserInfo):[],c=G1(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!c?.length,f=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new ia(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function Hg(t){return C(this,null,function*(){let e=Ze(t);yield gl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function G1(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KD(t){return t.map(e=>{var{providerId:n}=e,r=eh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function W1(t,e){return C(this,null,function*(){let n=yield HD(t,{},()=>C(this,null,function*(){let r=dg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=zD(t,i,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",pl.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function K1(t,e){return C(this,null,function*(){return vl(t,"POST","/v2/accounts:revokeToken",qD(t,e))})}var ra=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):OD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");let n=OD(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return C(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield W1(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(pe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ta("not implemented")}};function ar(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var sa=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=eh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ia(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let n=yield Og(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return qg(this,e)}reload(){return Hg(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield gl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(ts(this.auth.app))return Promise.reject(dl(this.auth));let e=yield this.getIdToken();return yield Og(this,H1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,c,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(c=n.tenantId)!==null&&c!==void 0?c:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=n.createdAt)!==null&&l!==void 0?l:void 0,W=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:L,emailVerified:ne,isAnonymous:Ee,providerData:Y,stsTokenManager:E}=n;pe(L&&E,e,"internal-error");let y=ra.fromJSON(this.name,E);pe(typeof L=="string",e,"internal-error"),ar(p,e.name),ar(m,e.name),pe(typeof ne=="boolean",e,"internal-error"),pe(typeof Ee=="boolean",e,"internal-error"),ar(I,e.name),ar(S,e.name),ar(R,e.name),ar(N,e.name),ar(k,e.name),ar(W,e.name);let v=new t({uid:L,auth:e,email:m,emailVerified:ne,displayName:p,isAnonymous:Ee,photoURL:S,phoneNumber:I,tenantId:R,stsTokenManager:y,createdAt:k,lastLoginAt:W});return Y&&Array.isArray(Y)&&(v.providerData=Y.map(w=>Object.assign({},w))),N&&(v._redirectEventId=N),v}static _fromIdTokenResponse(e,n,r=!1){return C(this,null,function*(){let i=new ra;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield gl(s),s})}static _fromGetAccountInfoResponse(e,n,r){return C(this,null,function*(){let i=n.users[0];pe(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?KD(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new ra;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ia(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var kD=new Map;function qr(t){fl(t instanceof Function,"Expected a class definition");let e=kD.get(t);return e?(fl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kD.set(t,e),e)}var Q1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(n,r){return C(this,null,function*(){this.storage[n]=r})}_get(n){return C(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return C(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Fg=Q1;function Pg(t,e,n){return`firebase:${t}:${e}:${n}`}var ml=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Pg(this.userKey,i.apiKey,s),this.fullPersistenceKey=Pg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?sa._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return C(this,null,function*(){if(!n.length)return new t(qr(Fg),e,r);let i=(yield Promise.all(n.map(l=>C(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||qr(Fg),o=Pg(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(o);if(f){let p=sa._fromJSON(e,f);l!==s&&(c=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(n.map(l=>C(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function FD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(X1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Y1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tF(e))return"Blackberry";if(nF(e))return"Webos";if(J1(e))return"Safari";if((e.includes("chrome/")||Z1(e))&&!e.includes("edge/"))return"Chrome";if(eF(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Y1(t=_t()){return/firefox\//i.test(t)}function J1(t=_t()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Z1(t=_t()){return/crios\//i.test(t)}function X1(t=_t()){return/iemobile/i.test(t)}function eF(t=_t()){return/android/i.test(t)}function tF(t=_t()){return/blackberry/i.test(t)}function nF(t=_t()){return/webos/i.test(t)}function QD(t,e=[]){let n;switch(t){case"Browser":n=FD(_t());break;case"Worker":n=`${FD(_t())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ns}/${r}`}var Lg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,c)=>{try{let u=e(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function rF(n){return C(this,arguments,function*(t,e={}){return vl(t,"GET","/v2/passwordPolicy",qD(t,e))})}var iF=6,Vg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:iF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Ug=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yl(this),this.idTokenSubscription=new yl(this),this.beforeStateQueue=new Lg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qr(n)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield ml.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let n=yield GD(this,{idToken:e}),r=yield sa._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var n;if(ts(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield gl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=j1()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(ts(this.app))return Promise.reject(dl(this));let n=e?Ze(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return C(this,null,function*(){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return ts(this.app)?Promise.reject(dl(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ts(this.app)?Promise.reject(dl(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(qr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield rF(this),n=new Vg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Cn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield K1(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&qr(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=yield ml.create(this,[qr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return C(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&L1(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function sF(t){return Ze(t)}var yl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=yD(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var oF={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aF(t){oF=t}function cF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function uF(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(qr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var OG=cF("rcb"),kG=new Hr(3e4,6e4);var FG=new Hr(2e3,1e4);var LG=10*60*1e3;var VG=new Hr(3e4,6e4);var UG=new Hr(5e3,15e3);var jG=encodeURIComponent("fac");var LD="@firebase/auth",VD="1.7.9";var jg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function lF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dF(t){or(new Mt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QD(t)},l=new Ug(r,i,s,u);return uF(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),or(new Mt("auth-internal",e=>{let n=sF(e.getProvider("auth").getImmediate());return(r=>new jg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Le(LD,VD,lF(t)),Le(LD,VD,"esm2017")}var hF=5*60,BG=uD("authIdTokenMaxAge")||hF;function fF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}aF({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Bg("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",fF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dF("Browser");var hL="auth";var _l=class{constructor(){return Zo(hL)}};var YD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},JD={};var cr,zg;(function(){var t;function e(E,y){function v(){}v.prototype=y.prototype,E.D=y.prototype,E.prototype=new v,E.prototype.constructor=E,E.C=function(w,T,b){for(var _=Array(arguments.length-2),fn=2;fn<arguments.length;fn++)_[fn-2]=arguments[fn];return y.prototype[T].apply(w,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,v){v||(v=0);var w=Array(16);if(typeof y=="string")for(var T=0;16>T;++T)w[T]=y.charCodeAt(v++)|y.charCodeAt(v++)<<8|y.charCodeAt(v++)<<16|y.charCodeAt(v++)<<24;else for(T=0;16>T;++T)w[T]=y[v++]|y[v++]<<8|y[v++]<<16|y[v++]<<24;y=E.g[0],v=E.g[1],T=E.g[2];var b=E.g[3],_=y+(b^v&(T^b))+w[0]+3614090360&4294967295;y=v+(_<<7&4294967295|_>>>25),_=b+(T^y&(v^T))+w[1]+3905402710&4294967295,b=y+(_<<12&4294967295|_>>>20),_=T+(v^b&(y^v))+w[2]+606105819&4294967295,T=b+(_<<17&4294967295|_>>>15),_=v+(y^T&(b^y))+w[3]+3250441966&4294967295,v=T+(_<<22&4294967295|_>>>10),_=y+(b^v&(T^b))+w[4]+4118548399&4294967295,y=v+(_<<7&4294967295|_>>>25),_=b+(T^y&(v^T))+w[5]+1200080426&4294967295,b=y+(_<<12&4294967295|_>>>20),_=T+(v^b&(y^v))+w[6]+2821735955&4294967295,T=b+(_<<17&4294967295|_>>>15),_=v+(y^T&(b^y))+w[7]+4249261313&4294967295,v=T+(_<<22&4294967295|_>>>10),_=y+(b^v&(T^b))+w[8]+1770035416&4294967295,y=v+(_<<7&4294967295|_>>>25),_=b+(T^y&(v^T))+w[9]+2336552879&4294967295,b=y+(_<<12&4294967295|_>>>20),_=T+(v^b&(y^v))+w[10]+4294925233&4294967295,T=b+(_<<17&4294967295|_>>>15),_=v+(y^T&(b^y))+w[11]+2304563134&4294967295,v=T+(_<<22&4294967295|_>>>10),_=y+(b^v&(T^b))+w[12]+1804603682&4294967295,y=v+(_<<7&4294967295|_>>>25),_=b+(T^y&(v^T))+w[13]+4254626195&4294967295,b=y+(_<<12&4294967295|_>>>20),_=T+(v^b&(y^v))+w[14]+2792965006&4294967295,T=b+(_<<17&4294967295|_>>>15),_=v+(y^T&(b^y))+w[15]+1236535329&4294967295,v=T+(_<<22&4294967295|_>>>10),_=y+(T^b&(v^T))+w[1]+4129170786&4294967295,y=v+(_<<5&4294967295|_>>>27),_=b+(v^T&(y^v))+w[6]+3225465664&4294967295,b=y+(_<<9&4294967295|_>>>23),_=T+(y^v&(b^y))+w[11]+643717713&4294967295,T=b+(_<<14&4294967295|_>>>18),_=v+(b^y&(T^b))+w[0]+3921069994&4294967295,v=T+(_<<20&4294967295|_>>>12),_=y+(T^b&(v^T))+w[5]+3593408605&4294967295,y=v+(_<<5&4294967295|_>>>27),_=b+(v^T&(y^v))+w[10]+38016083&4294967295,b=y+(_<<9&4294967295|_>>>23),_=T+(y^v&(b^y))+w[15]+3634488961&4294967295,T=b+(_<<14&4294967295|_>>>18),_=v+(b^y&(T^b))+w[4]+3889429448&4294967295,v=T+(_<<20&4294967295|_>>>12),_=y+(T^b&(v^T))+w[9]+568446438&4294967295,y=v+(_<<5&4294967295|_>>>27),_=b+(v^T&(y^v))+w[14]+3275163606&4294967295,b=y+(_<<9&4294967295|_>>>23),_=T+(y^v&(b^y))+w[3]+4107603335&4294967295,T=b+(_<<14&4294967295|_>>>18),_=v+(b^y&(T^b))+w[8]+1163531501&4294967295,v=T+(_<<20&4294967295|_>>>12),_=y+(T^b&(v^T))+w[13]+2850285829&4294967295,y=v+(_<<5&4294967295|_>>>27),_=b+(v^T&(y^v))+w[2]+4243563512&4294967295,b=y+(_<<9&4294967295|_>>>23),_=T+(y^v&(b^y))+w[7]+1735328473&4294967295,T=b+(_<<14&4294967295|_>>>18),_=v+(b^y&(T^b))+w[12]+2368359562&4294967295,v=T+(_<<20&4294967295|_>>>12),_=y+(v^T^b)+w[5]+4294588738&4294967295,y=v+(_<<4&4294967295|_>>>28),_=b+(y^v^T)+w[8]+2272392833&4294967295,b=y+(_<<11&4294967295|_>>>21),_=T+(b^y^v)+w[11]+1839030562&4294967295,T=b+(_<<16&4294967295|_>>>16),_=v+(T^b^y)+w[14]+4259657740&4294967295,v=T+(_<<23&4294967295|_>>>9),_=y+(v^T^b)+w[1]+2763975236&4294967295,y=v+(_<<4&4294967295|_>>>28),_=b+(y^v^T)+w[4]+1272893353&4294967295,b=y+(_<<11&4294967295|_>>>21),_=T+(b^y^v)+w[7]+4139469664&4294967295,T=b+(_<<16&4294967295|_>>>16),_=v+(T^b^y)+w[10]+3200236656&4294967295,v=T+(_<<23&4294967295|_>>>9),_=y+(v^T^b)+w[13]+681279174&4294967295,y=v+(_<<4&4294967295|_>>>28),_=b+(y^v^T)+w[0]+3936430074&4294967295,b=y+(_<<11&4294967295|_>>>21),_=T+(b^y^v)+w[3]+3572445317&4294967295,T=b+(_<<16&4294967295|_>>>16),_=v+(T^b^y)+w[6]+76029189&4294967295,v=T+(_<<23&4294967295|_>>>9),_=y+(v^T^b)+w[9]+3654602809&4294967295,y=v+(_<<4&4294967295|_>>>28),_=b+(y^v^T)+w[12]+3873151461&4294967295,b=y+(_<<11&4294967295|_>>>21),_=T+(b^y^v)+w[15]+530742520&4294967295,T=b+(_<<16&4294967295|_>>>16),_=v+(T^b^y)+w[2]+3299628645&4294967295,v=T+(_<<23&4294967295|_>>>9),_=y+(T^(v|~b))+w[0]+4096336452&4294967295,y=v+(_<<6&4294967295|_>>>26),_=b+(v^(y|~T))+w[7]+1126891415&4294967295,b=y+(_<<10&4294967295|_>>>22),_=T+(y^(b|~v))+w[14]+2878612391&4294967295,T=b+(_<<15&4294967295|_>>>17),_=v+(b^(T|~y))+w[5]+4237533241&4294967295,v=T+(_<<21&4294967295|_>>>11),_=y+(T^(v|~b))+w[12]+1700485571&4294967295,y=v+(_<<6&4294967295|_>>>26),_=b+(v^(y|~T))+w[3]+2399980690&4294967295,b=y+(_<<10&4294967295|_>>>22),_=T+(y^(b|~v))+w[10]+4293915773&4294967295,T=b+(_<<15&4294967295|_>>>17),_=v+(b^(T|~y))+w[1]+2240044497&4294967295,v=T+(_<<21&4294967295|_>>>11),_=y+(T^(v|~b))+w[8]+1873313359&4294967295,y=v+(_<<6&4294967295|_>>>26),_=b+(v^(y|~T))+w[15]+4264355552&4294967295,b=y+(_<<10&4294967295|_>>>22),_=T+(y^(b|~v))+w[6]+2734768916&4294967295,T=b+(_<<15&4294967295|_>>>17),_=v+(b^(T|~y))+w[13]+1309151649&4294967295,v=T+(_<<21&4294967295|_>>>11),_=y+(T^(v|~b))+w[4]+4149444226&4294967295,y=v+(_<<6&4294967295|_>>>26),_=b+(v^(y|~T))+w[11]+3174756917&4294967295,b=y+(_<<10&4294967295|_>>>22),_=T+(y^(b|~v))+w[2]+718787259&4294967295,T=b+(_<<15&4294967295|_>>>17),_=v+(b^(T|~y))+w[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(T+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+T&4294967295,E.g[3]=E.g[3]+b&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var v=y-this.blockSize,w=this.B,T=this.h,b=0;b<y;){if(T==0)for(;b<=v;)i(this,E,b),b+=this.blockSize;if(typeof E=="string"){for(;b<y;)if(w[T++]=E.charCodeAt(b++),T==this.blockSize){i(this,w),T=0;break}}else for(;b<y;)if(w[T++]=E[b++],T==this.blockSize){i(this,w),T=0;break}}this.h=T,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var v=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=v&255,v/=256;for(this.u(E),E=Array(16),y=v=0;4>y;++y)for(var w=0;32>w;w+=8)E[v++]=this.g[y]>>>w&255;return E};function s(E,y){var v=c;return Object.prototype.hasOwnProperty.call(v,E)?v[E]:v[E]=y(E)}function o(E,y){this.h=y;for(var v=[],w=!0,T=E.length-1;0<=T;T--){var b=E[T]|0;w&&b==y||(v[T]=b,w=!1)}this.g=v}var c={};function u(E){return-128<=E&&128>E?s(E,function(y){return new o([y|0],0>y?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return N(l(-E));for(var y=[],v=1,w=0;E>=v;w++)y[w]=E/v|0,v*=4294967296;return new o(y,0)}function f(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return N(f(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=l(Math.pow(y,8)),w=p,T=0;T<E.length;T+=8){var b=Math.min(8,E.length-T),_=parseInt(E.substring(T,T+b),y);8>b?(b=l(Math.pow(y,b)),w=w.j(b).add(l(_))):(w=w.j(v),w=w.add(l(_)))}return w}var p=u(0),m=u(1),I=u(16777216);t=o.prototype,t.m=function(){if(R(this))return-N(this).m();for(var E=0,y=1,v=0;v<this.g.length;v++){var w=this.i(v);E+=(0<=w?w:4294967296+w)*y,y*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S(this))return"0";if(R(this))return"-"+N(this).toString(E);for(var y=l(Math.pow(E,6)),v=this,w="";;){var T=ne(v,y).g;v=k(v,T.j(y));var b=((0<v.g.length?v.g[0]:v.h)>>>0).toString(E);if(v=T,S(v))return b+w;for(;6>b.length;)b="0"+b;w=b+w}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function S(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function R(E){return E.h==-1}t.l=function(E){return E=k(this,E),R(E)?-1:S(E)?0:1};function N(E){for(var y=E.g.length,v=[],w=0;w<y;w++)v[w]=~E.g[w];return new o(v,~E.h).add(m)}t.abs=function(){return R(this)?N(this):this},t.add=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],w=0,T=0;T<=y;T++){var b=w+(this.i(T)&65535)+(E.i(T)&65535),_=(b>>>16)+(this.i(T)>>>16)+(E.i(T)>>>16);w=_>>>16,b&=65535,_&=65535,v[T]=_<<16|b}return new o(v,v[v.length-1]&-2147483648?-1:0)};function k(E,y){return E.add(N(y))}t.j=function(E){if(S(this)||S(E))return p;if(R(this))return R(E)?N(this).j(N(E)):N(N(this).j(E));if(R(E))return N(this.j(N(E)));if(0>this.l(I)&&0>E.l(I))return l(this.m()*E.m());for(var y=this.g.length+E.g.length,v=[],w=0;w<2*y;w++)v[w]=0;for(w=0;w<this.g.length;w++)for(var T=0;T<E.g.length;T++){var b=this.i(w)>>>16,_=this.i(w)&65535,fn=E.i(T)>>>16,As=E.i(T)&65535;v[2*w+2*T]+=_*As,W(v,2*w+2*T),v[2*w+2*T+1]+=b*As,W(v,2*w+2*T+1),v[2*w+2*T+1]+=_*fn,W(v,2*w+2*T+1),v[2*w+2*T+2]+=b*fn,W(v,2*w+2*T+2)}for(w=0;w<y;w++)v[w]=v[2*w+1]<<16|v[2*w];for(w=y;w<2*y;w++)v[w]=0;return new o(v,0)};function W(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function L(E,y){this.g=E,this.h=y}function ne(E,y){if(S(y))throw Error("division by zero");if(S(E))return new L(p,p);if(R(E))return y=ne(N(E),y),new L(N(y.g),N(y.h));if(R(y))return y=ne(E,N(y)),new L(N(y.g),y.h);if(30<E.g.length){if(R(E)||R(y))throw Error("slowDivide_ only works with positive integers.");for(var v=m,w=y;0>=w.l(E);)v=Ee(v),w=Ee(w);var T=Y(v,1),b=Y(w,1);for(w=Y(w,2),v=Y(v,2);!S(w);){var _=b.add(w);0>=_.l(E)&&(T=T.add(v),b=_),w=Y(w,1),v=Y(v,1)}return y=k(E,T.j(y)),new L(T,y)}for(T=p;0<=E.l(y);){for(v=Math.max(1,Math.floor(E.m()/y.m())),w=Math.ceil(Math.log(v)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),b=l(v),_=b.j(y);R(_)||0<_.l(E);)v-=w,b=l(v),_=b.j(y);S(b)&&(b=m),T=T.add(b),E=k(E,_)}return new L(T,E)}t.A=function(E){return ne(this,E).h},t.and=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],w=0;w<y;w++)v[w]=this.i(w)&E.i(w);return new o(v,this.h&E.h)},t.or=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],w=0;w<y;w++)v[w]=this.i(w)|E.i(w);return new o(v,this.h|E.h)},t.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],w=0;w<y;w++)v[w]=this.i(w)^E.i(w);return new o(v,this.h^E.h)};function Ee(E){for(var y=E.g.length+1,v=[],w=0;w<y;w++)v[w]=E.i(w)<<1|E.i(w-1)>>>31;return new o(v,E.h)}function Y(E,y){var v=y>>5;y%=32;for(var w=E.g.length-v,T=[],b=0;b<w;b++)T[b]=0<y?E.i(b+v)>>>y|E.i(b+v+1)<<32-y:E.i(b+v);return new o(T,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zg=JD.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,cr=JD.Integer=o}).apply(typeof YD<"u"?YD:typeof self<"u"?self:typeof window<"u"?window:{});var Il=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},An={};var Gg,fL,ss,Wg,oa,wl,Kg,Qg,Yg;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Il=="object"&&Il];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var D=a[g];if(!(D in h))break e;h=h[D]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var h=0,g=!1,D={next:function(){if(!g&&h<a.length){var A=h++;return{value:d(A,a[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,h){return h})}});var o=o||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),a.apply(d,D)}}return function(){return a.apply(d,arguments)}}function m(a,d,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function I(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function S(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,D,A){for(var O=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)O[_e-2]=arguments[_e];return d.prototype[D].apply(g,O)}}function R(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function N(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let D=a.length||0,A=g.length||0;a.length=D+A;for(let O=0;O<A;O++)a[D+O]=g[O]}else a.push(g)}}class k{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function W(a){return/^[\s\xa0]*$/.test(a)}function L(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ne(a){return ne[" "](a),a}ne[" "]=function(){};var Ee=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function Y(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function E(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function y(a){let d={};for(let h in a)d[h]=a[h];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let h,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(h in g)a[h]=g[h];for(let A=0;A<v.length;A++)h=v[A],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function T(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function b(a){c.setTimeout(()=>{throw a},0)}function _(){var a=pd;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class fn{constructor(){this.h=this.g=null}add(d,h){let g=As.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var As=new k(()=>new JC,a=>a.reset());class JC{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Rs,Ns=!1,pd=new fn,lv=()=>{let a=c.Promise.resolve(void 0);Rs=()=>{a.then(ZC)}};var ZC=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){b(h)}var d=As;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Ns=!1};function On(){this.s=this.s,this.C=this.C}On.prototype.s=!1,On.prototype.ma=function(){this.s||(this.s=!0,this.N())},On.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function He(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}He.prototype.h=function(){this.defaultPrevented=!0};var XC=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function Ms(a,d){if(He.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Ee){e:{try{ne(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:e0[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ms.aa.h.call(this)}}S(Ms,He);var e0={2:"touch",3:"pen",4:"mouse"};Ms.prototype.h=function(){Ms.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ps="closure_listenable_"+(1e6*Math.random()|0),t0=0;function n0(a,d,h,g,D){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=D,this.key=++t0,this.da=this.fa=!1}function Pa(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function xa(a){this.src=a,this.g={},this.h=0}xa.prototype.add=function(a,d,h,g,D){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var O=md(a,d,g,D);return-1<O?(d=a[O],h||(d.fa=!1)):(d=new n0(d,this.src,A,!!g,D),d.fa=h,a.push(d)),d};function gd(a,d){var h=d.type;if(h in a.g){var g=a.g[h],D=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=D)&&Array.prototype.splice.call(g,D,1),A&&(Pa(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function md(a,d,h,g){for(var D=0;D<a.length;++D){var A=a[D];if(!A.da&&A.listener==d&&A.capture==!!h&&A.ha==g)return D}return-1}var yd="closure_lm_"+(1e6*Math.random()|0),vd={};function dv(a,d,h,g,D){if(g&&g.once)return fv(a,d,h,g,D);if(Array.isArray(d)){for(var A=0;A<d.length;A++)dv(a,d[A],h,g,D);return null}return h=Ed(h),a&&a[Ps]?a.K(d,h,l(g)?!!g.capture:!!g,D):hv(a,d,h,!1,g,D)}function hv(a,d,h,g,D,A){if(!d)throw Error("Invalid event type");var O=l(D)?!!D.capture:!!D,_e=Id(a);if(_e||(a[yd]=_e=new xa(a)),h=_e.add(d,h,g,O,A),h.proxy)return h;if(g=r0(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)XC||(D=O),D===void 0&&(D=!1),a.addEventListener(d.toString(),g,D);else if(a.attachEvent)a.attachEvent(gv(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function r0(){function a(h){return d.call(a.src,a.listener,h)}let d=i0;return a}function fv(a,d,h,g,D){if(Array.isArray(d)){for(var A=0;A<d.length;A++)fv(a,d[A],h,g,D);return null}return h=Ed(h),a&&a[Ps]?a.L(d,h,l(g)?!!g.capture:!!g,D):hv(a,d,h,!0,g,D)}function pv(a,d,h,g,D){if(Array.isArray(d))for(var A=0;A<d.length;A++)pv(a,d[A],h,g,D);else g=l(g)?!!g.capture:!!g,h=Ed(h),a&&a[Ps]?(a=a.i,d=String(d).toString(),d in a.g&&(A=a.g[d],h=md(A,h,g,D),-1<h&&(Pa(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete a.g[d],a.h--)))):a&&(a=Id(a))&&(d=a.g[d.toString()],a=-1,d&&(a=md(d,h,g,D)),(h=-1<a?d[a]:null)&&_d(h))}function _d(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Ps])gd(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(gv(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=Id(d))?(gd(h,a),h.h==0&&(h.src=null,d[yd]=null)):Pa(a)}}}function gv(a){return a in vd?vd[a]:vd[a]="on"+a}function i0(a,d){if(a.da)a=!0;else{d=new Ms(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&_d(a),a=h.call(g,d)}return a}function Id(a){return a=a[yd],a instanceof xa?a:null}var wd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ed(a){return typeof a=="function"?a:(a[wd]||(a[wd]=function(d){return a.handleEvent(d)}),a[wd])}function ze(){On.call(this),this.i=new xa(this),this.M=this,this.F=null}S(ze,On),ze.prototype[Ps]=!0,ze.prototype.removeEventListener=function(a,d,h,g){pv(this,a,d,h,g)};function nt(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new He(d,a);else if(d instanceof He)d.target=d.target||a;else{var D=d;d=new He(g,a),w(d,D)}if(D=!0,h)for(var A=h.length-1;0<=A;A--){var O=d.g=h[A];D=Oa(O,g,!0,d)&&D}if(O=d.g=a,D=Oa(O,g,!0,d)&&D,D=Oa(O,g,!1,d)&&D,h)for(A=0;A<h.length;A++)O=d.g=h[A],D=Oa(O,g,!1,d)&&D}ze.prototype.N=function(){if(ze.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)Pa(h[g]);delete a.g[d],a.h--}}this.F=null},ze.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},ze.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function Oa(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,A=0;A<d.length;++A){var O=d[A];if(O&&!O.da&&O.capture==h){var _e=O.listener,Ue=O.ha||O.src;O.fa&&gd(a.i,O),D=_e.call(Ue,g)!==!1&&D}}return D&&!g.defaultPrevented}function mv(a,d,h){if(typeof a=="function")h&&(a=m(a,h));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function yv(a){a.g=mv(()=>{a.g=null,a.i&&(a.i=!1,yv(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class s0 extends On{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:yv(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xs(a){On.call(this),this.h=a,this.g={}}S(xs,On);var vv=[];function _v(a){Y(a.g,function(d,h){this.g.hasOwnProperty(h)&&_d(d)},a),a.g={}}xs.prototype.N=function(){xs.aa.N.call(this),_v(this)},xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Td=c.JSON.stringify,o0=c.JSON.parse,a0=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Dd(){}Dd.prototype.h=null;function Iv(a){return a.h||(a.h=a.i())}function wv(){}var Os={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bd(){He.call(this,"d")}S(bd,He);function Cd(){He.call(this,"c")}S(Cd,He);var fr={},Ev=null;function ka(){return Ev=Ev||new ze}fr.La="serverreachability";function Tv(a){He.call(this,fr.La,a)}S(Tv,He);function ks(a){let d=ka();nt(d,new Tv(d))}fr.STAT_EVENT="statevent";function Dv(a,d){He.call(this,fr.STAT_EVENT,a),this.stat=d}S(Dv,He);function rt(a){let d=ka();nt(d,new Dv(d,a))}fr.Ma="timingevent";function bv(a,d){He.call(this,fr.Ma,a),this.size=d}S(bv,He);function Fs(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Ls(){this.g=!0}Ls.prototype.xa=function(){this.g=!1};function c0(a,d,h,g,D,A){a.info(function(){if(a.g)if(A)for(var O="",_e=A.split("&"),Ue=0;Ue<_e.length;Ue++){var de=_e[Ue].split("=");if(1<de.length){var Ge=de[0];de=de[1];var We=Ge.split("_");O=2<=We.length&&We[1]=="type"?O+(Ge+"="+de+"&"):O+(Ge+"=redacted&")}}else O=null;else O=A;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+h+`
`+O})}function u0(a,d,h,g,D,A,O){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+h+`
`+A+" "+O})}function si(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+d0(a,h)+(g?" "+g:"")})}function l0(a,d){a.info(function(){return"TIMEOUT: "+d})}Ls.prototype.info=function(){};function d0(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var A=D[0];if(A!="noop"&&A!="stop"&&A!="close")for(var O=1;O<D.length;O++)D[O]=""}}}}return Td(h)}catch{return d}}var Fa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sd;function La(){}S(La,Dd),La.prototype.g=function(){return new XMLHttpRequest},La.prototype.i=function(){return{}},Sd=new La;function kn(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new xs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Sv}function Sv(){this.i=null,this.g="",this.h=!1}var Av={},Ad={};function Rd(a,d,h){a.L=1,a.v=Ba(pn(d)),a.m=h,a.P=!0,Rv(a,null)}function Rv(a,d){a.F=Date.now(),Va(a),a.A=pn(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),qv(h.i,"t",g),a.C=0,h=a.j.J,a.h=new Sv,a.g=a_(a.j,h?d:null,!a.m),0<a.O&&(a.M=new s0(m(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(vv[0]=D.toString()),D=vv);for(var A=0;A<D.length;A++){var O=dv(h,D[A],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),ks(),c0(a.i,a.u,a.A,a.l,a.R,a.m)}kn.prototype.ca=function(a){a=a.target;let d=this.M;d&&gn(a)==3?d.j():this.Y(a)},kn.prototype.Y=function(a){try{if(a==this.g)e:{let We=gn(this.g);var d=this.g.Ba();let ci=this.g.Z();if(!(3>We)&&(We!=3||this.g&&(this.h.h||this.g.oa()||Yv(this.g)))){this.J||We!=4||d==7||(d==8||0>=ci?ks(3):ks(2)),Nd(this);var h=this.g.Z();this.X=h;t:if(Nv(this)){var g=Yv(this.g);a="";var D=g.length,A=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pr(this),Vs(this);var O="";break t}this.h.i=new c.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(A&&d==D-1)});g.length=0,this.h.g+=a,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=h==200,u0(this.i,this.u,this.A,this.l,this.R,We,h),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,Ue=this.g;if((_e=Ue.g?Ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(_e)){var de=_e;break t}}de=null}if(h=de)si(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Md(this,h);else{this.o=!1,this.s=3,rt(12),pr(this),Vs(this);break e}}if(this.P){h=!0;let xt;for(;!this.J&&this.C<O.length;)if(xt=h0(this,O),xt==Ad){We==4&&(this.s=4,rt(14),h=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==Av){this.s=4,rt(15),si(this.i,this.l,O,"[Invalid Chunk]"),h=!1;break}else si(this.i,this.l,xt,null),Md(this,xt);if(Nv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||O.length!=0||this.h.h||(this.s=1,rt(16),h=!1),this.o=this.o&&h,!h)si(this.i,this.l,O,"[Invalid Chunked Response]"),pr(this),Vs(this);else if(0<O.length&&!this.W){this.W=!0;var Ge=this.j;Ge.g==this&&Ge.ba&&!Ge.M&&(Ge.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Ld(Ge),Ge.M=!0,rt(11))}}else si(this.i,this.l,O,null),Md(this,O);We==4&&pr(this),this.o&&!this.J&&(We==4?r_(this.j,this):(this.o=!1,Va(this)))}else R0(this.g),h==400&&0<O.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),pr(this),Vs(this)}}}catch{}finally{}};function Nv(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function h0(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?Ad:(h=Number(d.substring(h,g)),isNaN(h)?Av:(g+=1,g+h>d.length?Ad:(d=d.slice(g,g+h),a.C=g+h,d)))}kn.prototype.cancel=function(){this.J=!0,pr(this)};function Va(a){a.S=Date.now()+a.I,Mv(a,a.I)}function Mv(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Fs(m(a.ba,a),d)}function Nd(a){a.B&&(c.clearTimeout(a.B),a.B=null)}kn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(l0(this.i,this.A),this.L!=2&&(ks(),rt(17)),pr(this),this.s=2,Vs(this)):Mv(this,this.S-a)};function Vs(a){a.j.G==0||a.J||r_(a.j,a)}function pr(a){Nd(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,_v(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Md(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||Pd(h.h,a))){if(!a.K&&Pd(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Ga(h),Ha(h);else break e;Fd(h),rt(18)}}else h.za=D[1],0<h.za-h.T&&37500>D[2]&&h.F&&h.v==0&&!h.C&&(h.C=Fs(m(h.Za,h),6e3));if(1>=Ov(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else mr(h,11)}else if((a.K||h.g==a)&&Ga(h),!W(d))for(D=h.Da.g.parse(d),d=0;d<D.length;d++){let de=D[d];if(h.T=de[0],de=de[1],h.G==2)if(de[0]=="c"){h.K=de[1],h.ia=de[2];let Ge=de[3];Ge!=null&&(h.la=Ge,h.j.info("VER="+h.la));let We=de[4];We!=null&&(h.Aa=We,h.j.info("SVER="+h.Aa));let ci=de[5];ci!=null&&typeof ci=="number"&&0<ci&&(g=1.5*ci,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let xt=a.g;if(xt){let Ka=xt.g?xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ka){var A=g.h;A.g||Ka.indexOf("spdy")==-1&&Ka.indexOf("quic")==-1&&Ka.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(xd(A,A.h),A.h=null))}if(g.D){let Vd=xt.g?xt.g.getResponseHeader("X-HTTP-Session-Id"):null;Vd&&(g.ya=Vd,we(g.I,g.D,Vd))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var O=a;if(g.qa=o_(g,g.J?g.ia:null,g.W),O.K){kv(g.h,O);var _e=O,Ue=g.L;Ue&&(_e.I=Ue),_e.B&&(Nd(_e),Va(_e)),g.g=O}else t_(g);0<h.i.length&&za(h)}else de[0]!="stop"&&de[0]!="close"||mr(h,7);else h.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?mr(h,7):kd(h):de[0]!="noop"&&h.l&&h.l.ta(de),h.v=0)}}ks(4)}catch{}}var f0=class{constructor(a,d){this.g=a,this.map=d}};function Pv(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xv(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Ov(a){return a.h?1:a.g?a.g.size:0}function Pd(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function xd(a,d){a.g?a.g.add(d):a.h=d}function kv(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Pv.prototype.cancel=function(){if(this.i=Fv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Fv(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return R(a.i)}function p0(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function g0(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function Lv(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=g0(a),g=p0(a),D=g.length,A=0;A<D;A++)d.call(void 0,g[A],h&&h[A],a)}var Vv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function m0(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),D=null;if(0<=g){var A=a[h].substring(0,g);D=a[h].substring(g+1)}else A=a[h];d(A,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function gr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof gr){this.h=a.h,Ua(this,a.j),this.o=a.o,this.g=a.g,ja(this,a.s),this.l=a.l;var d=a.i,h=new Bs;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),Uv(this,h),this.m=a.m}else a&&(d=String(a).match(Vv))?(this.h=!1,Ua(this,d[1]||"",!0),this.o=Us(d[2]||""),this.g=Us(d[3]||"",!0),ja(this,d[4]),this.l=Us(d[5]||"",!0),Uv(this,d[6]||"",!0),this.m=Us(d[7]||"")):(this.h=!1,this.i=new Bs(null,this.h))}gr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(js(d,jv,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(js(d,jv,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(js(h,h.charAt(0)=="/"?_0:v0,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",js(h,w0)),a.join("")};function pn(a){return new gr(a)}function Ua(a,d,h){a.j=h?Us(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function ja(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Uv(a,d,h){d instanceof Bs?(a.i=d,E0(a.i,a.h)):(h||(d=js(d,I0)),a.i=new Bs(d,a.h))}function we(a,d,h){a.i.set(d,h)}function Ba(a){return we(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Us(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function js(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,y0),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function y0(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var jv=/[#\/\?@]/g,v0=/[#\?:]/g,_0=/[#\?]/g,I0=/[#\?@]/g,w0=/#/g;function Bs(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Fn(a){a.g||(a.g=new Map,a.h=0,a.i&&m0(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Bs.prototype,t.add=function(a,d){Fn(this),this.i=null,a=oi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function Bv(a,d){Fn(a),d=oi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function $v(a,d){return Fn(a),d=oi(a,d),a.g.has(d)}t.forEach=function(a,d){Fn(this),this.g.forEach(function(h,g){h.forEach(function(D){a.call(d,D,g,this)},this)},this)},t.na=function(){Fn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let D=a[g];for(let A=0;A<D.length;A++)h.push(d[g])}return h},t.V=function(a){Fn(this);let d=[];if(typeof a=="string")$v(this,a)&&(d=d.concat(this.g.get(oi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return Fn(this),this.i=null,a=oi(this,a),$v(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function qv(a,d,h){Bv(a,d),0<h.length&&(a.i=null,a.g.set(oi(a,d),R(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let A=encodeURIComponent(String(g)),O=this.V(g);for(g=0;g<O.length;g++){var D=A;O[g]!==""&&(D+="="+encodeURIComponent(String(O[g]))),a.push(D)}}return this.i=a.join("&")};function oi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function E0(a,d){d&&!a.j&&(Fn(a),a.i=null,a.g.forEach(function(h,g){var D=g.toLowerCase();g!=D&&(Bv(this,g),qv(this,D,h))},a)),a.j=d}function T0(a,d){let h=new Ls;if(c.Image){let g=new Image;g.onload=I(Ln,h,"TestLoadImage: loaded",!0,d,g),g.onerror=I(Ln,h,"TestLoadImage: error",!1,d,g),g.onabort=I(Ln,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=I(Ln,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function D0(a,d){let h=new Ls,g=new AbortController,D=setTimeout(()=>{g.abort(),Ln(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(A=>{clearTimeout(D),A.ok?Ln(h,"TestPingServer: ok",!0,d):Ln(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Ln(h,"TestPingServer: error",!1,d)})}function Ln(a,d,h,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(h)}catch{}}function b0(){this.g=new a0}function C0(a,d,h){let g=h||"";try{Lv(a,function(D,A){let O=D;l(D)&&(O=Td(D)),d.push(g+A+"="+encodeURIComponent(O))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function $s(a){this.l=a.Ub||null,this.j=a.eb||!1}S($s,Dd),$s.prototype.g=function(){return new $a(this.l,this.j)},$s.prototype.i=function(a){return function(){return a}}({});function $a(a,d){ze.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S($a,ze),t=$a.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Hs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Hs(this)),this.g&&(this.readyState=3,Hs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hv(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hv(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?qs(this):Hs(this),this.readyState==3&&Hv(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,qs(this))},t.Qa=function(a){this.g&&(this.response=a,qs(this))},t.ga=function(){this.g&&qs(this)};function qs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Hs(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function Hs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty($a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function zv(a){let d="";return Y(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function Od(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=zv(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):we(a,d,h))}function Ce(a){ze.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ce,ze);var S0=/^https?$/i,A0=["POST","PUT"];t=Ce.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sd.g(),this.v=this.o?Iv(this.o):Iv(Sd),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(A){Gv(this,A);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)h.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())h.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),D=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(A0,d,void 0))||g||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,O]of h)this.g.setRequestHeader(A,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qv(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){Gv(this,A)}};function Gv(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,Wv(a),qa(a)}function Wv(a){a.A||(a.A=!0,nt(a,"complete"),nt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,nt(this,"complete"),nt(this,"abort"),qa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qa(this,!0)),Ce.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Kv(this):this.bb())},t.bb=function(){Kv(this)};function Kv(a){if(a.h&&typeof o<"u"&&(!a.v[1]||gn(a)!=4||a.Z()!=2)){if(a.u&&gn(a)==4)mv(a.Ea,0,a);else if(nt(a,"readystatechange"),gn(a)==4){a.h=!1;try{let O=a.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=O===0){var D=String(a.D).match(Vv)[1]||null;!D&&c.self&&c.self.location&&(D=c.self.location.protocol.slice(0,-1)),g=!S0.test(D?D.toLowerCase():"")}h=g}if(h)nt(a,"complete"),nt(a,"success");else{a.m=6;try{var A=2<gn(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",Wv(a)}}finally{qa(a)}}}}function qa(a,d){if(a.g){Qv(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||nt(a,"ready");try{h.onreadystatechange=g}catch{}}}function Qv(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function gn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),o0(d)}};function Yv(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function R0(a){let d={};a=(a.g&&2<=gn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(W(a[g]))continue;var h=T(a[g]);let D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=d[D]||[];d[D]=A,A.push(h)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zs(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function Jv(a){this.Aa=0,this.i=[],this.j=new Ls,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zs("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zs("baseRetryDelayMs",5e3,a),this.cb=zs("retryDelaySeedMs",1e4,a),this.Wa=zs("forwardChannelMaxRetries",2,a),this.wa=zs("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Pv(a&&a.concurrentRequestLimit),this.Da=new b0,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Jv.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,g){rt(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=o_(this,null,this.W),za(this)};function kd(a){if(Zv(a),a.G==3){var d=a.U++,h=pn(a.I);if(we(h,"SID",a.K),we(h,"RID",d),we(h,"TYPE","terminate"),Gs(a,h),d=new kn(a,a.j,d),d.L=2,d.v=Ba(pn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=a_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Va(d)}s_(a)}function Ha(a){a.g&&(Ld(a),a.g.cancel(),a.g=null)}function Zv(a){Ha(a),a.u&&(c.clearTimeout(a.u),a.u=null),Ga(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function za(a){if(!xv(a.h)&&!a.s){a.s=!0;var d=a.Ga;Rs||lv(),Ns||(Rs(),Ns=!0),pd.add(d,a),a.B=0}}function N0(a,d){return Ov(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Fs(m(a.Ga,a,d),i_(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let D=new kn(this,this.j,a),A=this.o;if(this.S&&(A?(A=y(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(D.H=A,A=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=e_(this,D,d),h=pn(this.I),we(h,"RID",a),we(h,"CVER",22),this.D&&we(h,"X-HTTP-Session-Id",this.D),Gs(this,h),A&&(this.O?d="headers="+encodeURIComponent(String(zv(A)))+"&"+d:this.m&&Od(h,this.m,A)),xd(this.h,D),this.Ua&&we(h,"TYPE","init"),this.P?(we(h,"$req",d),we(h,"SID","null"),D.T=!0,Rd(D,h,null)):Rd(D,h,d),this.G=2}}else this.G==3&&(a?Xv(this,a):this.i.length==0||xv(this.h)||Xv(this))};function Xv(a,d){var h;d?h=d.l:h=a.U++;let g=pn(a.I);we(g,"SID",a.K),we(g,"RID",h),we(g,"AID",a.T),Gs(a,g),a.m&&a.o&&Od(g,a.m,a.o),h=new kn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=e_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),xd(a.h,h),Rd(h,g,d)}function Gs(a,d){a.H&&Y(a.H,function(h,g){we(d,g,h)}),a.l&&Lv({},function(h,g){we(d,g,h)})}function e_(a,d,h){h=Math.min(a.i.length,h);var g=a.l?m(a.l.Na,a.l,a):null;e:{var D=a.i;let A=-1;for(;;){let O=["count="+h];A==-1?0<h?(A=D[0].g,O.push("ofs="+A)):A=0:O.push("ofs="+A);let _e=!0;for(let Ue=0;Ue<h;Ue++){let de=D[Ue].g,Ge=D[Ue].map;if(de-=A,0>de)A=Math.max(0,D[Ue].g-100),_e=!1;else try{C0(Ge,O,"req"+de+"_")}catch{g&&g(Ge)}}if(_e){g=O.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function t_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Rs||lv(),Ns||(Rs(),Ns=!0),pd.add(d,a),a.v=0}}function Fd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Fs(m(a.Fa,a),i_(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,n_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Fs(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Ha(this),n_(this))};function Ld(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function n_(a){a.g=new kn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=pn(a.qa);we(d,"RID","rpc"),we(d,"SID",a.K),we(d,"AID",a.T),we(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&we(d,"TO",a.ja),we(d,"TYPE","xmlhttp"),Gs(a,d),a.m&&a.o&&Od(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Ba(pn(d)),h.m=null,h.P=!0,Rv(h,a)}t.Za=function(){this.C!=null&&(this.C=null,Ha(this),Fd(this),rt(19))};function Ga(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function r_(a,d){var h=null;if(a.g==d){Ga(a),Ld(a),a.g=null;var g=2}else if(Pd(a.h,d))h=d.D,kv(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var D=a.B;g=ka(),nt(g,new bv(g,h)),za(a)}else t_(a);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&N0(a,d)||g==2&&Fd(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),D){case 1:mr(a,5);break;case 4:mr(a,10);break;case 3:mr(a,6);break;default:mr(a,2)}}}function i_(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function mr(a,d){if(a.j.info("Error code "+d),d==2){var h=m(a.fb,a),g=a.Xa;let D=!g;g=new gr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ua(g,"https"),Ba(g),D?T0(g.toString(),h):D0(g.toString(),h)}else rt(2);a.G=0,a.l&&a.l.sa(d),s_(a),Zv(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function s_(a){if(a.G=0,a.ka=[],a.l){let d=Fv(a.h);(d.length!=0||a.i.length!=0)&&(N(a.ka,d),N(a.ka,a.i),a.h.i.length=0,R(a.i),a.i.length=0),a.l.ra()}}function o_(a,d,h){var g=h instanceof gr?pn(h):new gr(h);if(g.g!="")d&&(g.g=d+"."+g.g),ja(g,g.s);else{var D=c.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var A=new gr(null);g&&Ua(A,g),d&&(A.g=d),D&&ja(A,D),h&&(A.l=h),g=A}return h=a.D,d=a.ya,h&&d&&we(g,h,d),we(g,"VER",a.la),Gs(a,g),g}function a_(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Ce(new $s({eb:h})):new Ce(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function c_(){}t=c_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wa(){}Wa.prototype.g=function(a,d){return new ht(a,d)};function ht(a,d){ze.call(this),this.g=new Jv(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!W(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!W(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new ai(this)}S(ht,ze),ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ht.prototype.close=function(){kd(this.g)},ht.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Td(a),a=h);d.i.push(new f0(d.Ya++,a)),d.G==3&&za(d)},ht.prototype.N=function(){this.g.l=null,delete this.j,kd(this.g),delete this.g,ht.aa.N.call(this)};function u_(a){bd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}S(u_,bd);function l_(){Cd.call(this),this.status=1}S(l_,Cd);function ai(a){this.g=a}S(ai,c_),ai.prototype.ua=function(){nt(this.g,"a")},ai.prototype.ta=function(a){nt(this.g,new u_(a))},ai.prototype.sa=function(a){nt(this.g,new l_)},ai.prototype.ra=function(){nt(this.g,"b")},Wa.prototype.createWebChannel=Wa.prototype.g,ht.prototype.send=ht.prototype.o,ht.prototype.open=ht.prototype.m,ht.prototype.close=ht.prototype.close,Yg=An.createWebChannelTransport=function(){return new Wa},Qg=An.getStatEventTarget=function(){return ka()},Kg=An.Event=fr,wl=An.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fa.NO_ERROR=0,Fa.TIMEOUT=8,Fa.HTTP_ERROR=6,oa=An.ErrorCode=Fa,Cv.COMPLETE="complete",Wg=An.EventType=Cv,wv.EventType=Os,Os.OPEN="a",Os.CLOSE="b",Os.ERROR="c",Os.MESSAGE="d",ze.prototype.listen=ze.prototype.K,ss=An.WebChannel=wv,fL=An.FetchXmlHttpFactory=$s,Ce.prototype.listenOnce=Ce.prototype.L,Ce.prototype.getLastError=Ce.prototype.Ka,Ce.prototype.getLastErrorCode=Ce.prototype.Ba,Ce.prototype.getStatus=Ce.prototype.Z,Ce.prototype.getResponseJson=Ce.prototype.Oa,Ce.prototype.getResponseText=Ce.prototype.oa,Ce.prototype.send=Ce.prototype.ea,Ce.prototype.setWithCredentials=Ce.prototype.Ha,Gg=An.XhrIo=Ce}).apply(typeof Il<"u"?Il:typeof self<"u"?self:typeof window<"u"?window:{});var ZD="@firebase/firestore";var Ve=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ve.UNAUTHENTICATED=new Ve(null),Ve.GOOGLE_CREDENTIALS=new Ve("google-credentials-uid"),Ve.FIRST_PARTY=new Ve("first-party-uid"),Ve.MOCK_USER=new Ve("mock-user");var bs="10.14.0";var Kr=new ir("@firebase/firestore");function aa(){return Kr.logLevel}function V(t,...e){if(Kr.logLevel<=ae.DEBUG){let n=e.map(xy);Kr.debug(`Firestore (${bs}): ${t}`,...n)}}function Nn(t,...e){if(Kr.logLevel<=ae.ERROR){let n=e.map(xy);Kr.error(`Firestore (${bs}): ${t}`,...n)}}function hs(t,...e){if(Kr.logLevel<=ae.WARN){let n=e.map(xy);Kr.warn(`Firestore (${bs}): ${t}`,...n)}}function xy(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function G(t="Unexpected state"){let e=`FIRESTORE (${bs}) INTERNAL ASSERTION FAILED: `+t;throw Nn(e),new Error(e)}function ye(t,e){t||G()}function Q(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=class extends Nt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var on=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Cl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},tm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ve.UNAUTHENTICATED))}shutdown(){}},nm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},rm=class{constructor(e){this.t=e,this.currentUser=Ve.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ye(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new on;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new on,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>C(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new on)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string"),new Cl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string"),new Ve(e)}},im=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ve.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},sm=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new im(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ve.FIRST_PARTY))}shutdown(){}invalidateToken(){}},om=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},am=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ye(this.o===void 0);let r=s=>{s.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ye(typeof n.token=="string"),this.R=n.token,new om(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function pL(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Sl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=pL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function he(t,e){return t<e?-1:t>e?1:0}function fs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var qe=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new F(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var X=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new qe(0,0))}static max(){return new t(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Al=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&G(),r===void 0?r=e.length-n:r>e.length-n&&G(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},be=class t extends Al{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new F(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},gL=/^[_a-zA-Z][_a-zA-Z0-9]*$/,wt=class t extends Al{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return gL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new F(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new F(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(s(),i++)}if(s(),o)throw new F(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var q=class t{constructor(e){this.path=e}static fromPath(e){return new t(be.fromString(e))}static fromName(e){return new t(be.fromString(e).popFirst(5))}static empty(){return new t(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new be(e.slice()))}};var cm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};cm.UNKNOWN_ID=-1;function mL(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new Qr(i,q.empty(),e)}function yL(t){return new Qr(t.readTime,t.key,-1)}var Qr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(X.min(),q.empty(),-1)}static max(){return new t(X.max(),q.empty(),-1)}};function vL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}var _L="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",um=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Sa(t){return C(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==_L)throw t;V("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(c=>{++i,c.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),c=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(f=>{o[l]=f,++c,c===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function IL(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Aa(t){return t.name==="IndexedDbTransactionError"}var xb=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function sd(t){return t==null}function fa(t){return t===0&&1/t==-1/0}function wL(t){return typeof t=="number"&&Number.isInteger(t)&&!fa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var EL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],$W=[...EL,"documentOverlays"],TL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],DL=TL,bL=[...DL,"indexConfiguration","indexState","indexEntries"];var qW=[...bL,"globals"];function XD(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ni(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ob(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ae=class t{constructor(e,n){this.comparator=e,this.root=n||an.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new us(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new us(this.root,e,this.comparator,!1)}getReverseIterator(){return new us(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new us(this.root,e,this.comparator,!0)}},us=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},an=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();let e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}};an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(e,n,r,i,s){return this}insert(e,n,r){return new an(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var et=class t{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Rl(this.data.getIterator())}getIteratorFrom(e){return new Rl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Rl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Pt=class t{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new t([])}unionWith(e){let n=new et(wt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Nl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var tt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Nl("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};tt.EMPTY_BYTE_STRING=new tt("");var CL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mn(t){if(ye(!!t),typeof t=="string"){let e=0,n=CL.exec(t);if(ye(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:De(t.seconds),nanos:De(t.nanos)}}function De(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function lr(t){return typeof t=="string"?tt.fromBase64String(t):tt.fromUint8Array(t)}function Oy(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ky(t){let e=t.mapValue.fields.__previous_value__;return Oy(e)?ky(e):e}function pa(t){let e=Mn(t.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}var lm=class{constructor(e,n,r,i,s,o,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},Ml=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var El={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Yr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Oy(t)?4:Fb(t)?9007199254740991:kb(t)?10:11:G()}function dn(t,e){if(t===e)return!0;let n=Yr(t);if(n!==Yr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pa(t).isEqual(pa(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Mn(i.timestampValue),c=Mn(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return lr(i.bytesValue).isEqual(lr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return De(i.geoPointValue.latitude)===De(s.geoPointValue.latitude)&&De(i.geoPointValue.longitude)===De(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return De(i.integerValue)===De(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=De(i.doubleValue),c=De(s.doubleValue);return o===c?fa(o)===fa(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return fs(t.arrayValue.values||[],e.arrayValue.values||[],dn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},c=s.mapValue.fields||{};if(XD(o)!==XD(c))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(c[u]===void 0||!dn(o[u],c[u])))return!1;return!0}(t,e);default:return G()}}function ga(t,e){return(t.values||[]).find(n=>dn(n,e))!==void 0}function ps(t,e){if(t===e)return 0;let n=Yr(t),r=Yr(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=De(s.integerValue||s.doubleValue),u=De(o.integerValue||o.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return eb(t.timestampValue,e.timestampValue);case 4:return eb(pa(t),pa(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(s,o){let c=lr(s),u=lr(o);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),u=o.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=he(c[l],u[l]);if(f!==0)return f}return he(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=he(De(s.latitude),De(o.latitude));return c!==0?c:he(De(s.longitude),De(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return tb(t.arrayValue,e.arrayValue);case 10:return function(s,o){var c,u,l,f;let p=s.fields||{},m=o.fields||{},I=(c=p.value)===null||c===void 0?void 0:c.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,R=he(((l=I?.values)===null||l===void 0?void 0:l.length)||0,((f=S?.values)===null||f===void 0?void 0:f.length)||0);return R!==0?R:tb(I,S)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===El.mapValue&&o===El.mapValue)return 0;if(s===El.mapValue)return 1;if(o===El.mapValue)return-1;let c=s.fields||{},u=Object.keys(c),l=o.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let m=he(u[p],f[p]);if(m!==0)return m;let I=ps(c[u[p]],l[f[p]]);if(I!==0)return I}return he(u.length,f.length)}(t.mapValue,e.mapValue);default:throw G()}}function eb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);let n=Mn(t),r=Mn(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function tb(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=ps(n[i],r[i]);if(s)return s}return he(n.length,r.length)}function gs(t){return dm(t)}function dm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Mn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return lr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=dm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${dm(n.fields[o])}`;return i+"}"}(t.mapValue):G()}function nb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hm(t){return!!t&&"integerValue"in t}function Fy(t){return!!t&&"arrayValue"in t}function rb(t){return!!t&&"nullValue"in t}function ib(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dl(t){return!!t&&"mapValue"in t}function kb(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ua(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ni(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ua(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ua(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Fb(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var It=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ua(n)}setAll(e){let n=wt.emptyPath(),r={},i=[];e.forEach((o,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=ua(o):i.push(c.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Dl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Dl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ni(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(ua(this.value))}};function Lb(t){let e=[];return ni(t.fields,(n,r)=>{let i=new wt([n]);if(Dl(r)){let s=Lb(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Pt(e)}var Ht=class t{constructor(e,n,r,i,s,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,X.min(),X.min(),X.min(),It.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,X.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,X.min(),X.min(),It.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,X.min(),X.min(),It.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=It.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=It.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ms=class{constructor(e,n){this.position=e,this.inclusive=n}};function sb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=ps(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ob(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dn(t.position[n],e.position[n]))return!1;return!0}var ys=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function SL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Pl=class{},ke=class t extends Pl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new pm(e,n,r):n==="array-contains"?new ym(e,r):n==="in"?new vm(e,r):n==="not-in"?new _m(e,r):n==="array-contains-any"?new Im(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gm(e,r):new mm(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ps(n,this.value)):n!==null&&Yr(this.value)===Yr(n)&&this.matchesComparison(ps(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},zt=class t extends Pl{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return Vb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Vb(t){return t.op==="and"}function Ub(t){return AL(t)&&Vb(t)}function AL(t){for(let e of t.filters)if(e instanceof zt)return!1;return!0}function fm(t){if(t instanceof ke)return t.field.canonicalString()+t.op.toString()+gs(t.value);if(Ub(t))return t.filters.map(e=>fm(e)).join(",");{let e=t.filters.map(n=>fm(n)).join(",");return`${t.op}(${e})`}}function jb(t,e){return t instanceof ke?function(r,i){return i instanceof ke&&r.op===i.op&&r.field.isEqual(i.field)&&dn(r.value,i.value)}(t,e):t instanceof zt?function(r,i){return i instanceof zt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,c)=>s&&jb(o,i.filters[c]),!0):!1}(t,e):void G()}function Bb(t){return t instanceof ke?function(n){return`${n.field.canonicalString()} ${n.op} ${gs(n.value)}`}(t):t instanceof zt?function(n){return n.op.toString()+" {"+n.getFilters().map(Bb).join(" ,")+"}"}(t):"Filter"}var pm=class extends ke{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){let n=q.comparator(e.key,this.key);return this.matchesComparison(n)}},gm=class extends ke{constructor(e,n){super(e,"in",n),this.keys=$b("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},mm=class extends ke{constructor(e,n){super(e,"not-in",n),this.keys=$b("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function $b(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}var ym=class extends ke{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Fy(n)&&ga(n.arrayValue,this.value)}},vm=class extends ke{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ga(this.value.arrayValue,n)}},_m=class extends ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(ga(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ga(this.value.arrayValue,n)}},Im=class extends ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Fy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ga(this.value.arrayValue,r))}};var wm=class{constructor(e,n=null,r=[],i=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function ab(t,e=null,n=[],r=[],i=null,s=null,o=null){return new wm(t,e,n,r,i,s,o)}function Ly(t){let e=Q(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),sd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>gs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>gs(r)).join(",")),e.ue=n}return e.ue}function Vy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!SL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ob(t.startAt,e.startAt)&&ob(t.endAt,e.endAt)}function Em(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Jr=class{constructor(e,n=null,r=[],i=[],s=null,o="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function RL(t,e,n,r,i,s,o,c){return new Jr(t,e,n,r,i,s,o,c)}function Uy(t){return new Jr(t)}function cb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qb(t){return t.collectionGroup!==null}function la(t){let e=Q(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new et(wt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ys(s,r))}),n.has(wt.keyField().canonicalString())||e.ce.push(new ys(wt.keyField(),r))}return e.ce}function cn(t){let e=Q(t);return e.le||(e.le=NL(e,la(t))),e.le}function NL(t,e){if(t.limitType==="F")return ab(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new ys(i.field,s)});let n=t.endAt?new ms(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ms(t.startAt.position,t.startAt.inclusive):null;return ab(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Tm(t,e){let n=t.filters.concat([e]);return new Jr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Dm(t,e,n){return new Jr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function od(t,e){return Vy(cn(t),cn(e))&&t.limitType===e.limitType}function Hb(t){return`${Ly(cn(t))}|lt:${t.limitType}`}function os(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Bb(i)).join(", ")}]`),sd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>gs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>gs(i)).join(",")),`Target(${r})`}(cn(t))}; limitType=${t.limitType})`}function ad(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of la(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,c,u){let l=sb(o,c,u);return o.inclusive?l<=0:l<0}(r.startAt,la(r),i)||r.endAt&&!function(o,c,u){let l=sb(o,c,u);return o.inclusive?l>=0:l>0}(r.endAt,la(r),i))}(t,e)}function ML(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zb(t){return(e,n)=>{let r=!1;for(let i of la(t)){let s=PL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function PL(t,e,n){let r=t.field.isKeyField()?q.comparator(e.key,n.key):function(s,o,c){let u=o.data.field(s),l=c.data.field(s);return u!==null&&l!==null?ps(u,l):G()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}var dr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ni(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return Ob(this.inner)}size(){return this.innerSize}};var xL=new Ae(q.comparator);function Pn(){return xL}var Gb=new Ae(q.comparator);function ca(...t){let e=Gb;for(let n of t)e=e.insert(n.key,n);return e}function Wb(t){let e=Gb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zr(){return da()}function Kb(){return da()}function da(){return new dr(t=>t.toString(),(t,e)=>t.isEqual(e))}var OL=new Ae(q.comparator),kL=new et(q.comparator);function ce(...t){let e=kL;for(let n of t)e=e.add(n);return e}var FL=new et(he);function LL(){return FL}function jy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fa(e)?"-0":e}}function Qb(t){return{integerValue:""+t}}function VL(t,e){return wL(e)?Qb(e):jy(t,e)}var vs=class{constructor(){this._=void 0}};function UL(t,e,n){return t instanceof _s?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Oy(s)&&(s=ky(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Zr?Jb(t,e):t instanceof Xr?Zb(t,e):function(i,s){let o=Yb(i,s),c=ub(o)+ub(i.Pe);return hm(o)&&hm(i.Pe)?Qb(c):jy(i.serializer,c)}(t,e)}function jL(t,e,n){return t instanceof Zr?Jb(t,e):t instanceof Xr?Zb(t,e):n}function Yb(t,e){return t instanceof Is?function(r){return hm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var _s=class extends vs{},Zr=class extends vs{constructor(e){super(),this.elements=e}};function Jb(t,e){let n=Xb(e);for(let r of t.elements)n.some(i=>dn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Xr=class extends vs{constructor(e){super(),this.elements=e}};function Zb(t,e){let n=Xb(e);for(let r of t.elements)n=n.filter(i=>!dn(i,r));return{arrayValue:{values:n}}}var Is=class extends vs{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function ub(t){return De(t.integerValue||t.doubleValue)}function Xb(t){return Fy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function BL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Zr&&i instanceof Zr||r instanceof Xr&&i instanceof Xr?fs(r.elements,i.elements,dn):r instanceof Is&&i instanceof Is?dn(r.Pe,i.Pe):r instanceof _s&&i instanceof _s}(t.transform,e.transform)}var bm=class{constructor(e,n){this.version=e,this.transformResults=n}},Rn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function bl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ws=class{};function eC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ma(t.key,Rn.none()):new ei(t.key,t.data,Rn.none());{let n=t.data,r=It.empty(),i=new et(wt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new hn(t.key,r,new Pt(i.toArray()),Rn.none())}}function $L(t,e,n){t instanceof ei?function(i,s,o){let c=i.value.clone(),u=db(i.fieldTransforms,s,o.transformResults);c.setAll(u),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):t instanceof hn?function(i,s,o){if(!bl(i.precondition,s))return void s.convertToUnknownDocument(o.version);let c=db(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(tC(i)),u.setAll(c),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ha(t,e,n,r){return t instanceof ei?function(s,o,c,u){if(!bl(s.precondition,o))return c;let l=s.value.clone(),f=hb(s.fieldTransforms,u,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof hn?function(s,o,c,u){if(!bl(s.precondition,o))return c;let l=hb(s.fieldTransforms,u,o),f=o.data;return f.setAll(tC(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,c){return bl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,n)}function qL(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=Yb(r.transform,i||null);s!=null&&(n===null&&(n=It.empty()),n.set(r.field,s))}return n||null}function lb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fs(r,i,(s,o)=>BL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ei=class extends ws{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},hn=class extends ws{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function tC(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function db(t,e,n){let r=new Map;ye(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,c=e.data.field(s.field);r.set(s.field,jL(o,c,n[i]))}return r}function hb(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,UL(s,o,e))}return r}var ma=class extends ws{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Cm=class extends ws{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Sm=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&$L(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ha(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ha(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=Kb();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=n.has(i.key)?null:c;let u=eC(o,c);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&fs(this.mutations,e.mutations,(n,r)=>lb(n,r))&&fs(this.baseMutations,e.baseMutations,(n,r)=>lb(n,r))}},Am=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ye(e.mutations.length===r.length);let i=function(){return OL}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Rm=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Nm=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var xe,le;function HL(t){switch(t){default:return G();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function nC(t){if(t===void 0)return Nn("GRPC error has no .code"),M.UNKNOWN;switch(t){case xe.OK:return M.OK;case xe.CANCELLED:return M.CANCELLED;case xe.UNKNOWN:return M.UNKNOWN;case xe.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case xe.INTERNAL:return M.INTERNAL;case xe.UNAVAILABLE:return M.UNAVAILABLE;case xe.UNAUTHENTICATED:return M.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case xe.NOT_FOUND:return M.NOT_FOUND;case xe.ALREADY_EXISTS:return M.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return M.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case xe.ABORTED:return M.ABORTED;case xe.OUT_OF_RANGE:return M.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return M.UNIMPLEMENTED;case xe.DATA_LOSS:return M.DATA_LOSS;default:return G()}}(le=xe||(xe={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";var fb=null;function zL(){return new TextEncoder}var GL=new cr([4294967295,4294967295],0);function pb(t){let e=zL().encode(t),n=new zg;return n.update(e),new Uint8Array(n.digest())}function gb(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new cr([n,r],0),new cr([i,s],0)]}var Mm=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gr(`Invalid padding: ${n}`);if(r<0)throw new Gr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Gr(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=cr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(cr.fromNumber(r)));return i.compare(GL)===1&&(i=new cr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=pb(e),[r,i]=gb(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;let n=pb(e),[r,i]=gb(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Gr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var xl=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ya.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(X.min(),i,new Ae(he),Pn(),ce())}},ya=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ce(),ce(),ce())}};var ls=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Ol=class{constructor(e,n){this.targetId=e,this.me=n}},kl=class{constructor(e,n,r=tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Fl=class{constructor(){this.fe=0,this.ge=yb(),this.pe=tt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ce(),n=ce(),r=ce();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:G()}}),new ya(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=yb()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ye(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Pm=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Pn(),this.qe=mb(),this.Qe=new Ae(he)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:G()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(Em(s))if(r===0){let o=new q(s.path);this.Ue(n,o,Ht.newNoDocument(o,X.min()))}else ye(r===1);else{let o=this.Ye(n);if(o!==r){let c=this.Ze(e),u=c?this.Xe(c,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}fb?.et(function(f,p,m,I,S){var R,N,k,W,L,ne;let Ee={localCacheCount:f,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},Y=p.unchangedNames;return Y&&(Ee.bloomFilter={applied:S===0,hashCount:(R=Y?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(W=(k=(N=Y?.bits)===null||N===void 0?void 0:N.bitmap)===null||k===void 0?void 0:k.length)!==null&&W!==void 0?W:0,padding:(ne=(L=Y?.bits)===null||L===void 0?void 0:L.padding)!==null&&ne!==void 0?ne:0,mightContain:E=>{var y;return(y=I?.mightContain(E))!==null&&y!==void 0&&y}}),Ee}(o,e.me,this.Le.tt(),c,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,c;try{o=lr(r).toUint8Array()}catch(u){if(u instanceof Nl)return hs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Mm(o,i,s)}catch(u){return hs(u instanceof Gr?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let c=this.Je(o);if(c){if(s.current&&Em(c.target)){let u=new q(c.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Ht.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ce();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new xl(e,n,this.Qe,this.ke,r);return this.ke=Pn(),this.qe=mb(),this.Qe=new Ae(he),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Fl,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new et(he),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Fl),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function mb(){return new Ae(q.comparator)}function yb(){return new Ae(q.comparator)}var WL={asc:"ASCENDING",desc:"DESCENDING"},KL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QL={and:"AND",or:"OR"},xm=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Om(t,e){return t.useProto3Json||sd(e)?e:{value:e}}function Ll(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function YL(t,e){return Ll(t,e.toTimestamp())}function un(t){return ye(!!t),X.fromTimestamp(function(n){let r=Mn(n);return new qe(r.seconds,r.nanos)}(t))}function By(t,e){return km(t,e).canonicalString()}function km(t,e){let n=function(i){return new be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function iC(t){let e=be.fromString(t);return ye(uC(e)),e}function Fm(t,e){return By(t.databaseId,e.path)}function Jg(t,e){let n=iC(e);if(n.get(1)!==t.databaseId.projectId)throw new F(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(oC(n))}function sC(t,e){return By(t.databaseId,e)}function JL(t){let e=iC(t);return e.length===4?be.emptyPath():oC(e)}function Lm(t){return new be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oC(t){return ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function vb(t,e,n){return{name:Fm(t,e),fields:n.value.mapValue.fields}}function ZL(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,f){return l.useProto3Json?(ye(f===void 0||typeof f=="string"),tt.fromBase64String(f||"")):(ye(f===void 0||f instanceof Buffer||f instanceof Uint8Array),tt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(l){let f=l.code===void 0?M.UNKNOWN:nC(l.code);return new F(f,l.message||"")}(o);n=new kl(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Jg(t,r.document.name),s=un(r.document.updateTime),o=r.document.createTime?un(r.document.createTime):X.min(),c=new It({mapValue:{fields:r.document.fields}}),u=Ht.newFoundDocument(i,s,o,c),l=r.targetIds||[],f=r.removedTargetIds||[];n=new ls(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Jg(t,r.document),s=r.readTime?un(r.readTime):X.min(),o=Ht.newNoDocument(i,s),c=r.removedTargetIds||[];n=new ls([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Jg(t,r.document),s=r.removedTargetIds||[];n=new ls([],s,i,null)}else{if(!("filter"in e))return G();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Nm(i,s),c=r.targetId;n=new Ol(c,o)}}return n}function XL(t,e){let n;if(e instanceof ei)n={update:vb(t,e.key,e.value)};else if(e instanceof ma)n={delete:Fm(t,e.key)};else if(e instanceof hn)n={update:vb(t,e.key,e.data),updateMask:cV(e.fieldMask)};else{if(!(e instanceof Cm))return G();n={verify:Fm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let c=o.transform;if(c instanceof _s)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Zr)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Xr)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Is)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw G()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:YL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:G()}(t,e.precondition)),n}function eV(t,e){return t&&t.length>0?(ye(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?un(i.updateTime):un(s);return o.isEqual(X.min())&&(o=un(s)),new bm(o,i.transformResults||[])}(n,e))):[]}function tV(t,e){return{documents:[sC(t,e.path)]}}function nV(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sC(t,i);let s=function(l){if(l.length!==0)return cC(zt.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(f=>function(m){return{field:as(m.field),direction:sV(m.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let c=Om(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function rV(t){let e=JL(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ye(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){let m=aC(p);return m instanceof zt&&Ub(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(S){return new ys(cs(S.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let c=null;n.limit&&(c=function(p){let m;return m=typeof p=="object"?p.value:p,sd(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,I=p.values||[];return new ms(I,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,I=p.values||[];return new ms(I,m)}(n.endAt)),RL(e,i,o,s,c,"F",u,l)}function iV(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=cs(n.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=cs(n.unaryFilter.field);return ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=cs(n.unaryFilter.field);return ke.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=cs(n.unaryFilter.field);return ke.create(o,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(t):t.fieldFilter!==void 0?function(n){return ke.create(cs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zt.create(n.compositeFilter.filters.map(r=>aC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G()}}(n.compositeFilter.op))}(t):G()}function sV(t){return WL[t]}function oV(t){return KL[t]}function aV(t){return QL[t]}function as(t){return{fieldPath:t.canonicalString()}}function cs(t){return wt.fromServerFormat(t.fieldPath)}function cC(t){return t instanceof ke?function(n){if(n.op==="=="){if(ib(n.value))return{unaryFilter:{field:as(n.field),op:"IS_NAN"}};if(rb(n.value))return{unaryFilter:{field:as(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ib(n.value))return{unaryFilter:{field:as(n.field),op:"IS_NOT_NAN"}};if(rb(n.value))return{unaryFilter:{field:as(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:as(n.field),op:oV(n.op),value:n.value}}}(t):t instanceof zt?function(n){let r=n.getFilters().map(i=>cC(i));return r.length===1?r[0]:{compositeFilter:{op:aV(n.op),filters:r}}}(t):G()}function cV(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var va=class t{constructor(e,n,r,i,s=X.min(),o=X.min(),c=tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Vm=class{constructor(e){this.ct=e}};function uV(t){let e=rV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dm(e,e.limit,"L"):e}var Vl=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(De(e.integerValue));else if("doubleValue"in e){let r=De(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),fa(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Mn(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(lr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?Fb(e)?this.dt(n,Number.MAX_SAFE_INTEGER):kb(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):G()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",c=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(De(c)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),q.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Vl.vt=new Vl;var Um=class{constructor(){this.un=new jm}addToCollectionParentIndex(e,n){return this.un.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Qr.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},jm=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new et(be.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new et(be.comparator)).toArray()}};var zW=new Uint8Array(0);var sn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(41943040,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);var _a=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Bm=class{constructor(){this.changes=new dr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var $m=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var qm=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ha(r.mutation,i,Pt.empty(),qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){let i=zr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ca();return s.forEach((c,u)=>{o=o.insert(c,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=zr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,c)=>{n.set(o,c)})})}computeViews(e,n,r,i){let s=Pn(),o=da(),c=function(){return da()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof hn)?s=s.insert(l.key,l):f!==void 0?(o.set(l.key,f.mutation.getFieldMask()),ha(f.mutation,l,f.mutation.getFieldMask(),qe.now())):o.set(l.key,Pt.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,f)=>o.set(l,f)),n.forEach((l,f)=>{var p;return c.set(l,new $m(f,(p=o.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=da(),i=new Ae((o,c)=>o-c),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let c of o)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||Pt.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||ce()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let o=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=Kb();f.forEach(m=>{if(!s.has(m)){let I=eC(n.get(m),r.get(m));I!==null&&p.set(m,I),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):P.resolve(zr()),c=-1,u=s;return o.next(l=>P.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(f)?P.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,ce())).next(f=>({batchId:c,changes:Wb(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=ca();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=ca();return this.indexManager.getCollectionParents(e,s).next(c=>P.forEach(c,u=>{let l=function(p,m){return new Jr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let f=l.getKey();o.get(f)===null&&(o=o.insert(f,Ht.newInvalidDocument(f)))});let c=ca();return o.forEach((u,l)=>{let f=s.get(u);f!==void 0&&ha(f.mutation,l,Pt.empty(),qe.now()),ad(n,l)&&(c=c.insert(u,l))}),c})}};var Hm=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return P.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:un(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:uV(i.bundledQuery),readTime:un(i.readTime)}}(n)),P.resolve()}};var zm=class{constructor(){this.overlays=new Ae(q.comparator),this.Ir=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=zr();return P.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=zr(),s=n.length+1,o=new q(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ae((l,f)=>l-f),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=s.get(l.largestBatchId);f===null&&(f=zr(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=zr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return P.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Rm(n,r));let s=this.Ir.get(n);s===void 0&&(s=ce(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var Gm=class{constructor(){this.sessionToken=tt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var Ia=class{constructor(){this.Tr=new et(Oe.Er),this.dr=new et(Oe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Oe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Oe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new q(new be([])),r=new Oe(n,e),i=new Oe(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new q(new be([])),r=new Oe(n,e),i=new Oe(n,e+1),s=ce();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Oe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Oe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return q.comparator(e.key,n.key)||he(e.wr,n.wr)}static Ar(e,n){return he(e.wr,n.wr)||q.comparator(e.key,n.key)}};var Wm=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new et(Oe.Er)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Sm(s,n,r,i);this.mutationQueue.push(o);for(let c of i)this.br=this.br.add(new Oe(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Oe(n,0),i=new Oe(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let c=this.Dr(o.wr);s.push(c)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new et(he);return n.forEach(i=>{let s=new Oe(i,0),o=new Oe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{r=r.add(c.wr)})}),P.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;q.isDocumentKey(s)||(s=s.child(""));let o=new Oe(new q(s),0),c=new et(he);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},o),P.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ye(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return P.forEach(n.mutations,i=>{let s=new Oe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Oe(n,0),i=this.br.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Km=class{constructor(e){this.Mr=e,this.docs=function(){return new Ae(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=Pn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ht.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Pn(),o=n.path,c=new q(o.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||vL(yL(f),r)<=0||(i.has(f.key)||ad(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,n,r,i){G()}Or(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Qm(this)}getSize(e){return P.resolve(this.size)}},Qm=class extends Bm{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Ym=class{constructor(e){this.persistence=e,this.Nr=new dr(n=>Ly(n),Vy),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ia,this.targetCount=0,this.kr=_a.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),P.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new _a(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Kn(n),P.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Br.containsKey(n))}};var Jm=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new xb(0),this.Kr=!1,this.Kr=!0,this.$r=new Gm,this.referenceDelegate=e(this),this.Ur=new Ym(this),this.indexManager=new Um,this.remoteDocumentCache=function(i){return new Km(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Vm(n),this.Gr=new Hm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Wm(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new Zm(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return P.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Zm=class extends um{constructor(e){super(),this.currentSequenceNumber=e}},Xm=class t{constructor(e){this.persistence=e,this.Jr=new Ia,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw G()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,r=>{let i=q.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,X.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return P.or([()=>P.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var ey=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ce(),i=ce();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var ty=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var ny=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return gD()?8:IL(_t())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new ty;return this.Xi(e,n,o).next(c=>{if(s.result=c,this.zi)return this.es(e,n,o,c.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(aa()<=ae.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",os(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(aa()<=ae.DEBUG&&V("QueryEngine","Query:",os(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(aa()<=ae.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",os(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cn(n))):P.resolve())}Yi(e,n){if(cb(n))return P.resolve(null);let r=cn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Dm(n,null,"F"),r=cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ce(...s);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,c);return this.ns(n,l,o,u.readTime)?this.Yi(e,Dm(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return cb(n)||i.isEqual(X.min())?P.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?P.resolve(null):(aa()<=ae.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),os(n)),this.rs(e,o,n,mL(i,-1)).next(c=>c))})}ts(e,n){let r=new et(zb(e));return n.forEach((i,s)=>{ad(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return aa()<=ae.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",os(n)),this.Ji.getDocumentsMatchingQuery(e,n,Qr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var ry=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ae(he),this._s=new dr(s=>Ly(s),Vy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qm(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function lV(t,e,n,r){return new ry(t,e,n,r)}function lC(t,e){return C(this,null,function*(){let n=Q(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],c=[],u=ce();for(let l of i){o.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of s){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:c}))})})})}function dV(t,e){let n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,f){let p=l.batch,m=p.keys(),I=P.resolve();return m.forEach(S=>{I=I.next(()=>f.getEntry(u,S)).next(R=>{let N=l.docVersions.get(S);ye(N!==null),R.version.compareTo(N)<0&&(p.applyToRemoteDocument(R,l),R.isValidDocument()&&(R.setReadTime(l.commitVersion),f.addEntry(R)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=ce();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function dC(t){let e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function hV(t,e){let n=Q(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let c=[];e.targetChanges.forEach((f,p)=>{let m=i.get(p);if(!m)return;c.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,p)));let I=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?I=I.withResumeToken(tt.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):f.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(f.resumeToken,r)),i=i.insert(p,I),function(R,N,k){return R.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(m,I,f)&&c.push(n.Ur.updateTargetData(s,I))});let u=Pn(),l=ce();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),c.push(fV(s,o,e.documentUpdates).next(f=>{u=f.Ps,l=f.Is})),!r.isEqual(X.min())){let f=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));c.push(f)}return P.waitFor(c).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function fV(t,e,n){let r=ce(),i=ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Pn();return n.forEach((c,u)=>{let l=s.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(X.min())?(e.removeEntry(c,u.readTime),o=o.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(c,u)):V("LocalStore","Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function pV(t,e){let n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gV(t,e){let n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,P.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new va(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function iy(t,e,n){return C(this,null,function*(){let r=Q(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Aa(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function _b(t,e,n){let r=Q(t),i=X.min(),s=ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,f){let p=Q(u),m=p._s.get(f);return m!==void 0?P.resolve(p.os.get(m)):p.Ur.getTargetData(l,f)}(r,o,cn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,c.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:X.min(),n?s:ce())).next(c=>(mV(r,ML(e),c),{documents:c,Ts:s})))}function mV(t,e,n){let r=t.us.get(e)||X.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var Ul=class{constructor(){this.activeTargetIds=LL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var sy=class{constructor(){this.so=new Ul,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ul,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var oy=class{_o(e){}shutdown(){}};var jl=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Tl=null;function Zg(){return Tl===null?Tl=function(){return 268435456+Math.round(2147483648*Math.random())}():Tl++,"0x"+Tl.toString(16)}var yV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var ay=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Xe="WebChannelConnection",cy=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let c=Zg(),u=this.xo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(f=>(V("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw hs("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,c){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=yV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=Zg();return new Promise((o,c)=>{let u=new Gg;u.setWithCredentials(!0),u.listenOnce(Wg.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case oa.NO_ERROR:let f=u.getResponseJson();V(Xe,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case oa.TIMEOUT:V(Xe,`RPC '${e}' ${s} timed out`),c(new F(M.DEADLINE_EXCEEDED,"Request time out"));break;case oa.HTTP_ERROR:let p=u.getStatus();if(V(Xe,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let I=m?.error;if(I&&I.status&&I.message){let S=function(N){let k=N.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(k)>=0?k:M.UNKNOWN}(I.status);c(new F(S,I.message))}else c(new F(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new F(M.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{V(Xe,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);V(Xe,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Zg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Yg(),c=Qg(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=s.join("");V(Xe,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=o.createWebChannel(f,u),m=!1,I=!1,S=new ay({Io:N=>{I?V(Xe,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(m||(V(Xe,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),V(Xe,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},To:()=>p.close()}),R=(N,k,W)=>{N.listen(k,L=>{try{W(L)}catch(ne){setTimeout(()=>{throw ne},0)}})};return R(p,ss.EventType.OPEN,()=>{I||(V(Xe,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),R(p,ss.EventType.CLOSE,()=>{I||(I=!0,V(Xe,`RPC '${e}' stream ${i} transport closed`),S.So())}),R(p,ss.EventType.ERROR,N=>{I||(I=!0,hs(Xe,`RPC '${e}' stream ${i} transport errored:`,N),S.So(new F(M.UNAVAILABLE,"The operation could not be completed")))}),R(p,ss.EventType.MESSAGE,N=>{var k;if(!I){let W=N.data[0];ye(!!W);let L=W,ne=L.error||((k=L[0])===null||k===void 0?void 0:k.error);if(ne){V(Xe,`RPC '${e}' stream ${i} received error:`,ne);let Ee=ne.status,Y=function(v){let w=xe[v];if(w!==void 0)return nC(w)}(Ee),E=ne.message;Y===void 0&&(Y=M.INTERNAL,E="Unknown error status: "+Ee+" with message "+ne.message),I=!0,S.So(new F(Y,E)),p.close()}else V(Xe,`RPC '${e}' stream ${i} received:`,W),S.bo(W)}}),R(c,Kg.STAT_EVENT,N=>{N.stat===wl.PROXY?V(Xe,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===wl.NOPROXY&&V(Xe,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function Xg(){return typeof document<"u"?document:null}function cd(t){return new xm(t,!0)}var Bl=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var $l=class{constructor(e,n,r,i,s,o,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Bl(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return C(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return C(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return C(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Nn(n.toString()),Nn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new F(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>C(this,null,function*(){this.state=0,this.start()}))}I_(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},uy=class extends $l{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=ZL(this.serializer,e),r=function(s){if(!("targetChange"in s))return X.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?X.min():o.readTime?un(o.readTime):X.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Lm(this.serializer),n.addTarget=function(s,o){let c,u=o.target;if(c=Em(u)?{documents:tV(s,u)}:{query:nV(s,u)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=rC(s,o.resumeToken);let l=Om(s,o.expectedCount);l!==null&&(c.expectedCount=l)}else if(o.snapshotVersion.compareTo(X.min())>0){c.readTime=Ll(s,o.snapshotVersion.toTimestamp());let l=Om(s,o.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=iV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Lm(this.serializer),n.removeTarget=e,this.a_(n)}},ly=class extends $l{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ye(!!e.streamToken),this.lastStreamToken=e.streamToken,ye(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=eV(e.writeResults,e.commitTime),r=un(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Lm(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>XL(this.serializer,r))};this.a_(n)}};var dy=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new F(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,km(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(M.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,km(n,r),i,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(M.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},hy=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Nn(n),this.D_=!1):V("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var fy=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>C(this,null,function*(){ri(this)&&(V("RemoteStore","Restarting streams for network reachability change."),yield function(u){return C(this,null,function*(){let l=Q(u);l.L_.add(4),yield Ra(l),l.q_.set("Unknown"),l.L_.delete(4),yield ud(l)})}(this))}))}),this.q_=new hy(r,i)}};function ud(t){return C(this,null,function*(){if(ri(t))for(let e of t.B_)yield e(!0)})}function Ra(t){return C(this,null,function*(){for(let e of t.B_)yield e(!1)})}function hC(t,e){let n=Q(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),zy(n)?Hy(n):Cs(n).r_()&&qy(n,e))}function $y(t,e){let n=Q(t),r=Cs(n);n.N_.delete(e),r.r_()&&fC(n,e),n.N_.size===0&&(r.r_()?r.o_():ri(n)&&n.q_.set("Unknown"))}function qy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cs(t).A_(e)}function fC(t,e){t.Q_.xe(e),Cs(t).R_(e)}function Hy(t){t.Q_=new Pm({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Cs(t).start(),t.q_.v_()}function zy(t){return ri(t)&&!Cs(t).n_()&&t.N_.size>0}function ri(t){return Q(t).L_.size===0}function pC(t){t.Q_=void 0}function vV(t){return C(this,null,function*(){t.q_.set("Online")})}function _V(t){return C(this,null,function*(){t.N_.forEach((e,n)=>{qy(t,e)})})}function IV(t,e){return C(this,null,function*(){pC(t),zy(t)?(t.q_.M_(e),Hy(t)):t.q_.set("Unknown")})}function wV(t,e,n){return C(this,null,function*(){if(t.q_.set("Online"),e instanceof kl&&e.state===2&&e.cause)try{yield function(i,s){return C(this,null,function*(){let o=s.cause;for(let c of s.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,o),i.N_.delete(c),i.Q_.removeTarget(c))})}(t,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ql(t,r)}else if(e instanceof ls?t.Q_.Ke(e):e instanceof Ol?t.Q_.He(e):t.Q_.We(e),!n.isEqual(X.min()))try{let r=yield dC(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let c=s.Q_.rt(o);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=s.N_.get(l);f&&s.N_.set(l,f.withResumeToken(u.resumeToken,o))}}),c.targetMismatches.forEach((u,l)=>{let f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(tt.EMPTY_BYTE_STRING,f.snapshotVersion)),fC(s,u);let p=new va(f.target,u,l,f.sequenceNumber);qy(s,p)}),s.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){V("RemoteStore","Failed to raise snapshot:",r),yield ql(t,r)}})}function ql(t,e,n){return C(this,null,function*(){if(!Aa(e))throw e;t.L_.add(1),yield Ra(t),t.q_.set("Offline"),n||(n=()=>dC(t.localStore)),t.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){V("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield ud(t)}))})}function gC(t,e){return e().catch(n=>ql(t,n,e))}function ld(t){return C(this,null,function*(){let e=Q(t),n=hr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;EV(e);)try{let i=yield pV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,TV(e,i)}catch(i){yield ql(e,i)}mC(e)&&yC(e)})}function EV(t){return ri(t)&&t.O_.length<10}function TV(t,e){t.O_.push(e);let n=hr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function mC(t){return ri(t)&&!hr(t).n_()&&t.O_.length>0}function yC(t){hr(t).start()}function DV(t){return C(this,null,function*(){hr(t).p_()})}function bV(t){return C(this,null,function*(){let e=hr(t);for(let n of t.O_)e.m_(n.mutations)})}function CV(t,e,n){return C(this,null,function*(){let r=t.O_.shift(),i=Am.from(r,e,n);yield gC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield ld(t)})}function SV(t,e){return C(this,null,function*(){e&&hr(t).V_&&(yield function(r,i){return C(this,null,function*(){if(function(o){return HL(o)&&o!==M.ABORTED}(i.code)){let s=r.O_.shift();hr(r).s_(),yield gC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield ld(r)}})}(t,e)),mC(t)&&yC(t)})}function Ib(t,e){return C(this,null,function*(){let n=Q(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");let r=ri(n);n.L_.add(3),yield Ra(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield ud(n)})}function AV(t,e){return C(this,null,function*(){let n=Q(t);e?(n.L_.delete(2),yield ud(n)):e||(n.L_.add(2),yield Ra(n),n.q_.set("Unknown"))})}function Cs(t){return t.K_||(t.K_=function(n,r,i){let s=Q(n);return s.w_(),new uy(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:vV.bind(null,t),Ro:_V.bind(null,t),mo:IV.bind(null,t),d_:wV.bind(null,t)}),t.B_.push(e=>C(this,null,function*(){e?(t.K_.s_(),zy(t)?Hy(t):t.q_.set("Unknown")):(yield t.K_.stop(),pC(t))}))),t.K_}function hr(t){return t.U_||(t.U_=function(n,r,i){let s=Q(n);return s.w_(),new ly(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:DV.bind(null,t),mo:SV.bind(null,t),f_:bV.bind(null,t),g_:CV.bind(null,t)}),t.B_.push(e=>C(this,null,function*(){e?(t.U_.s_(),yield ld(t)):(yield t.U_.stop(),t.O_.length>0&&(V("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var py=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new on,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,c=new t(e,n,o,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Gy(t,e){if(Nn("AsyncQueue",`${e}: ${t}`),Aa(t))return new F(M.UNAVAILABLE,`${e}: ${t}`);throw t}var Hl=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=ca(),this.sortedSet=new Ae(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var zl=class{constructor(){this.W_=new Ae(q.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):G():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},Es=class t{constructor(e,n,r,i,s,o,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(c=>{o.push({type:0,doc:c})}),new t(e,n,Hl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&od(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var gy=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},my=class{constructor(){this.queries=wb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Q(n),s=i.queries;i.queries=wb(),s.forEach((o,c)=>{for(let u of c.j_)u.onError(r)})})(this,new F(M.ABORTED,"Firestore shutting down"))}};function wb(){return new dr(t=>Hb(t),od)}function vC(t,e){return C(this,null,function*(){let n=Q(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new gy,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let c=Gy(o,`Initialization of query '${os(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Wy(n)})}function _C(t,e){return C(this,null,function*(){let n=Q(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function RV(t,e){let n=Q(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let c of o.j_)c.X_(i)&&(r=!0);o.z_=i}}r&&Wy(n)}function NV(t,e,n){let r=Q(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function Wy(t){t.Y_.forEach(e=>{e.next()})}var yy,Eb;(Eb=yy||(yy={})).ea="default",Eb.Cache="cache";var Gl=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Es(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Es.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==yy.Cache}};var Wl=class{constructor(e){this.key=e}},Kl=class{constructor(e){this.key=e}},vy=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ce(),this.mutatedKeys=ce(),this.Aa=zb(e),this.Ra=new Hl(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new zl,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let m=i.get(f),I=ad(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),R=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),N=!1;m&&I?m.data.isEqual(I.data)?S!==R&&(r.track({type:3,doc:I}),N=!0):this.ga(m,I)||(r.track({type:2,doc:I}),N=!0,(u&&this.Aa(I,u)>0||l&&this.Aa(I,l)<0)&&(c=!0)):!m&&I?(r.track({type:0,doc:I}),N=!0):m&&!I&&(r.track({type:1,doc:m}),N=!0,(u||l)&&(c=!0)),N&&(I?(o=o.add(I),s=R?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:c,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((f,p)=>function(I,S){let R=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return R(I)-R(S)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;let c=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new Es(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new zl,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ce(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Kl(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Wl(r))}),n}ba(e){this.Ta=e.Ts,this.da=ce();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Es.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},_y=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Iy=class{constructor(e){this.key=e,this.va=!1}},wy=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new dr(c=>Hb(c),od),this.Ma=new Map,this.xa=new Set,this.Oa=new Ae(q.comparator),this.Na=new Map,this.La=new Ia,this.Ba={},this.ka=new Map,this.qa=_a.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function MV(t,e,n=!0){return C(this,null,function*(){let r=bC(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield IC(r,e,n,!0),i})}function PV(t,e){return C(this,null,function*(){let n=bC(t);yield IC(n,e,!0,!1)})}function IC(t,e,n,r){return C(this,null,function*(){let i=yield gV(t.localStore,cn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),c;return r&&(c=yield xV(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&hC(t.remoteStore,i),c})}function xV(t,e,n,r,i){return C(this,null,function*(){t.Ka=(p,m,I)=>function(R,N,k,W){return C(this,null,function*(){let L=N.view.ma(k);L.ns&&(L=yield _b(R.localStore,N.query,!1).then(({documents:E})=>N.view.ma(E,L)));let ne=W&&W.targetChanges.get(N.targetId),Ee=W&&W.targetMismatches.get(N.targetId)!=null,Y=N.view.applyChanges(L,R.isPrimaryClient,ne,Ee);return Db(R,N.targetId,Y.wa),Y.snapshot})}(t,p,m,I);let s=yield _b(t.localStore,e,!0),o=new vy(e,s.Ts),c=o.ma(s.documents),u=ya.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(c,t.isPrimaryClient,u);Db(t,n,l.wa);let f=new _y(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function OV(t,e,n){return C(this,null,function*(){let r=Q(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!od(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield iy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&$y(r.remoteStore,i.targetId),Ey(r,i.targetId)}).catch(Sa))):(Ey(r,i.targetId),yield iy(r.localStore,i.targetId,!0))})}function kV(t,e){return C(this,null,function*(){let n=Q(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$y(n.remoteStore,r.targetId))})}function FV(t,e,n){return C(this,null,function*(){let r=qV(t);try{let i=yield function(o,c){let u=Q(o),l=qe.now(),f=c.reduce((I,S)=>I.add(S.key),ce()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let S=Pn(),R=ce();return u.cs.getEntries(I,f).next(N=>{S=N,S.forEach((k,W)=>{W.isValidDocument()||(R=R.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,S)).next(N=>{p=N;let k=[];for(let W of c){let L=qL(W,p.get(W.key).overlayedDocument);L!=null&&k.push(new hn(W.key,L,Lb(L.value.mapValue),Rn.exists(!0)))}return u.mutationQueue.addMutationBatch(I,l,k,c)}).next(N=>{m=N;let k=N.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(I,N.batchId,k)})}).then(()=>({batchId:m.batchId,changes:Wb(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Ae(he)),l=l.insert(c,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Na(r,i.changes),yield ld(r.remoteStore)}catch(i){let s=Gy(i,"Failed to persist write");n.reject(s)}})}function wC(t,e){return C(this,null,function*(){let n=Q(t);try{let r=yield hV(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ye(o.va):i.removedDocuments.size>0&&(ye(o.va),o.va=!1))}),yield Na(n,r,e)}catch(r){yield Sa(r)}})}function Tb(t,e,n){let r=Q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let c=o.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(o,c){let u=Q(o);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let m of p.j_)m.Z_(c)&&(l=!0)}),l&&Wy(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function LV(t,e,n){return C(this,null,function*(){let r=Q(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ae(q.comparator);o=o.insert(s,Ht.newNoDocument(s,X.min()));let c=ce().add(s),u=new xl(X.min(),new Map,new Ae(he),o,c);yield wC(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),Ky(r)}else yield iy(r.localStore,e,!1).then(()=>Ey(r,e,n)).catch(Sa)})}function VV(t,e){return C(this,null,function*(){let n=Q(t),r=e.batch.batchId;try{let i=yield dV(n.localStore,e);TC(n,r,null),EC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Na(n,i)}catch(i){yield Sa(i)}})}function UV(t,e,n){return C(this,null,function*(){let r=Q(t);try{let i=yield function(o,c){let u=Q(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(ye(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);TC(r,e,n),EC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Na(r,i)}catch(i){yield Sa(i)}})}function EC(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function TC(t,e,n){let r=Q(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Ey(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||DC(t,r)})}function DC(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&($y(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Ky(t))}function Db(t,e,n){for(let r of n)r instanceof Wl?(t.La.addReference(r.key,e),jV(t,r)):r instanceof Kl?(V("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||DC(t,r.key)):G()}function jV(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(V("SyncEngine","New document in limbo: "+n),t.xa.add(r),Ky(t))}function Ky(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new q(be.fromString(e)),r=t.qa.next();t.Na.set(r,new Iy(n)),t.Oa=t.Oa.insert(n,r),hC(t.remoteStore,new va(cn(Uy(n.path)),r,"TargetPurposeLimboResolution",xb.oe))}}function Na(t,e,n){return C(this,null,function*(){let r=Q(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{o.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=ey.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return C(this,null,function*(){let f=Q(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.$i,I=>f.persistence.referenceDelegate.addReference(p,m.targetId,I)).next(()=>P.forEach(m.Ui,I=>f.persistence.referenceDelegate.removeReference(p,m.targetId,I)))))}catch(p){if(!Aa(p))throw p;V("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let I=f.os.get(m),S=I.snapshotVersion,R=I.withLastLimboFreeSnapshotVersion(S);f.os=f.os.insert(m,R)}}})}(r.localStore,s))})}function BV(t,e){return C(this,null,function*(){let n=Q(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());let r=yield lC(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(c=>{c.forEach(u=>{u.reject(new F(M.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Na(n,r.hs)}})}function $V(t,e){let n=Q(t),r=n.Na.get(e);if(r&&r.va)return ce().add(r.key);{let i=ce(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let c=n.Fa.get(o);i=i.unionWith(c.view.Va)}return i}}function bC(t){let e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$V.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LV.bind(null,e),e.Ca.d_=RV.bind(null,e.eventManager),e.Ca.$a=NV.bind(null,e.eventManager),e}function qV(t){let e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UV.bind(null,e),e}var bb=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return C(this,null,function*(){this.serializer=cd(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return lV(this.persistence,new ny,n.initialUser,this.serializer)}Ga(n){return new Jm(Xm.Zr,this.serializer)}Wa(n){return new sy}terminate(){return C(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var HV=(()=>{class t{initialize(n,r){return C(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Tb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=BV.bind(null,this.syncEngine),yield AV(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new my}()}createDatastore(n){let r=cd(n.databaseInfo.databaseId),i=function(o){return new cy(o)}(n.databaseInfo);return function(o,c,u,l){return new dy(o,c,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,c,u){return new fy(i,s,o,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>Tb(this.syncEngine,r,0),function(){return jl.D()?new jl:new oy}())}createSyncEngine(n,r){return function(s,o,c,u,l,f,p){let m=new wy(s,o,c,u,l,f);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return C(this,null,function*(){var n,r;yield function(s){return C(this,null,function*(){let o=Q(s);V("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Ra(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Ql=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Nn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Ty=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ve.UNAUTHENTICATED,this.clientId=Sl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>C(this,null,function*(){V("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(V("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new on;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Gy(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function em(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>C(this,null,function*(){r.isEqual(i)||(yield lC(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Cb(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield zV(t);V("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ib(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Ib(e.remoteStore,i)),t._onlineComponents=e})}function zV(t){return C(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield em(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;hs("Error using user provided cache. Falling back to memory cache: "+n),yield em(t,new bb)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield em(t,new bb);return t._offlineComponents})}function CC(t){return C(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield Cb(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield Cb(t,new HV))),t._onlineComponents})}function GV(t){return CC(t).then(e=>e.syncEngine)}function Dy(t){return C(this,null,function*(){let e=yield CC(t),n=e.eventManager;return n.onListen=MV.bind(null,e.syncEngine),n.onUnlisten=OV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=PV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kV.bind(null,e.syncEngine),n})}function WV(t,e,n={}){let r=new on;return t.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(s,o,c,u,l){let f=new Ql({next:m=>{f.Za(),o.enqueueAndForget(()=>_C(s,p)),m.fromCache&&u.source==="server"?l.reject(new F(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Gl(c,f,{includeMetadataChanges:!0,_a:!0});return vC(s,p)}(yield Dy(t),t.asyncQueue,e,n,r)})),r.promise}function SC(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Sb=new Map;function AC(t,e,n){if(!n)throw new F(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KV(t,e,n,r){if(e===!0&&r===!0)throw new F(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ab(t){if(!q.isDocumentKey(t))throw new F(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Rb(t){if(q.isDocumentKey(t))throw new F(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":G()}function ln(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=dd(t);throw new F(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Yl=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new F(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new F(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ts=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yl({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new F(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yl(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tm;switch(r.type){case"firstParty":return new sm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Sb.get(n);r&&(V("ComponentProvider","Removing Datastore"),Sb.delete(n),r.terminate())}(this),Promise.resolve()}};function RC(t,e,n,r={}){var i;let s=(t=ln(t,Ts))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Ve.MOCK_USER;else{c=lD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new F(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ve(l)}t._authCredentials=new nm(new Cl(c,u))}}var ti=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},dt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ur=class t extends ti{constructor(e,n,r){super(e,n,Uy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function NC(t,e,...n){if(t=Ze(t),AC("collection","path",e),t instanceof Ts){let r=be.fromString(e,...n);return Rb(r),new ur(t,null,r)}{if(!(t instanceof dt||t instanceof ur))throw new F(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(be.fromString(e,...n));return Rb(r),new ur(t.firestore,null,r)}}function Qy(t,e,...n){if(t=Ze(t),arguments.length===1&&(e=Sl.newId()),AC("doc","path",e),t instanceof Ts){let r=be.fromString(e,...n);return Ab(r),new dt(t,null,new q(r))}{if(!(t instanceof dt||t instanceof ur))throw new F(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(be.fromString(e,...n));return Ab(r),new dt(t.firestore,t instanceof ur?t.converter:null,new q(r))}}var Jl=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Bl(this,"async_queue_retry"),this.Vu=()=>{let r=Xg();r&&V("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=Xg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=Xg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new on;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return C(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Aa(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw Nn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=py.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&G()}verifyOperationInProgress(){}wu(){return C(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function Nb(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var xn=class extends Ts{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Jl,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Jl(e),this._firestoreClient=void 0,yield e}})}};function MC(t,e){let n=typeof t=="object"?t:Yo(),r=typeof t=="string"?t:e||"(default)",i=Cg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=cD("firestore");s&&RC(i,...s)}return i}function Yy(t){if(t._terminated)throw new F(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||QV(t),t._firestoreClient}function QV(t){var e,n,r;let i=t._freezeSettings(),s=function(c,u,l,f){return new lm(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,SC(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Ty(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var wa=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(tt.fromBase64String(e))}catch(n){throw new F(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ds=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ea=class{constructor(e){this._methodName=e}};var Ta=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}};var Da=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var YV=/^__.*__$/,by=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hn(e,this.data,this.fieldMask,n,this.fieldTransforms):new ei(e,this.data,n,this.fieldTransforms)}},Zl=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function PC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}var Cy=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ed(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(PC(this.Cu)&&YV.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Sy=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cd(e)}Qu(e,n,r,i=!1){return new Cy({Cu:e,methodName:n,qu:r,path:wt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Jy(t){let e=t._freezeSettings(),n=cd(t._databaseId);return new Sy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JV(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Zy("Data must be an object, but it was:",o,r);let c=xC(r,o),u,l;if(s.merge)u=new Pt(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let p of s.mergeFields){let m=Ay(e,p,n);if(!o.contains(m))throw new F(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);kC(f,m)||f.push(m)}u=new Pt(f),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new by(new It(c),u,l)}var Xl=class t extends Ea{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function ZV(t,e,n,r){let i=t.Qu(1,e,n);Zy("Data must be an object, but it was:",i,r);let s=[],o=It.empty();ni(r,(u,l)=>{let f=Xy(e,u,n);l=Ze(l);let p=i.Nu(f);if(l instanceof Xl)s.push(f);else{let m=Ma(l,p);m!=null&&(s.push(f),o.set(f,m))}});let c=new Pt(s);return new Zl(o,c,i.fieldTransforms)}function XV(t,e,n,r,i,s){let o=t.Qu(1,e,n),c=[Ay(e,r,n)],u=[i];if(s.length%2!=0)throw new F(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)c.push(Ay(e,s[m])),u.push(s[m+1]);let l=[],f=It.empty();for(let m=c.length-1;m>=0;--m)if(!kC(l,c[m])){let I=c[m],S=u[m];S=Ze(S);let R=o.Nu(I);if(S instanceof Xl)l.push(I);else{let N=Ma(S,R);N!=null&&(l.push(I),f.set(I,N))}}let p=new Pt(l);return new Zl(f,p,o.fieldTransforms)}function eU(t,e,n,r=!1){return Ma(n,t.Qu(r?4:3,e))}function Ma(t,e){if(OC(t=Ze(t)))return Zy("Unsupported field value:",e,t),xC(t,e);if(t instanceof Ea)return function(r,i){if(!PC(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let c of r){let u=Ma(c,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=qe.fromDate(r);return{timestampValue:Ll(i.serializer,s)}}if(r instanceof qe){let s=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ll(i.serializer,s)}}if(r instanceof Ta)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wa)return{bytesValue:rC(i.serializer,r._byteString)};if(r instanceof dt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:By(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Da)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return jy(c.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${dd(r)}`)}(t,e)}function xC(t,e){let n={};return Ob(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ni(t,(r,i)=>{let s=Ma(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function OC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof Ta||t instanceof wa||t instanceof dt||t instanceof Ea||t instanceof Da)}function Zy(t,e,n){if(!OC(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=dd(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Ay(t,e,n){if((e=Ze(e))instanceof Ds)return e._internalPath;if(typeof e=="string")return Xy(t,e);throw ed("Field path arguments must be of type string or ",t,!1,void 0,n)}var tU=new RegExp("[~\\*/\\[\\]]");function Xy(t,e,n){if(e.search(tU)>=0)throw ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ds(...e.split("."))._internalPath}catch{throw ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ed(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new F(M.INVALID_ARGUMENT,c+t+u)}function kC(t,e){return t.some(n=>n.isEqual(e))}var td=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Ry(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(ev("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Ry=class extends td{data(){return super.data()}};function ev(t,e){return typeof e=="string"?Xy(t,e):e instanceof Ds?e._internalPath:e._delegate._internalPath}function FC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ba=class{},Ny=class extends ba{};function LC(t,e,...n){let r=[];e instanceof ba&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof My).length,c=s.filter(u=>u instanceof nd).length;if(o>1||o>0&&c>0)throw new F(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var nd=class t extends Ny{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return UC(e._query,n),new ti(e.firestore,e.converter,Tm(e._query,n))}_parse(e){let n=Jy(e.firestore);return function(s,o,c,u,l,f,p){let m;if(l.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new F(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Pb(p,f);let I=[];for(let S of p)I.push(Mb(u,s,S));m={arrayValue:{values:I}}}else m=Mb(u,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Pb(p,f),m=eU(c,o,p,f==="in"||f==="not-in");return ke.create(l,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function VC(t,e,n){let r=e,i=ev("where",t);return nd._create(i,r,n)}var My=class t extends ba{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:zt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,c=s.getFlattenedFilters();for(let u of c)UC(o,u),o=Tm(o,u)}(e._query,n),new ti(e.firestore,e.converter,Tm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function Mb(t,e,n){if(typeof(n=Ze(n))=="string"){if(n==="")throw new F(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qb(e)&&n.indexOf("/")!==-1)throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(be.fromString(n));if(!q.isDocumentKey(r))throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nb(t,new q(r))}if(n instanceof dt)return nb(t,n._key);throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dd(n)}.`)}function Pb(t,e){if(!Array.isArray(t)||t.length===0)throw new F(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UC(t,e){let n=function(i,s){for(let o of i)for(let c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new F(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Py=class{convertValue(e,n="none"){switch(Yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return De(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw G()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ni(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>De(o.doubleValue));return new Da(s)}convertGeoPoint(e){return new Ta(De(e.latitude),De(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=ky(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pa(e));default:return null}}convertTimestamp(e){let n=Mn(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=be.fromString(e);ye(uC(r));let i=new Ml(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||Nn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function nU(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Wr=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},rd=class extends td{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ds(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(ev("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ds=class extends rd{data(e={}){return super.data(e)}},id=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ds(this._firestore,this._userDataWriter,r.key,r,new Wr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>{let u=new ds(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Wr(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let u=new ds(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Wr(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:rU(c.type),doc:u,oldIndex:l,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function rU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}var Ca=class extends Py{constructor(e){super(),this.firestore=e}convertBytes(e){return new wa(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}};function jC(t){t=ln(t,ti);let e=ln(t.firestore,xn),n=Yy(e),r=new Ca(e);return FC(t._query),WV(n,t._query).then(i=>new id(e,r,t,i))}function BC(t,e,n,...r){t=ln(t,dt);let i=ln(t.firestore,xn),s=Jy(i),o;return o=typeof(e=Ze(e))=="string"||e instanceof Ds?XV(s,"updateDoc",t._key,e,n,r):ZV(s,"updateDoc",t._key,e),nv(i,[o.toMutation(t._key,Rn.exists(!0))])}function $C(t){return nv(ln(t.firestore,xn),[new ma(t._key,Rn.none())])}function qC(t,e){let n=ln(t.firestore,xn),r=Qy(t),i=nU(t.converter,e);return nv(n,[JV(Jy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Rn.exists(!1))]).then(()=>r)}function tv(t,...e){var n,r,i;t=Ze(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Nb(e[o])||(s=e[o],o++);let c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Nb(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,f;if(t instanceof dt)l=ln(t.firestore,xn),f=Uy(t._key.path),u={next:p=>{e[o]&&e[o](iU(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=ln(t,ti);l=ln(p.firestore,xn),f=p._query;let m=new Ca(l);u={next:I=>{e[o]&&e[o](new id(l,m,p,I))},error:e[o+1],complete:e[o+2]},FC(t._query)}return function(m,I,S,R){let N=new Ql(R),k=new Gl(I,N,S);return m.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return vC(yield Dy(m),k)})),()=>{N.Za(),m.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return _C(yield Dy(m),k)}))}}(Yy(l),f,c,u)}function nv(t,e){return function(r,i){let s=new on;return r.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return FV(yield GV(r),i,s)})),s.promise}(Yy(t),e)}function iU(t,e,n){let r=n.docs.get(e._key),i=new Ca(t);return new rd(t,i,e._key,r,new Wr(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){bs=i})(ns),or(new Mt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),c=new xn(new rm(r.getProvider("auth-internal")),new am(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new F(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Le(ZD,"4.7.3",e),Le(ZD,"4.7.3","esm2017")})();var hd=function(){return hd=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hd.apply(this,arguments)};var aU={includeMetadataChanges:!1};function HC(t,e){return e===void 0&&(e=aU),new re(function(n){var r=tv(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function zC(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:hd(hd({},r),(n={},n[e.idField]=t.id,n))}function GC(t){return HC(t,{includeMetadataChanges:!0}).pipe(Z(function(e){return e.docs}))}function WC(t,e){return e===void 0&&(e={}),GC(t).pipe(Z(function(n){return n.map(function(r){return zC(r,e)})}))}var ii=class{constructor(e){return e}},KC="firestore",rv=class{constructor(){return Zo(KC)}};var iv=new H("angularfire2.firestore-instances");function cU(t,e){let n=Rg(KC,t,e);return n&&new ii(n)}function uU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ii(r)}}var lU={provide:rv,deps:[[new gt,iv]]},dU={provide:ii,useFactory:cU,deps:[[new gt,iv],$r]};function I3(t,...e){return Le("angularfire",is.full,"fst"),Xt([dU,lU,{provide:iv,useFactory:uU(t),multi:!0,deps:[ge,Ct,Xo,ea,[new gt,_l],[new gt,Jo],...e]}])}var sv=lt(WC,!0);var QC=lt(qC,!0);var Ss=lt(NC,!0);var ov=lt($C,!0);var fd=lt(Qy,!0);var av=lt(jC,!0);var w3=lt(MC,!0);var cv=lt(LC,!0);var YC=lt(BC,!0);var uv=lt(VC,!0);var D3=(()=>{class t{constructor(n){this.firestore=n}submitShipment(n,r){return C(this,null,function*(){try{let i=Ss(this.firestore,r);return(yield QC(i,n)).id}catch(i){throw console.error("Error adding shipment:",i),i}})}getAllShipmentDetails(n){let r=n==="Madurai Pandiyas"?"Madurai Pandiyas":"Madurai Pandiyas Elite",i=Ss(this.firestore,r);return sv(i,{idField:"id"})}getAllItemsDetails(n){let r=Ss(this.firestore,n);return sv(r,{idField:"id"})}deleteShipmentById(n,r){let i=fd(this.firestore,n,r);return ov(i)}updateItemPrice(n,r){let i=Ss(this.firestore,"Items"),s=cv(i,uv("itemName","==",n));av(s).then(o=>{o.empty||o.forEach(c=>C(this,null,function*(){let u=fd(this.firestore,"Items",c.id);yield YC(u,{unitPrice:r})}))}).catch(o=>{console.error("Error updating item price:",o)})}deleteItem(n){return C(this,null,function*(){try{let r=Ss(this.firestore,"Items"),i=cv(r,uv("itemName","==",n)),s=yield av(i);s.empty?console.log("No item found with that name."):s.forEach(o=>C(this,null,function*(){let c=fd(this.firestore,"Items",o.id);yield ov(c),console.log(`Deleted item: ${n}`)}))}catch(r){console.error("Error deleting item:",r)}})}static{this.\u0275fac=function(r){return new(r||t)(B(ii))}}static{this.\u0275prov=j({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{Te as a,Z as b,Qs as c,tS as d,$ as e,AI as f,j as g,xr as h,H as i,x as j,Vt as k,iu as l,Or as m,Li as n,uo as o,FH as p,LH as q,VH as r,UH as s,Af as t,ho as u,Ft as v,jH as w,$e as x,yu as y,JN as z,cM as A,Yf as B,IM as C,wM as D,wu as E,Eu as F,po as G,HH as H,Jf as I,zH as J,GH as K,WH as L,jM as M,RE as N,BM as O,$M as P,KH as Q,Tu as R,QH as S,YH as T,JH as U,ZH as V,go as W,Bi as X,Ez as Y,Tz as Z,Dz as _,wP as $,PP as aa,Lz as ba,a4 as ca,qx as da,bn as ea,A4 as fa,R4 as ga,N4 as ha,wG as ia,EG as ja,I3 as ka,w3 as la,x4 as ma,D3 as na};
