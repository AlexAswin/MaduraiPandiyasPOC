import{Ra as I,Ta as d,Ua as g,Va as D,Wa as P,Xa as i,Ya as l,Za as s,_a as f,ab as h,bb as w,cb as u,db as p,w as y,z as R}from"./chunk-PC2OZJVE.js";import{e as a}from"./chunk-5FZOKLP6.js";var j=(()=>{class c{constructor(e){this.firestore=e}submitShipment(e,t){return a(this,null,function*(){try{let r=i(this.firestore,t);return(yield g(r,e)).id}catch(r){throw console.error("Error adding shipment:",r),r}})}getAllShipmentDetails(e){let t=e==="Madurai Pandiyas"?"Madurai Pandiyas":"Madurai Pandiyas Elite",r=i(this.firestore,t);return d(r,{idField:"id"})}getAllItemsDetails(e){let t=i(this.firestore,e);return d(t,{idField:"id"})}deleteShipmentById(e,t){let r=s(this.firestore,e,t);return l(r)}updateItemPrice(e,t){let r=i(this.firestore,"Items"),n=h(r,p("itemName","==",e));f(n).then(o=>{o.empty||o.forEach(m=>a(this,null,function*(){let q=s(this.firestore,"Items",m.id);yield u(q,{unitPrice:t})}))}).catch(o=>{console.error("Error updating item price:",o)})}deleteItem(e){return a(this,null,function*(){try{let t=i(this.firestore,"Items"),r=h(t,p("itemName","==",e)),n=yield f(r);n.empty?console.log("No item found with that name."):n.forEach(o=>a(this,null,function*(){let m=s(this.firestore,"Items",o.id);yield l(m),console.log(`Deleted item: ${e}`)}))}catch(t){console.error("Error deleting item:",t)}})}submitItemRequest(e,t){let r=s(this.firestore,"Purchase List",t);return w(r,{items:P(...e.items),RequestedOn:e.RequestedOn},{merge:!0})}getPurchaseItems(e){let t=i(this.firestore,e);return d(t,{idField:"id"})}deletePurchasedItems(e,t){let r=s(this.firestore,"Purchase List",e);return u(r,{items:D(...t)})}static{this.\u0275fac=function(t){return new(t||c)(R(I))}}static{this.\u0275prov=y({token:c,factory:c.\u0275fac,providedIn:"root"})}}return c})();export{j as a};
